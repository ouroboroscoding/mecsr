{"version":3,"sources":["3rd/jquery.ajax.js","generic/tools.js","generic/events.js","generic/cookies.js","generic/rest.js","components/composites/Alerts.js","components/composites/Loader.js","utils.js","components/composites/Header.js","generic/hash.js","components/composites/Signin.js","components/pages/customer/DoseSpot.js","components/pages/customer/KNK.js","components/pages/customer/MIP.js","components/pages/customer/Notes.js","generic/clipboard.js","components/pages/customer/SMS.js","components/pages/Customer.js","components/composites/MsgSummary.js","components/pages/Search.js","components/format/Node.js","components/format/Parent.js","components/format/Form.js","components/format/Results.js","components/pages/Templates.js","components/pages/Unclaimed.js","components/Site.js","serviceWorker.js","index.js"],"names":["global","factory","window","this","noGlobal","arr","slice","concat","push","indexOf","class2type","toString","hasOwn","hasOwnProperty","support","document","version","jQuery","selector","context","fn","init","rtrim","rmsPrefix","rdashAlpha","fcamelCase","all","letter","toUpperCase","isArraylike","obj","length","type","isWindow","nodeType","prototype","jquery","constructor","toArray","call","get","num","pushStack","elems","ret","merge","prevObject","each","callback","args","map","elem","i","apply","arguments","first","eq","last","len","j","end","sort","splice","extend","options","name","src","copy","copyIsArray","clone","target","deep","isFunction","isPlainObject","isArray","undefined","expando","Math","random","replace","isReady","error","msg","Error","noop","Array","isNumeric","parseFloat","isEmptyObject","globalEval","code","script","indirect","eval","trim","createElement","text","head","appendChild","parentNode","removeChild","camelCase","string","nodeName","toLowerCase","makeArray","results","Object","inArray","second","grep","invert","matches","callbackExpect","arg","value","guid","proxy","tmp","now","Date","split","selector_hasDuplicate","docElem","documentElement","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","selector_sortOrder","a","b","compare","compareDocumentPosition","contains","find","seed","matchesSelector","querySelectorAll","unique","duplicates","node","textContent","nodeValue","adown","bup","isXMLDoc","ownerDocument","expr","attrHandle","match","bool","needsContext","elements","attr","getAttribute","rneedsContext","rsingleTag","risSimple","winnow","qualifier","not","test","filter","self","is","rootjQuery","rquickExpr","exec","parseHTML","getElementById","ready","rparentsprev","guaranteedUnique","children","contents","next","prev","sibling","cur","dir","until","matched","truncate","n","nextSibling","has","targets","l","closest","selectors","pos","index","prevAll","add","addBack","parent","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","firstChild","contentDocument","childNodes","reverse","readyList","rnotwhite","optionsCache","completed","removeEventListener","Callbacks","object","_","flag","createOptions","memory","fired","firing","firingStart","firingLength","firingIndex","list","stack","once","fire","data","stopOnFalse","shift","disable","start","remove","empty","disabled","lock","locked","fireWith","Deferred","func","tuples","state","promise","always","deferred","done","fail","then","fns","newDefer","tuple","returned","resolve","reject","progress","notify","pipe","stateString","when","subordinate","progressValues","progressContexts","resolveContexts","resolveValues","remaining","updateFunc","contexts","values","notifyWith","resolveWith","readyWait","holdReady","hold","wait","triggerHandler","off","readyState","setTimeout","addEventListener","access","key","chainable","emptyGet","raw","bulk","Data","defineProperty","cache","acceptData","owner","uid","accepts","descriptor","unlock","defineProperties","e","set","prop","stored","camel","hasData","discard","data_priv","data_user","rbrace","rmultiDash","dataAttr","parseJSON","removeData","_data","_removeData","attrs","attributes","camelKey","queue","dequeue","startLength","hooks","_queueHooks","unshift","stop","setter","clearQueue","count","defer","rcheckableType","div","createDocumentFragment","input","setAttribute","checkClone","cloneNode","lastChild","checked","innerHTML","noCloneChecked","defaultValue","focusinBubbles","rkeyEvent","rmouseEvent","rfocusMorph","rtypenamespace","returnTrue","returnFalse","safeActiveElement","activeElement","err","event","types","handler","handleObjIn","eventHandle","events","t","handleObj","special","handlers","namespaces","origType","elemData","handle","triggered","dispatch","delegateType","bindType","namespace","join","delegateCount","setup","mappedTypes","origCount","RegExp","teardown","removeEvent","trigger","onlyHandlers","bubbleType","ontype","eventPath","Event","isTrigger","namespace_re","result","noBubble","defaultView","parentWindow","isPropagationStopped","preventDefault","isDefaultPrevented","_default","pop","fix","handlerQueue","delegateTarget","preDispatch","currentTarget","isImmediatePropagationStopped","stopPropagation","postDispatch","sel","button","props","fixHooks","keyHooks","original","which","charCode","keyCode","mouseHooks","eventDoc","doc","body","pageX","clientX","scrollLeft","clientLeft","pageY","clientY","scrollTop","clientTop","originalEvent","fixHook","load","focus","blur","click","beforeunload","returnValue","simulate","bubble","isSimulated","defaultPrevented","timeStamp","stopImmediatePropagation","mouseenter","mouseleave","pointerenter","pointerleave","orig","related","relatedTarget","attaches","on","one","origFn","rxhtmlTag","rtagName","rhtml","rnoInnerhtml","rchecked","rscriptType","rscriptTypeMasked","rcleanScript","wrapMap","option","thead","col","tr","td","manipulationTarget","content","getElementsByTagName","disableScript","restoreScript","removeAttribute","setGlobalEval","refElements","cloneCopyEvent","dest","pdataOld","pdataCur","udataOld","udataCur","getAll","tag","fixInput","optgroup","tbody","tfoot","colgroup","caption","th","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","buildFragment","scripts","selection","wrap","fragment","nodes","createTextNode","cleanData","append","domManip","prepend","insertBefore","before","after","keepData","html","replaceWith","replaceChild","detach","hasScripts","iNoClone","_evalUrl","appendTo","prependTo","insertAfter","replaceAll","insert","delay","time","fx","speeds","timeout","clearTimeout","select","opt","checkOn","optSelected","selected","optDisabled","radioValue","boolHook","removeAttr","nType","attrHooks","nodeHook","propName","attrNames","propFix","val","source","getter","isXML","rfocusable","removeProp","propHooks","tabIndex","hasAttribute","href","selectedIndex","rclass","addClass","classes","clazz","finalValue","proceed","className","removeClass","toggleClass","stateVal","classNames","hasClass","rreturn","valHooks","max","optionSet","hover","fnOver","fnOut","bind","unbind","delegate","undelegate","nonce","rquery","JSON","parse","parseXML","xml","DOMParser","parseFromString","ajaxLocParts","ajaxLocation","rhash","rts","rheaders","rnoContent","rprotocol","rurl","prefilters","transports","allTypes","location","addToPrefiltersOrTransports","structure","dataTypeExpression","dataType","dataTypes","inspectPrefiltersOrTransports","originalOptions","jqXHR","inspected","seekingTransport","inspect","prefilterOrFactory","dataTypeOrTransport","ajaxExtend","flatOptions","ajaxSettings","active","lastModified","etag","url","isLocal","processData","async","contentType","json","responseFields","converters","String","ajaxSetup","settings","ajaxPrefilter","ajaxTransport","ajax","transport","cacheURL","responseHeadersString","responseHeaders","timeoutTimer","parts","fireGlobals","s","callbackContext","globalEventContext","completeDeferred","statusCode","requestHeaders","requestHeadersNames","strAbort","getResponseHeader","getAllResponseHeaders","setRequestHeader","lname","overrideMimeType","mimeType","status","abort","statusText","finalText","complete","success","method","crossDomain","param","traditional","hasContent","ifModified","headers","beforeSend","send","nativeStatusText","responses","isSuccess","response","modified","ct","finalDataType","firstDataType","ajaxHandleResponses","conv2","current","conv","dataFilter","ajaxConvert","rejectWith","getJSON","getScript","r20","rbracket","rCRLF","rsubmitterTypes","rsubmittable","buildParams","prefix","v","encodeURIComponent","serialize","serializeArray","xhr","XMLHttpRequest","xhrId","xhrCallbacks","xhrSuccessStatus","0","1223","xhrSupported","ActiveXObject","cors","id","open","username","password","xhrFields","onload","onerror","responseText","charset","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","keepScripts","parsed","_load","params","_jQuery","_$","$","noConflict","module","exports","w","afindi","k","afindo","o","isObject","v1","v2","keys","m","p","isDecimal","isInteger","omap","ucfirst","charAt","uuidv4","c","crypto","getRandomValues","Uint8Array","_callbacks","console","default_","oCookies","lCookies","cookie","decodeURIComponent","domain","path","expires","d","setTime","getTime","toGMTString","_domain","_error","_before","_after","clear","localStorage","Cookies","hostname","request","oConfig","_url","res","stringify","session","create","service","noun","delete","read","token","store","update","LibraryWritersAreOftenIdiots","popup","warning","Events","enqueueSnackbar","variant","React","Component","withSnackbar","_count","Loader","visible","show","setState","alt","style","display","LoaderHide","rePhone","date","ts","Y","getFullYear","M","getMonth","D","getDate","datetime","getHours","getMinutes","getSeconds","errorTree","errors","oRet","includes","lField","nicePhone","lMatch","restError","safeLocalStorage","getItem","Header","clientWidth","pathname","user","claimedAdd","claimedRemove","menuClose","menuItem","menuToggle","resize","signedIn","signedOut","signout","clearInterval","iNewMessages","number","Rest","phoneNumber","Utils","lClaimed","Tools","claimed","newMsgs","customerName","customerPhone","sNumber","dataset","iIndex","menu","mobile","numbers","log","bSetState","drawer","List","padding","to","onClick","ListItem","ListItemIcon","ListItemText","primary","Divider","data-number","ListItemAvatar","Avatar","backgroundColor","secondary","AppBar","position","Toolbar","IconButton","edge","color","aria-label","Typography","Button","Drawer","anchor","onClose","claimedFetch","setInterval","newMessages","ev","serviceError","require","nameRE","watches","hash","_hashChanged","old","_parseHash","f","regex","field","substring","temp","unwatch","watch","Signin","Hash","fields","signin","firstName","Dialog","disableBackdropClick","disableEscapeKeyDown","maxWidth","aria-labelledby","DialogTitle","form","Fragment","DialogContent","dividers","TextField","userName","helperText","inputRef","el","label","passwd","DialogActions","fetchUser","DoseSpot","prescriptions","Paper","PharmacyName","PrescriberName","DisplayName","Quantity","WrittenDate","EffectiveDate","Refills","Directions","EnToTxt","KNK","customer","TableContainer","component","Table","stickyHeader","TableHead","TableRow","TableCell","TableBody","campaign","email","phone","created","updated","billing","lastName","address1","address2","city","country","postalCode","shipping","notes","agentName","dateCreated","message","tracking","link","orders","encounter","totalAmount","couponCode","items","oI","iI","description","price","QuestionMultiple","answer","clicked","parseInt","FormGroup","FormControlLabel","control","Checkbox","inputProps","onChange","QuestionOptions","refField","useRef","Select","native","ref","multiline","rows","Box","onCancel","onSave","Question","useState","edit","editSet","answerSet","editToggle","useEffect","question","title","Tooltip","landing_id","landing","MIP","mip","questions","Notes","createdBy","createdAt","action","note","navigator","clipboard","writeText","Promise","oEl","top","left","bRes","mErr","execCommand","regTplVar","Message","direction","SMS","messages","messagesBottom","sendEl","callPhone","copyPhone","scrollToBottom","textPress","useTemplate","fetch","alert","Clipboard","fromName","templates","onKeyPress","size","scrollIntoView","behavior","sContent","matchAll","sReplacement","Customer","customer_id","patient_id","sms_tpls","tab","smsRef","newMessage","tabChange","fetchCustomerId","fetchSMSTemplates","fetchKnkCustomer","fetchMip","fetchNotes","fetchPatientId","fetchShipping","fetchOrders","customerId","transactions","fetchPrescriptions","dsClinicianId","clinician","clinician_id","Tabs","Tab","reReceived","reSent","from","MsgSummary","numberOfOrders","Grid","container","spacing","item","xs","sm","onHide","claimedAt","claimedBy","totalIncoming","totalOutGoing","lastMsg","Search","records","contentChange","nameChange","phoneChange","search","oParams","md","InputLabelProps","shrink","NodeBase","keyPressed","onEnter","NodeBool","change","NodeDate","validation","valid","NodeDatetime","newDatetime","NodeHidden","minmax","minimum","min","maximum","NodeNumber","NodePassword","NodeSelect","lDisplayOptions","lOpts","FormControl","InputLabel","NativeSelect","FormHelperText","NodeText","NodeTextArea","NodeTime","newTime","NodeComponent","oReact","defaultType","sType","ElName","defaultProps","ParentComponent","generateState","lElements","lOrder","oChild","class","lg","bValid","order","oNode","validation_failures","newVal","FormComponent","tree","_name","oValues","submit","cancel","PaginationActionsComponent","flexShrink","onChangePage","page","ceil","rowsPerPage","ResultsRowComponent","actions","info","copyKey","lCells","align","tooltip","icon","data-index","colSpan","onEdit","ResultsComponent","titles","orderBy","exportCsv","orderChange","pageChange","perPageChange","recordChanged","recordRemoved","prevProps","lHeader","csvStringifier","createObjectCsvStringifier","csv","encodeURI","getHeaderString","stringifyRecords","toISOString","sortData","setItem","sortDirection","TableSortLabel","data-key","row","TableFooter","TablePagination","onChangeRowsPerPage","rowsPerPageOptions","ActionsComponent","SelectProps","record","TemplateSMSTree","Tree","TemplateSMSDef","GenericTemplates","templatesSet","createSet","createToggle","1200","1204","createTitle","template","_id","Templates","Unclaimed","filtered","sales","salesNoSent","hide","refresh","supportChanged","salesChanged","salesNoSentChanged","marginRight","bChecked","oState","process","REACT_APP_MEMS_DOMAIN","Site","header","maxSnack","Alerts","Boolean","ReactDOM","render","StrictMode","serviceWorker","registration","unregister","catch"],"mappings":"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","file":"static/js/main.37fb8ac2.chunk.js","sourcesContent":["/* eslint-disable */\n/*!\n * jQuery JavaScript Library v2.1.1 -css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/getStyles,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-dimensions,-offset,-deprecated,-event-alias,-wrap\n * http://jquery.com/\n *\n * Includes Sizzle.js\n * http://sizzlejs.com/\n *\n * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2014-09-28T03:27Z\n */\n\n(function( global, factory ) {\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\t\t// For CommonJS and CommonJS-like environments where a proper window is present,\n\t\t// execute the factory and get jQuery\n\t\t// For environments that do not inherently posses a window with a document\n\t\t// (such as Node.js), expose a jQuery-making factory as module.exports\n\t\t// This accentuates the need for the creation of a real window\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n}(typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Can't do this because several apps including ASP.NET trace\n// the stack via arguments.caller.callee and Firefox dies if\n// you try to trace through \"use strict\" call chains. (#13335)\n// Support: Firefox 18+\n//\n\nvar arr = [];\n\nvar slice = arr.slice;\n\nvar concat = arr.concat;\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar support = {};\n\n\n\nvar\n\t// Use the correct document accordingly with window argument (sandbox)\n\tdocument = window.document,\n\n\tversion = \"2.1.1 -css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/getStyles,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-dimensions,-offset,-deprecated,-event-alias,-wrap\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t},\n\n\t// Support: Android<4.1\n\t// Make sure we trim BOM and NBSP\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\t// Matches dashed string for camelizing\n\trmsPrefix = /^-ms-/,\n\trdashAlpha = /-([\\da-z])/gi,\n\n\t// Used by jQuery.camelCase as callback to replace()\n\tfcamelCase = function( all, letter ) {\n\t\treturn letter.toUpperCase();\n\t};\n\njQuery.fn = jQuery.prototype = {\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// Start with an empty selector\n\tselector: \"\",\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\t\treturn num != null ?\n\n\t\t\t// Return just the one element from the set\n\t\t\t( num < 0 ? this[ num + this.length ] : this[ num ] ) :\n\n\t\t\t// Return all the elements in a clean array\n\t\t\tslice.call( this );\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\t\tret.context = this.context;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\t// (You can seed the arguments with an array of args, but this is\n\t// only used internally.)\n\teach: function( callback, args ) {\n\t\treturn jQuery.each( this, callback, args );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map(this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t}));\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[j] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor(null);\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !jQuery.isFunction(target) ) {\n\t\ttarget = {};\n\t}\n\n\t// extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\t\t// Only deal with non-null/undefined values\n\t\tif ( (options = arguments[ i ]) != null ) {\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tsrc = target[ name ];\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {\n\t\t\t\t\tif ( copyIsArray ) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && jQuery.isArray(src) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject(src) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend({\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\t// See test/unit/core.js for details concerning isFunction.\n\t// Since version 1.3, DOM methods and functions like alert\n\t// aren't supported. They return false on IE (#2968).\n\tisFunction: function( obj ) {\n\t\treturn jQuery.type(obj) === \"function\";\n\t},\n\n\tisArray: Array.isArray,\n\n\tisWindow: function( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t},\n\n\tisNumeric: function( obj ) {\n\t\t// parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\treturn !jQuery.isArray( obj ) && obj - parseFloat( obj ) >= 0;\n\t},\n\n\tisPlainObject: function( obj ) {\n\t\t// Not plain objects:\n\t\t// - Any object or value whose internal [[Class]] property is not \"[object Object]\"\n\t\t// - DOM nodes\n\t\t// - window\n\t\tif ( jQuery.type( obj ) !== \"object\" || obj.nodeType || jQuery.isWindow( obj ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( obj.constructor &&\n\t\t\t\t!hasOwn.call( obj.constructor.prototype, \"isPrototypeOf\" ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// If the function hasn't returned already, we're confident that\n\t\t// |obj| is a plain object, created by {} or constructed with new Object\n\t\treturn true;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\ttype: function( obj ) {\n\t\tif ( obj == null ) {\n\t\t\treturn obj + \"\";\n\t\t}\n\t\t// Support: Android < 4.0, iOS < 6 (functionish RegExp)\n\t\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\t\tclass2type[ toString.call(obj) ] || \"object\" :\n\t\t\ttypeof obj;\n\t},\n\n\t// Evaluates a script in a global context\n\tglobalEval: function( code ) {\n\t\tvar script,\n\t\t\tindirect = eval;\n\n\t\tcode = jQuery.trim( code );\n\n\t\tif ( code ) {\n\t\t\t// If the code includes a valid, prologue position\n\t\t\t// strict mode pragma, execute code by injecting a\n\t\t\t// script tag into the document.\n\t\t\tif ( code.indexOf(\"use strict\") === 1 ) {\n\t\t\t\tscript = document.createElement(\"script\");\n\t\t\t\tscript.text = code;\n\t\t\t\tdocument.head.appendChild( script ).parentNode.removeChild( script );\n\t\t\t} else {\n\t\t\t// Otherwise, avoid the DOM node creation, insertion\n\t\t\t// and removal by using an indirect global eval\n\t\t\t\tindirect( code );\n\t\t\t}\n\t\t}\n\t},\n\n\t// Convert dashed to camelCase; used by the css and data modules\n\t// Microsoft forgot to hump their vendor prefix (#9572)\n\tcamelCase: function( string ) {\n\t\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n\t},\n\n\tnodeName: function( elem, name ) {\n\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\t},\n\n\t// args is for internal usage only\n\teach: function( obj, callback, args ) {\n\t\tvar value,\n\t\t\ti = 0,\n\t\t\tlength = obj.length,\n\t\t\tisArray = isArraylike( obj );\n\n\t\tif ( args ) {\n\t\t\tif ( isArray ) {\n\t\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\t\tvalue = callback.apply( obj[ i ], args );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( i in obj ) {\n\t\t\t\t\tvalue = callback.apply( obj[ i ], args );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// A special, fast, case for the most common use of each\n\t\t} else {\n\t\t\tif ( isArray ) {\n\t\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\t\tvalue = callback.call( obj[ i ], i, obj[ i ] );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( i in obj ) {\n\t\t\t\t\tvalue = callback.call( obj[ i ], i, obj[ i ] );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Support: Android<4.1\n\ttrim: function( text ) {\n\t\treturn text == null ?\n\t\t\t\"\" :\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArraylike( Object(arr) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar value,\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tisArray = isArraylike( elems ),\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArray ) {\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// Bind a function to a context, optionally partially applying any\n\t// arguments.\n\tproxy: function( fn, context ) {\n\t\tvar tmp, args, proxy;\n\n\t\tif ( typeof context === \"string\" ) {\n\t\t\ttmp = fn[ context ];\n\t\t\tcontext = fn;\n\t\t\tfn = tmp;\n\t\t}\n\n\t\t// Quick check to determine if target is callable, in the spec\n\t\t// this throws a TypeError, but we will just return undefined.\n\t\tif ( !jQuery.isFunction( fn ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Simulated bind\n\t\targs = slice.call( arguments, 2 );\n\t\tproxy = function() {\n\t\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t\t};\n\n\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\t\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\t\treturn proxy;\n\t},\n\n\tnow: Date.now,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n});\n\n// Populate the class2type map\njQuery.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n});\n\nfunction isArraylike( obj ) {\n\tvar length = obj.length,\n\t\ttype = jQuery.type( obj );\n\n\tif ( type === \"function\" || jQuery.isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\tif ( obj.nodeType === 1 && length ) {\n\t\treturn true;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\n\n\n/*\n * Optional (non-Sizzle) selector module for custom builds.\n *\n * Note that this DOES NOT SUPPORT many documented jQuery\n * features in exchange for its smaller size:\n *\n * Attribute not equal selector\n * Positional selectors (:first; :eq(n); :odd; etc.)\n * Type selectors (:input; :checkbox; :button; etc.)\n * State-based selectors (:animated; :visible; :hidden; etc.)\n * :has(selector)\n * :not(complex selector)\n * custom selectors via Sizzle extensions\n * Leading combinators (e.g., $collection.find(\"> *\"))\n * Reliable functionality on XML fragments\n * Requiring all parts of a selector to match elements under context\n *   (e.g., $div.find(\"div > *\") now matches children of $div)\n * Matching against non-elements\n * Reliable sorting of disconnected nodes\n * querySelectorAll bug fixes (e.g., unreliable :focus on WebKit)\n *\n * If any of these are unacceptable tradeoffs, either use Sizzle or\n * customize this stub for the project's specific needs.\n */\n\nvar docElem = window.document.documentElement,\n\tselector_hasDuplicate,\n\tmatches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector,\n\tselector_sortOrder = function( a, b ) {\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\tselector_hasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar compare = b.compareDocumentPosition && a.compareDocumentPosition && a.compareDocumentPosition( b );\n\n\t\tif ( compare ) {\n\t\t\t// Disconnected nodes\n\t\t\tif ( compare & 1 ) {\n\n\t\t\t\t// Choose the first element that is related to our document\n\t\t\t\tif ( a === document || jQuery.contains(document, a) ) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\tif ( b === document || jQuery.contains(document, b) ) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\t// Maintain original order\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\treturn compare & 4 ? -1 : 1;\n\t\t}\n\n\t\t// Not directly comparable, sort on existence of method\n\t\treturn a.compareDocumentPosition ? -1 : 1;\n\t};\n\njQuery.extend({\n\tfind: function( selector, context, results, seed ) {\n\t\tvar elem, nodeType,\n\t\t\ti = 0;\n\n\t\tresults = results || [];\n\t\tcontext = context || document;\n\n\t\t// Same basic safeguard as Sizzle\n\t\tif ( !selector || typeof selector !== \"string\" ) {\n\t\t\treturn results;\n\t\t}\n\n\t\t// Early return if context is not an element or document\n\t\tif ( (nodeType = context.nodeType) !== 1 && nodeType !== 9 ) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\twhile ( (elem = seed[i++]) ) {\n\t\t\t\tif ( jQuery.find.matchesSelector(elem, selector) ) {\n\t\t\t\t\tresults.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tjQuery.merge( results, context.querySelectorAll(selector) );\n\t\t}\n\n\t\treturn results;\n\t},\n\tunique: function( results ) {\n\t\tvar elem,\n\t\t\tduplicates = [],\n\t\t\ti = 0,\n\t\t\tj = 0;\n\n\t\tselector_hasDuplicate = false;\n\t\tresults.sort( selector_sortOrder );\n\n\t\tif ( selector_hasDuplicate ) {\n\t\t\twhile ( (elem = results[i++]) ) {\n\t\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\t\tj = duplicates.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile ( j-- ) {\n\t\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t},\n\ttext: function( elem ) {\n\t\tvar node,\n\t\t\tret = \"\",\n\t\t\ti = 0,\n\t\t\tnodeType = elem.nodeType;\n\n\t\tif ( !nodeType ) {\n\t\t\t// If no nodeType, this is expected to be an array\n\t\t\twhile ( (node = elem[i++]) ) {\n\t\t\t\t// Do not traverse comment nodes\n\t\t\t\tret += jQuery.text( node );\n\t\t\t}\n\t\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t\t// Use textContent for elements\n\t\t\treturn elem.textContent;\n\t\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\t\treturn elem.nodeValue;\n\t\t}\n\t\t// Do not include comment or processing instruction nodes\n\n\t\treturn ret;\n\t},\n\tcontains: function( a, b ) {\n\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\tbup = b && b.parentNode;\n\t\treturn a === bup || !!( bup && bup.nodeType === 1 && adown.contains(bup) );\n\t},\n\tisXMLDoc: function( elem ) {\n\t\treturn (elem.ownerDocument || elem).documentElement.nodeName !== \"HTML\";\n\t},\n\texpr: {\n\t\tattrHandle: {},\n\t\tmatch: {\n\t\t\tbool: /^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,\n\t\t\tneedsContext: /^[\\x20\\t\\r\\n\\f]*[>+~]/\n\t\t}\n\t}\n});\n\njQuery.extend( jQuery.find, {\n\tmatches: function( expr, elements ) {\n\t\treturn jQuery.find( expr, null, null, elements );\n\t},\n\tmatchesSelector: function( elem, expr ) {\n\t\treturn matches.call( elem, expr );\n\t},\n\tattr: function( elem, name ) {\n\t\treturn elem.getAttribute( name );\n\t}\n});\n\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\nvar rsingleTag = (/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/);\n\n\n\nvar risSimple = /^.[^:#\\[\\.,]*$/;\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( jQuery.isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\t/* jshint -W018 */\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t});\n\n\t}\n\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t});\n\n\t}\n\n\tif ( typeof qualifier === \"string\" ) {\n\t\tif ( risSimple.test( qualifier ) ) {\n\t\t\treturn jQuery.filter( qualifier, elements, not );\n\t\t}\n\n\t\tqualifier = jQuery.filter( qualifier, elements );\n\t}\n\n\treturn jQuery.grep( elements, function( elem ) {\n\t\treturn ( indexOf.call( qualifier, elem ) >= 0 ) !== not;\n\t});\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\treturn elems.length === 1 && elem.nodeType === 1 ?\n\t\tjQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :\n\t\tjQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\t\treturn elem.nodeType === 1;\n\t\t}));\n};\n\njQuery.fn.extend({\n\tfind: function( selector ) {\n\t\tvar i,\n\t\t\tlen = this.length,\n\t\t\tret = [],\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter(function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}) );\n\t\t}\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\t// Needed because $( selector, context ) becomes $( context ).find( selector )\n\t\tret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );\n\t\tret.selector = this.selector ? this.selector + \" \" + selector : selector;\n\t\treturn ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow(this, selector || [], false) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow(this, selector || [], true) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n});\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,\n\n\tinit = jQuery.fn.init = function( selector, context ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[0] === \"<\" && selector[ selector.length - 1 ] === \">\" && selector.length >= 3 ) {\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && (match[1] || !context) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[1] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[0] : context;\n\n\t\t\t\t\t// scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[1],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( jQuery.isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[2] );\n\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t\t// nodes that are no longer in the document #6963\n\t\t\t\t\tif ( elem && elem.parentNode ) {\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t\tthis[0] = elem;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.context = document;\n\t\t\t\t\tthis.selector = selector;\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || rootjQuery ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis.context = this[0] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( jQuery.isFunction( selector ) ) {\n\t\t\treturn typeof rootjQuery.ready !== \"undefined\" ?\n\t\t\t\trootjQuery.ready( selector ) :\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\tif ( selector.selector !== undefined ) {\n\t\t\tthis.selector = selector.selector;\n\t\t\tthis.context = selector.context;\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\t// methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.extend({\n\tdir: function( elem, dir, until ) {\n\t\tvar matched = [],\n\t\t\ttruncate = until !== undefined;\n\n\t\twhile ( (elem = elem[ dir ]) && elem.nodeType !== 9 ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tmatched.push( elem );\n\t\t\t}\n\t\t}\n\t\treturn matched;\n\t},\n\n\tsibling: function( n, elem ) {\n\t\tvar matched = [];\n\n\t\tfor ( ; n; n = n.nextSibling ) {\n\t\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\t\tmatched.push( n );\n\t\t\t}\n\t\t}\n\n\t\treturn matched;\n\t}\n});\n\njQuery.fn.extend({\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter(function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[i] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\tpos = rneedsContext.test( selectors ) || typeof selectors !== \"string\" ?\n\t\t\t\tjQuery( selectors, context || this.context ) :\n\t\t\t\t0;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tfor ( cur = this[i]; cur && cur !== context; cur = cur.parentNode ) {\n\t\t\t\t// Always skip document fragments\n\t\t\t\tif ( cur.nodeType < 11 && (pos ?\n\t\t\t\t\tpos.index(cur) > -1 :\n\n\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\tjQuery.find.matchesSelector(cur, selectors)) ) {\n\n\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.unique( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within\n\t// the matched set of elements\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.unique(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter(selector)\n\t\t);\n\t}\n});\n\nfunction sibling( cur, dir ) {\n\twhile ( (cur = cur[dir]) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each({\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn jQuery.dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn jQuery.dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn jQuery.dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn jQuery.sibling( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\treturn elem.contentDocument || jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.unique( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n});\nvar rnotwhite = (/\\S+/g);\n\n\n\n// String to Object options format cache\nvar optionsCache = {};\n\n// Convert String-formatted options into Object-formatted ones and store in cache\nfunction createOptions( options ) {\n\tvar object = optionsCache[ options ] = {};\n\tjQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t});\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\t( optionsCache[ options ] || createOptions( options ) ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Last fire value (for non-forgettable lists)\n\t\tmemory,\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\t\t// Flag to know if list is currently firing\n\t\tfiring,\n\t\t// First callback to fire (used internally by add and fireWith)\n\t\tfiringStart,\n\t\t// End of the loop when firing\n\t\tfiringLength,\n\t\t// Index of currently firing callback (modified by remove if needed)\n\t\tfiringIndex,\n\t\t// Actual callback list\n\t\tlist = [],\n\t\t// Stack of fire calls for repeatable lists\n\t\tstack = !options.once && [],\n\t\t// Fire callbacks\n\t\tfire = function( data ) {\n\t\t\tmemory = options.memory && data;\n\t\t\tfired = true;\n\t\t\tfiringIndex = firingStart || 0;\n\t\t\tfiringStart = 0;\n\t\t\tfiringLength = list.length;\n\t\t\tfiring = true;\n\t\t\tfor ( ; list && firingIndex < firingLength; firingIndex++ ) {\n\t\t\t\tif ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {\n\t\t\t\t\tmemory = false; // To prevent further calls using add\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfiring = false;\n\t\t\tif ( list ) {\n\t\t\t\tif ( stack ) {\n\t\t\t\t\tif ( stack.length ) {\n\t\t\t\t\t\tfire( stack.shift() );\n\t\t\t\t\t}\n\t\t\t\t} else if ( memory ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t} else {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// Actual Callbacks object\n\t\tself = {\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\t// First, we save the current length\n\t\t\t\t\tvar start = list.length;\n\t\t\t\t\t(function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tvar type = jQuery.type( arg );\n\t\t\t\t\t\t\tif ( type === \"function\" ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && type !== \"string\" ) {\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t})( arguments );\n\t\t\t\t\t// Do we need to add the callbacks to the\n\t\t\t\t\t// current firing batch?\n\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\tfiringLength = list.length;\n\t\t\t\t\t// With memory, if we're not firing then\n\t\t\t\t\t// we should call right away\n\t\t\t\t\t} else if ( memory ) {\n\t\t\t\t\t\tfiringStart = start;\n\t\t\t\t\t\tfire( memory );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\t\tvar index;\n\t\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\t\tlist.splice( index, 1 );\n\t\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\t\t\tif ( index <= firingLength ) {\n\t\t\t\t\t\t\t\t\tfiringLength--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ? jQuery.inArray( fn, list ) > -1 : !!( list && list.length );\n\t\t\t},\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tlist = [];\n\t\t\t\tfiringLength = 0;\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Have the list do nothing anymore\n\t\t\tdisable: function() {\n\t\t\t\tlist = stack = memory = undefined;\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it disabled?\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\t\t\t// Lock the list in its current state\n\t\t\tlock: function() {\n\t\t\t\tstack = undefined;\n\t\t\t\tif ( !memory ) {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it locked?\n\t\t\tlocked: function() {\n\t\t\t\treturn !stack;\n\t\t\t},\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( list && ( !fired || stack ) ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\tstack.push( args );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfire( args );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\njQuery.extend({\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\t\t\t\t// action, add listener, listener list, final state\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks(\"once memory\"), \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks(\"once memory\"), \"rejected\" ],\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks(\"memory\") ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\tthen: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\t\t\t\t\treturn jQuery.Deferred(function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\t\t\t\t\tvar fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];\n\t\t\t\t\t\t\t// deferred[ done | fail | progress ] for forwarding actions to newDefer\n\t\t\t\t\t\t\tdeferred[ tuple[1] ](function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject )\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ]( this === promise ? newDefer.promise() : this, fn ? [ returned ] : arguments );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t}).promise();\n\t\t\t\t},\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Keep pipe for back-compat\n\t\tpromise.pipe = promise.then;\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 3 ];\n\n\t\t\t// promise[ done | fail | progress ] = list.add\n\t\t\tpromise[ tuple[1] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(function() {\n\t\t\t\t\t// state = [ resolved | rejected ]\n\t\t\t\t\tstate = stateString;\n\n\t\t\t\t// [ reject_list | resolve_list ].disable; progress_list.lock\n\t\t\t\t}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );\n\t\t\t}\n\n\t\t\t// deferred[ resolve | reject | notify ]\n\t\t\tdeferred[ tuple[0] ] = function() {\n\t\t\t\tdeferred[ tuple[0] + \"With\" ]( this === deferred ? promise : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\tdeferred[ tuple[0] + \"With\" ] = list.fireWith;\n\t\t});\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( subordinate /* , ..., subordinateN */ ) {\n\t\tvar i = 0,\n\t\t\tresolveValues = slice.call( arguments ),\n\t\t\tlength = resolveValues.length,\n\n\t\t\t// the count of uncompleted subordinates\n\t\t\tremaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,\n\n\t\t\t// the master Deferred. If resolveValues consist of only a single Deferred, just use that.\n\t\t\tdeferred = remaining === 1 ? subordinate : jQuery.Deferred(),\n\n\t\t\t// Update function for both resolve and progress values\n\t\t\tupdateFunc = function( i, contexts, values ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tcontexts[ i ] = this;\n\t\t\t\t\tvalues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( values === progressValues ) {\n\t\t\t\t\t\tdeferred.notifyWith( contexts, values );\n\t\t\t\t\t} else if ( !( --remaining ) ) {\n\t\t\t\t\t\tdeferred.resolveWith( contexts, values );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tprogressValues, progressContexts, resolveContexts;\n\n\t\t// add listeners to Deferred subordinates; treat others as resolved\n\t\tif ( length > 1 ) {\n\t\t\tprogressValues = new Array( length );\n\t\t\tprogressContexts = new Array( length );\n\t\t\tresolveContexts = new Array( length );\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {\n\t\t\t\t\tresolveValues[ i ].promise()\n\t\t\t\t\t\t.done( updateFunc( i, resolveContexts, resolveValues ) )\n\t\t\t\t\t\t.fail( deferred.reject )\n\t\t\t\t\t\t.progress( updateFunc( i, progressContexts, progressValues ) );\n\t\t\t\t} else {\n\t\t\t\t\t--remaining;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// if we're not waiting on anything, resolve the master\n\t\tif ( !remaining ) {\n\t\t\tdeferred.resolveWith( resolveContexts, resolveValues );\n\t\t}\n\n\t\treturn deferred.promise();\n\t}\n});\n\n\n// The deferred used on DOM ready\nvar readyList;\n\njQuery.fn.ready = function( fn ) {\n\t// Add the callback\n\tjQuery.ready.promise().done( fn );\n\n\treturn this;\n};\n\njQuery.extend({\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Hold (or release) the ready event\n\tholdReady: function( hold ) {\n\t\tif ( hold ) {\n\t\t\tjQuery.readyWait++;\n\t\t} else {\n\t\t\tjQuery.ready( true );\n\t\t}\n\t},\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\n\t\t// Trigger any bound ready events\n\t\tif ( jQuery.fn.triggerHandler ) {\n\t\t\tjQuery( document ).triggerHandler( \"ready\" );\n\t\t\tjQuery( document ).off( \"ready\" );\n\t\t}\n\t}\n});\n\n/**\n * The ready event handler and self cleanup method\n */\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed, false );\n\twindow.removeEventListener( \"load\", completed, false );\n\tjQuery.ready();\n}\n\njQuery.ready.promise = function( obj ) {\n\tif ( !readyList ) {\n\n\t\treadyList = jQuery.Deferred();\n\n\t\t// Catch cases where $(document).ready() is called after the browser event has already occurred.\n\t\t// we once tried to use readyState \"interactive\" here, but it caused issues like the one\n\t\t// discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15\n\t\tif ( document.readyState === \"complete\" ) {\n\t\t\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\t\t\tsetTimeout( jQuery.ready );\n\n\t\t} else {\n\n\t\t\t// Use the handy event callback\n\t\t\tdocument.addEventListener( \"DOMContentLoaded\", completed, false );\n\n\t\t\t// A fallback to window.onload, that will always work\n\t\t\twindow.addEventListener( \"load\", completed, false );\n\t\t}\n\t}\n\treturn readyList.promise( obj );\n};\n\n// Kick off the DOM ready check even if the user does not\njQuery.ready.promise();\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = jQuery.access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( jQuery.type( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\tjQuery.access( elems, fn, i, key[i], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !jQuery.isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn( elems[i], key, raw ? value : value.call( elems[i], i, fn( elems[i], key ) ) );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn chainable ?\n\t\telems :\n\n\t\t// Gets\n\t\tbulk ?\n\t\t\tfn.call( elems ) :\n\t\t\tlen ? fn( elems[0], key ) : emptyGet;\n};\n\n\n/**\n * Determines whether an object can have data\n */\njQuery.acceptData = function( owner ) {\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\t/* jshint -W018 */\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\nfunction Data() {\n\t// Support: Android < 4,\n\t// Old WebKit does not have Object.preventExtensions/freeze method,\n\t// return new empty object instead with no [[set]] accessor\n\tObject.defineProperty( this.cache = {}, 0, {\n\t\tget: function() {\n\t\t\treturn {};\n\t\t}\n\t});\n\n\tthis.expando = jQuery.expando + Math.random();\n}\n\nData.uid = 1;\nData.accepts = jQuery.acceptData;\n\nData.prototype = {\n\tkey: function( owner ) {\n\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t// but we should not, see #8335.\n\t\t// Always return the key for a frozen object.\n\t\tif ( !Data.accepts( owner ) ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar descriptor = {},\n\t\t\t// Check if the owner object already has a cache key\n\t\t\tunlock = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !unlock ) {\n\t\t\tunlock = Data.uid++;\n\n\t\t\t// Secure it in a non-enumerable, non-writable property\n\t\t\ttry {\n\t\t\t\tdescriptor[ this.expando ] = { value: unlock };\n\t\t\t\tObject.defineProperties( owner, descriptor );\n\n\t\t\t// Support: Android < 4\n\t\t\t// Fallback to a less secure definition\n\t\t\t} catch ( e ) {\n\t\t\t\tdescriptor[ this.expando ] = unlock;\n\t\t\t\tjQuery.extend( owner, descriptor );\n\t\t\t}\n\t\t}\n\n\t\t// Ensure the cache object\n\t\tif ( !this.cache[ unlock ] ) {\n\t\t\tthis.cache[ unlock ] = {};\n\t\t}\n\n\t\treturn unlock;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\t// There may be an unlock assigned to this node,\n\t\t\t// if there is no entry for this \"owner\", create one inline\n\t\t\t// and set the unlock as though an owner entry had always existed\n\t\t\tunlock = this.key( owner ),\n\t\t\tcache = this.cache[ unlock ];\n\n\t\t// Handle: [ owner, key, value ] args\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ data ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\t\t\t// Fresh assignments by object are shallow copied\n\t\t\tif ( jQuery.isEmptyObject( cache ) ) {\n\t\t\t\tjQuery.extend( this.cache[ unlock ], data );\n\t\t\t// Otherwise, copy the properties one-by-one to the cache object\n\t\t\t} else {\n\t\t\t\tfor ( prop in data ) {\n\t\t\t\t\tcache[ prop ] = data[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\t// Either a valid cache is found, or will be created.\n\t\t// New caches will be created and the unlock returned,\n\t\t// allowing direct access to the newly created\n\t\t// empty data object. A valid owner object must be provided.\n\t\tvar cache = this.cache[ this.key( owner ) ];\n\n\t\treturn key === undefined ?\n\t\t\tcache : cache[ key ];\n\t},\n\taccess: function( owner, key, value ) {\n\t\tvar stored;\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t((key && typeof key === \"string\") && value === undefined) ) {\n\n\t\t\tstored = this.get( owner, key );\n\n\t\t\treturn stored !== undefined ?\n\t\t\t\tstored : this.get( owner, jQuery.camelCase(key) );\n\t\t}\n\n\t\t// [*]When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i, name, camel,\n\t\t\tunlock = this.key( owner ),\n\t\t\tcache = this.cache[ unlock ];\n\n\t\tif ( key === undefined ) {\n\t\t\tthis.cache[ unlock ] = {};\n\n\t\t} else {\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( jQuery.isArray( key ) ) {\n\t\t\t\t// If \"name\" is an array of keys...\n\t\t\t\t// When data is initially created, via (\"key\", \"val\") signature,\n\t\t\t\t// keys will be converted to camelCase.\n\t\t\t\t// Since there is no way to tell _how_ a key was added, remove\n\t\t\t\t// both plain key and camelCase key. #12786\n\t\t\t\t// This will only penalize the array argument path.\n\t\t\t\tname = key.concat( key.map( jQuery.camelCase ) );\n\t\t\t} else {\n\t\t\t\tcamel = jQuery.camelCase( key );\n\t\t\t\t// Try the string as a key before any manipulation\n\t\t\t\tif ( key in cache ) {\n\t\t\t\t\tname = [ key, camel ];\n\t\t\t\t} else {\n\t\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\t\tname = camel;\n\t\t\t\t\tname = name in cache ?\n\t\t\t\t\t\t[ name ] : ( name.match( rnotwhite ) || [] );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti = name.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ name[ i ] ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\treturn !jQuery.isEmptyObject(\n\t\t\tthis.cache[ owner[ this.expando ] ] || {}\n\t\t);\n\t},\n\tdiscard: function( owner ) {\n\t\tif ( owner[ this.expando ] ) {\n\t\t\tdelete this.cache[ owner[ this.expando ] ];\n\t\t}\n\t}\n};\nvar data_priv = new Data();\n\nvar data_user = new Data();\n\n\n\n/*\n\tImplementation Summary\n\n\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n\t2. Improve the module's maintainability by reducing the storage\n\t\tpaths to a single mechanism.\n\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n*/\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /([A-Z])/g;\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$1\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = data === \"true\" ? true :\n\t\t\t\t\tdata === \"false\" ? false :\n\t\t\t\t\tdata === \"null\" ? null :\n\t\t\t\t\t// Only convert to a number if it doesn't change the string\n\t\t\t\t\t+data + \"\" === data ? +data :\n\t\t\t\t\trbrace.test( data ) ? jQuery.parseJSON( data ) :\n\t\t\t\t\tdata;\n\t\t\t} catch( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdata_user.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend({\n\thasData: function( elem ) {\n\t\treturn data_user.hasData( elem ) || data_priv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn data_user.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdata_user.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to data_priv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn data_priv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdata_priv.remove( elem, name );\n\t}\n});\n\njQuery.fn.extend({\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = data_user.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !data_priv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE11+\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = jQuery.camelCase( name.slice(5) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdata_priv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each(function() {\n\t\t\t\tdata_user.set( this, key );\n\t\t\t});\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data,\n\t\t\t\tcamelKey = jQuery.camelCase( key );\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// with the key as-is\n\t\t\t\tdata = data_user.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// with the key camelized\n\t\t\t\tdata = data_user.get( elem, camelKey );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, camelKey, undefined );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each(function() {\n\t\t\t\t// First, attempt to store a copy or reference of any\n\t\t\t\t// data that might've been store with a camelCased key.\n\t\t\t\tvar data = data_user.get( this, camelKey );\n\n\t\t\t\t// For HTML5 data-* attribute interop, we have to\n\t\t\t\t// store property names with dashes in a camelCase form.\n\t\t\t\t// This might not apply to all properties...*\n\t\t\t\tdata_user.set( this, camelKey, value );\n\n\t\t\t\t// *... In the case of properties that might _actually_\n\t\t\t\t// have dashes, we need to also store a copy of that\n\t\t\t\t// unchanged property.\n\t\t\t\tif ( key.indexOf(\"-\") !== -1 && data !== undefined ) {\n\t\t\t\t\tdata_user.set( this, key, value );\n\t\t\t\t}\n\t\t\t});\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each(function() {\n\t\t\tdata_user.remove( this, key );\n\t\t});\n\t}\n});\n\n\njQuery.extend({\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = data_priv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || jQuery.isArray( data ) ) {\n\t\t\t\t\tqueue = data_priv.access( elem, type, jQuery.makeArray(data) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// not intended for public consumption - generates a queueHooks object, or returns the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn data_priv.get( elem, key ) || data_priv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks(\"once memory\").add(function() {\n\t\t\t\tdata_priv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t})\n\t\t});\n\t}\n});\n\njQuery.fn.extend({\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[0], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each(function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[0] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t});\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t});\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = data_priv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n});\nvar pnum = (/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/).source;\n\nvar rcheckableType = (/^(?:checkbox|radio)$/i);\n\n\n\n(function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// #11217 - WebKit loses check when the name is after the checked attribute\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` need .setAttribute for WWA\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Safari 5.1, iOS 5.1, Android 4.x, Android 2.3\n\t// old WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\t// Support: IE9-IE11+\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n})();\nvar strundefined = typeof undefined;\n\n\n\nsupport.focusinBubbles = \"onfocusin\" in window;\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu)|click/,\n\trfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)$/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = data_priv.get( elem );\n\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\tif ( !elemData ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !(events = elemData.events) ) {\n\t\t\tevents = elemData.events = {};\n\t\t}\n\t\tif ( !(eventHandle = elemData.handle) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== strundefined && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[t] ) || [];\n\t\t\ttype = origType = tmp[1];\n\t\t\tnamespaces = ( tmp[2] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend({\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join(\".\")\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !(handlers = events[ type ]) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle, false );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = data_priv.hasData( elem ) && data_priv.get( elem );\n\n\t\tif ( !elemData || !(events = elemData.events) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[t] ) || [];\n\t\t\ttype = origType = tmp[1];\n\t\t\tnamespaces = ( tmp[2] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[2] && new RegExp( \"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector || selector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdelete elemData.handle;\n\t\t\tdata_priv.remove( elem, \"events\" );\n\t\t}\n\t},\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split(\".\") : [];\n\n\t\tcur = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf(\".\") >= 0 ) {\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split(\".\");\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf(\":\") < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join(\".\");\n\t\tevent.namespace_re = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === (elem.ownerDocument || document) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( (cur = eventPath[i++]) && !event.isPropagationStopped() ) {\n\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( data_priv.get( cur, \"events\" ) || {} )[ event.type ] && data_priv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && jQuery.acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( (!special._default || special._default.apply( eventPath.pop(), data ) === false) &&\n\t\t\t\tjQuery.acceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\t\t\t\t\telem[ type ]();\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\tdispatch: function( event ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tevent = jQuery.event.fix( event );\n\n\t\tvar i, j, ret, matched, handleObj,\n\t\t\thandlerQueue = [],\n\t\t\targs = slice.call( arguments ),\n\t\t\thandlers = ( data_priv.get( this, \"events\" ) || {} )[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[0] = event;\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( (matched = handlerQueue[ i++ ]) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( (handleObj = matched.handlers[ j++ ]) && !event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// Triggered event must either 1) have no namespace, or\n\t\t\t\t// 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).\n\t\t\t\tif ( !event.namespace_re || event.namespace_re.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )\n\t\t\t\t\t\t\t.apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( (event.result = ret) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, matches, sel, handleObj,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\t// Black-hole SVG <use> instance trees (#13180)\n\t\t// Avoid non-left-click bubbling in Firefox (#3861)\n\t\tif ( delegateCount && cur.nodeType && (!event.button || event.type !== \"click\") ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.disabled !== true || event.type !== \"click\" ) {\n\t\t\t\t\tmatches = [];\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matches[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatches[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) >= 0 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matches[ sel ] ) {\n\t\t\t\t\t\t\tmatches.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matches.length ) {\n\t\t\t\t\t\thandlerQueue.push({ elem: cur, handlers: matches });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push({ elem: this, handlers: handlers.slice( delegateCount ) });\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\t// Includes some event props shared by KeyEvent and MouseEvent\n\tprops: \"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),\n\n\tfixHooks: {},\n\n\tkeyHooks: {\n\t\tprops: \"char charCode key keyCode\".split(\" \"),\n\t\tfilter: function( event, original ) {\n\n\t\t\t// Add which for key events\n\t\t\tif ( event.which == null ) {\n\t\t\t\tevent.which = original.charCode != null ? original.charCode : original.keyCode;\n\t\t\t}\n\n\t\t\treturn event;\n\t\t}\n\t},\n\n\tmouseHooks: {\n\t\tprops: \"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),\n\t\tfilter: function( event, original ) {\n\t\t\tvar eventDoc, doc, body,\n\t\t\t\tbutton = original.button;\n\n\t\t\t// Calculate pageX/Y if missing and clientX/Y available\n\t\t\tif ( event.pageX == null && original.clientX != null ) {\n\t\t\t\teventDoc = event.target.ownerDocument || document;\n\t\t\t\tdoc = eventDoc.documentElement;\n\t\t\t\tbody = eventDoc.body;\n\n\t\t\t\tevent.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );\n\t\t\t\tevent.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );\n\t\t\t}\n\n\t\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\t\t// Note: button is not normalized, so don't use it\n\t\t\tif ( !event.which && button !== undefined ) {\n\t\t\t\tevent.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );\n\t\t\t}\n\n\t\t\treturn event;\n\t\t}\n\t},\n\n\tfix: function( event ) {\n\t\tif ( event[ jQuery.expando ] ) {\n\t\t\treturn event;\n\t\t}\n\n\t\t// Create a writable copy of the event object and normalize some properties\n\t\tvar i, prop, copy,\n\t\t\ttype = event.type,\n\t\t\toriginalEvent = event,\n\t\t\tfixHook = this.fixHooks[ type ];\n\n\t\tif ( !fixHook ) {\n\t\t\tthis.fixHooks[ type ] = fixHook =\n\t\t\t\trmouseEvent.test( type ) ? this.mouseHooks :\n\t\t\t\trkeyEvent.test( type ) ? this.keyHooks :\n\t\t\t\t{};\n\t\t}\n\t\tcopy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;\n\n\t\tevent = new jQuery.Event( originalEvent );\n\n\t\ti = copy.length;\n\t\twhile ( i-- ) {\n\t\t\tprop = copy[ i ];\n\t\t\tevent[ prop ] = originalEvent[ prop ];\n\t\t}\n\n\t\t// Support: Cordova 2.5 (WebKit) (#13255)\n\t\t// All events should have a target; Cordova deviceready doesn't\n\t\tif ( !event.target ) {\n\t\t\tevent.target = document;\n\t\t}\n\n\t\t// Support: Safari 6.0+, Chrome < 28\n\t\t// Target should not be a text node (#504, #13143)\n\t\tif ( event.target.nodeType === 3 ) {\n\t\t\tevent.target = event.target.parentNode;\n\t\t}\n\n\t\treturn fixHook.filter ? fixHook.filter( event, originalEvent ) : event;\n\t},\n\n\tspecial: {\n\t\tload: {\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tfocus: {\n\t\t\t// Fire native event if possible so blur/focus sequence is correct\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this !== safeActiveElement() && this.focus ) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusin\"\n\t\t},\n\t\tblur: {\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this === safeActiveElement() && this.blur ) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusout\"\n\t\t},\n\t\tclick: {\n\t\t\t// For checkbox, fire native event so checked state will be right\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this.type === \"checkbox\" && this.click && jQuery.nodeName( this, \"input\" ) ) {\n\t\t\t\t\tthis.click();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, don't fire native .click() on links\n\t\t\t_default: function( event ) {\n\t\t\t\treturn jQuery.nodeName( event.target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tsimulate: function( type, elem, event, bubble ) {\n\t\t// Piggyback on a donor event to simulate a different one.\n\t\t// Fake originalEvent to avoid donor's stopPropagation, but if the\n\t\t// simulated event prevents default then we do the same on the donor.\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true,\n\t\t\t\toriginalEvent: {}\n\t\t\t}\n\t\t);\n\t\tif ( bubble ) {\n\t\t\tjQuery.event.trigger( e, null, elem );\n\t\t} else {\n\t\t\tjQuery.event.dispatch.call( elem, e );\n\t\t}\n\t\tif ( e.isDefaultPrevented() ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n};\n\njQuery.removeEvent = function( elem, type, handle ) {\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle, false );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\t// Allow instantiation without the 'new' keyword\n\tif ( !(this instanceof jQuery.Event) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\t\t\t\t// Support: Android < 4.0\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || jQuery.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && e.preventDefault ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && e.stopPropagation ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && e.stopImmediatePropagation ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// Support: Chrome 15+\njQuery.each({\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mousenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || (related !== target && !jQuery.contains( target, related )) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n});\n\n// Create \"bubbling\" focus and blur events\n// Support: Firefox, Chrome, Safari\nif ( !support.focusinBubbles ) {\n\tjQuery.each({ focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );\n\t\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = data_priv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdata_priv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = data_priv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdata_priv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdata_priv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n}\n\njQuery.fn.extend({\n\n\ton: function( types, selector, data, fn, /*INTERNAL*/ one ) {\n\t\tvar origFn, type;\n\n\t\t// Types can be a map of types/handlers\n\t\tif ( typeof types === \"object\" ) {\n\t\t\t// ( types-Object, selector, data )\n\t\t\tif ( typeof selector !== \"string\" ) {\n\t\t\t\t// ( types-Object, data )\n\t\t\t\tdata = data || selector;\n\t\t\t\tselector = undefined;\n\t\t\t}\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.on( type, selector, data, types[ type ], one );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\tif ( data == null && fn == null ) {\n\t\t\t// ( types, fn )\n\t\t\tfn = selector;\n\t\t\tdata = selector = undefined;\n\t\t} else if ( fn == null ) {\n\t\t\tif ( typeof selector === \"string\" ) {\n\t\t\t\t// ( types, selector, fn )\n\t\t\t\tfn = data;\n\t\t\t\tdata = undefined;\n\t\t\t} else {\n\t\t\t\t// ( types, data, fn )\n\t\t\t\tfn = data;\n\t\t\t\tdata = selector;\n\t\t\t\tselector = undefined;\n\t\t\t}\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t} else if ( !fn ) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif ( one === 1 ) {\n\t\t\torigFn = fn;\n\t\t\tfn = function( event ) {\n\t\t\t\t// Can use an empty set, since event contains the info\n\t\t\t\tjQuery().off( event );\n\t\t\t\treturn origFn.apply( this, arguments );\n\t\t\t};\n\t\t\t// Use same guid so caller can remove using origFn\n\t\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.add( this, types, fn, data, selector );\n\t\t});\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn this.on( types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ? handleObj.origType + \".\" + handleObj.namespace : handleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each(function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t});\n\t},\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t});\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[0];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n});\n\n\nvar\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,\n\trtagName = /<([\\w:]+)/,\n\trhtml = /<|&#?\\w+;/,\n\trnoInnerhtml = /<(?:script|style|link)/i,\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trscriptType = /^$|\\/(?:java|ecma)script/i,\n\trscriptTypeMasked = /^true\\/(.*)/,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,\n\n\t// We have to close these tags to support XHTML (#13200)\n\twrapMap = {\n\n\t\t// Support: IE 9\n\t\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\n\t\tthead: [ 1, \"<table>\", \"</table>\" ],\n\t\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\t\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\t\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t\t_default: [ 0, \"\", \"\" ]\n\t};\n\n// Support: IE 9\nwrapMap.optgroup = wrapMap.option;\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: 1.x compatibility\n// Manipulating tables requires a tbody\nfunction manipulationTarget( elem, content ) {\n\treturn jQuery.nodeName( elem, \"table\" ) &&\n\t\tjQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ?\n\n\t\telem.getElementsByTagName(\"tbody\")[0] ||\n\t\t\telem.appendChild( elem.ownerDocument.createElement(\"tbody\") ) :\n\t\telem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = (elem.getAttribute(\"type\") !== null) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tvar match = rscriptTypeMasked.exec( elem.type );\n\n\tif ( match ) {\n\t\telem.type = match[ 1 ];\n\t} else {\n\t\telem.removeAttribute(\"type\");\n\t}\n\n\treturn elem;\n}\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdata_priv.set(\n\t\t\telems[ i ], \"globalEval\", !refElements || data_priv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( data_priv.hasData( src ) ) {\n\t\tpdataOld = data_priv.access( src );\n\t\tpdataCur = data_priv.set( dest, pdataOld );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdelete pdataCur.handle;\n\t\t\tpdataCur.events = {};\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( data_user.hasData( src ) ) {\n\t\tudataOld = data_user.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdata_user.set( dest, udataCur );\n\t}\n}\n\nfunction getAll( context, tag ) {\n\tvar ret = context.getElementsByTagName ? context.getElementsByTagName( tag || \"*\" ) :\n\t\t\tcontext.querySelectorAll ? context.querySelectorAll( tag || \"*\" ) :\n\t\t\t[];\n\n\treturn tag === undefined || tag && jQuery.nodeName( context, tag ) ?\n\t\tjQuery.merge( [ context ], ret ) :\n\t\tret;\n}\n\n// Support: IE >= 9\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\njQuery.extend({\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Support: IE >= 9\n\t\t// Fix Cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tbuildFragment: function( elems, context, scripts, selection ) {\n\t\tvar elem, tmp, tag, wrap, contains, j,\n\t\t\tfragment = context.createDocumentFragment(),\n\t\t\tnodes = [],\n\t\t\ti = 0,\n\t\t\tl = elems.length;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\telem = elems[ i ];\n\n\t\t\tif ( elem || elem === 0 ) {\n\n\t\t\t\t// Add nodes directly\n\t\t\t\tif ( jQuery.type( elem ) === \"object\" ) {\n\t\t\t\t\t// Support: QtWebKit\n\t\t\t\t\t// jQuery.merge because push.apply(_, arraylike) throws\n\t\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t\t// Convert non-html into a text node\n\t\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t\t// Convert html into DOM nodes\n\t\t\t\t} else {\n\t\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement(\"div\") );\n\n\t\t\t\t\t// Deserialize a standard representation\n\t\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\t\ttmp.innerHTML = wrap[ 1 ] + elem.replace( rxhtmlTag, \"<$1></$2>\" ) + wrap[ 2 ];\n\n\t\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\t\tj = wrap[ 0 ];\n\t\t\t\t\twhile ( j-- ) {\n\t\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: QtWebKit\n\t\t\t\t\t// jQuery.merge because push.apply(_, arraylike) throws\n\t\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t\t// Remember the top-level container\n\t\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t\t// Fixes #12346\n\t\t\t\t\t// Support: Webkit, IE\n\t\t\t\t\ttmp.textContent = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Remove wrapper from fragment\n\t\tfragment.textContent = \"\";\n\n\t\ti = 0;\n\t\twhile ( (elem = nodes[ i++ ]) ) {\n\n\t\t\t// #4087 - If origin and destination elements are the same, and this is\n\t\t\t// that element, do not do anything\n\t\t\tif ( selection && jQuery.inArray( elem, selection ) !== -1 ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t\t// Append to fragment\n\t\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t\t// Preserve script evaluation history\n\t\t\tif ( contains ) {\n\t\t\t\tsetGlobalEval( tmp );\n\t\t\t}\n\n\t\t\t// Capture executables\n\t\t\tif ( scripts ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (elem = tmp[ j++ ]) ) {\n\t\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\t\tscripts.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn fragment;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type, key,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; (elem = elems[ i ]) !== undefined; i++ ) {\n\t\t\tif ( jQuery.acceptData( elem ) ) {\n\t\t\t\tkey = elem[ data_priv.expando ];\n\n\t\t\t\tif ( key && (data = data_priv.cache[ key ]) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( data_priv.cache[ key ] ) {\n\t\t\t\t\t\t// Discard any remaining `private` data\n\t\t\t\t\t\tdelete data_priv.cache[ key ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Discard any remaining `user` data\n\t\t\tdelete data_user.cache[ elem[ data_user.expando ] ];\n\t\t}\n\t}\n});\n\njQuery.fn.extend({\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each(function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t});\n\t},\n\n\tprepend: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t});\n\t},\n\n\tbefore: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t});\n\t},\n\n\tafter: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t});\n\t},\n\n\tremove: function( selector, keepData /* Internal Use Only */ ) {\n\t\tvar elem,\n\t\t\telems = selector ? jQuery.filter( selector, this ) : this,\n\t\t\ti = 0;\n\n\t\tfor ( ; (elem = elems[i]) != null; i++ ) {\n\t\t\tif ( !keepData && elem.nodeType === 1 ) {\n\t\t\t\tjQuery.cleanData( getAll( elem ) );\n\t\t\t}\n\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\tif ( keepData && jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\t\t\tsetGlobalEval( getAll( elem, \"script\" ) );\n\t\t\t\t}\n\t\t\t\telem.parentNode.removeChild( elem );\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; (elem = this[i]) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map(function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t});\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = value.replace( rxhtmlTag, \"<$1></$2>\" );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar arg = arguments[ 0 ];\n\n\t\t// Make the changes, replacing each context element with the new content\n\t\tthis.domManip( arguments, function( elem ) {\n\t\t\targ = this.parentNode;\n\n\t\t\tjQuery.cleanData( getAll( this ) );\n\n\t\t\tif ( arg ) {\n\t\t\t\targ.replaceChild( elem, this );\n\t\t\t}\n\t\t});\n\n\t\t// Force removal if there was no new content (e.g., from empty arguments)\n\t\treturn arg && (arg.length || arg.nodeType) ? this : this.remove();\n\t},\n\n\tdetach: function( selector ) {\n\t\treturn this.remove( selector, true );\n\t},\n\n\tdomManip: function( args, callback ) {\n\n\t\t// Flatten any nested arrays\n\t\targs = concat.apply( [], args );\n\n\t\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tset = this,\n\t\t\tiNoClone = l - 1,\n\t\t\tvalue = args[ 0 ],\n\t\t\tisFunction = jQuery.isFunction( value );\n\n\t\t// We can't cloneNode fragments that contain checked, in WebKit\n\t\tif ( isFunction ||\n\t\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\t\treturn this.each(function( index ) {\n\t\t\t\tvar self = set.eq( index );\n\t\t\t\tif ( isFunction ) {\n\t\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t\t}\n\t\t\t\tself.domManip( args, callback );\n\t\t\t});\n\t\t}\n\n\t\tif ( l ) {\n\t\t\tfragment = jQuery.buildFragment( args, this[ 0 ].ownerDocument, false, this );\n\t\t\tfirst = fragment.firstChild;\n\n\t\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\t\tfragment = first;\n\t\t\t}\n\n\t\t\tif ( first ) {\n\t\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\t\thasScripts = scripts.length;\n\n\t\t\t\t// Use the original fragment for the last item instead of the first because it can end up\n\t\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\tnode = fragment;\n\n\t\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\t\tif ( hasScripts ) {\n\t\t\t\t\t\t\t// Support: QtWebKit\n\t\t\t\t\t\t\t// jQuery.merge because push.apply(_, arraylike) throws\n\t\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback.call( this[ i ], node, i );\n\t\t\t\t}\n\n\t\t\t\tif ( hasScripts ) {\n\t\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t\t// Reenable scripts\n\t\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t\t!data_priv.access( node, \"globalEval\" ) && jQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\t\tif ( node.src ) {\n\t\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\t\tif ( jQuery._evalUrl ) {\n\t\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.globalEval( node.textContent.replace( rcleanScript, \"\" ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n});\n\njQuery.each({\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: QtWebKit\n\t\t\t// .get() because push.apply(_, arraylike) throws\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n});\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\tclearTimeout( timeout );\n\t\t};\n\t});\n};\n\n\n(function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: iOS 5.1, Android 4.x, Android 2.3\n\t// Check the default checkbox/radio value (\"\" on old WebKit; \"on\" elsewhere)\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Must access the parent to make an option select properly\n\t// Support: IE9, IE10\n\tsupport.optSelected = opt.selected;\n\n\t// Make sure that the options inside disabled selects aren't marked as disabled\n\t// (WebKit marks them as disabled)\n\tselect.disabled = true;\n\tsupport.optDisabled = !opt.disabled;\n\n\t// Check if an input maintains its value after becoming a radio\n\t// Support: IE9, IE10\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n})();\n\n\nvar nodeHook, boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend({\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t});\n\t}\n});\n\njQuery.extend({\n\tattr: function( elem, name, value ) {\n\t\tvar hooks, ret,\n\t\t\tnType = elem.nodeType;\n\n\t\t// don't get/set attributes on text, comment and attribute nodes\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === strundefined ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// All attributes are lowercase\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\tname = name.toLowerCase();\n\t\t\thooks = jQuery.attrHooks[ name ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : nodeHook );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\n\t\t\t} else if ( hooks && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {\n\t\t\t\treturn ret;\n\n\t\t\t} else {\n\t\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t} else if ( hooks && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ) {\n\t\t\treturn ret;\n\n\t\t} else {\n\t\t\tret = jQuery.find.attr( elem, name );\n\n\t\t\t// Non-existent attributes return null, we normalize to undefined\n\t\t\treturn ret == null ?\n\t\t\t\tundefined :\n\t\t\t\tret;\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name, propName,\n\t\t\ti = 0,\n\t\t\tattrNames = value && value.match( rnotwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( (name = attrNames[i++]) ) {\n\t\t\t\tpropName = jQuery.propFix[ name ] || name;\n\n\t\t\t\t// Boolean attributes get special treatment (#10870)\n\t\t\t\tif ( jQuery.expr.match.bool.test( name ) ) {\n\t\t\t\t\t// Set corresponding property to false\n\t\t\t\t\telem[ propName ] = false;\n\t\t\t\t}\n\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tjQuery.nodeName( elem, \"input\" ) ) {\n\t\t\t\t\t// Setting the type on a radio button after the value resets the value in IE6-9\n\t\t\t\t\t// Reset value to default in case type is set after value during creation\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle;\n\t\tif ( !isXML ) {\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ name ];\n\t\t\tattrHandle[ name ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tname.toLowerCase() :\n\t\t\t\tnull;\n\t\t\tattrHandle[ name ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n});\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i;\n\njQuery.fn.extend({\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each(function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t});\n\t}\n});\n\njQuery.extend({\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t},\n\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks, notxml,\n\t\t\tnType = elem.nodeType;\n\n\t\t// don't get/set properties on text, comment and attribute nodes\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnotxml = nType !== 1 || !jQuery.isXMLDoc( elem );\n\n\t\tif ( notxml ) {\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\treturn hooks && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ?\n\t\t\t\tret :\n\t\t\t\t( elem[ name ] = value );\n\n\t\t} else {\n\t\t\treturn hooks && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ?\n\t\t\t\tret :\n\t\t\t\telem[ name ];\n\t\t}\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\t\t\t\treturn elem.hasAttribute( \"tabindex\" ) || rfocusable.test( elem.nodeName ) || elem.href ?\n\t\t\t\t\telem.tabIndex :\n\t\t\t\t\t-1;\n\t\t\t}\n\t\t}\n\t}\n});\n\n// Support: IE9+\n// Selectedness for an option in an optgroup can be inaccurate\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\treturn parent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t};\n}\n\njQuery.each([\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n});\n\n\n\n\nvar rclass = /[\\t\\r\\n\\f]/g;\n\njQuery.fn.extend({\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, clazz, j, finalValue,\n\t\t\tproceed = typeof value === \"string\" && value,\n\t\t\ti = 0,\n\t\t\tlen = this.length;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, this.className ) );\n\t\t\t});\n\t\t}\n\n\t\tif ( proceed ) {\n\t\t\t// The disjunction here is for better compressibility (see removeClass)\n\t\t\tclasses = ( value || \"\" ).match( rnotwhite ) || [];\n\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\telem = this[ i ];\n\t\t\t\tcur = elem.nodeType === 1 && ( elem.className ?\n\t\t\t\t\t( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\n\t\t\t\t\t\" \"\n\t\t\t\t);\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( (clazz = classes[j++]) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = jQuery.trim( cur );\n\t\t\t\t\tif ( elem.className !== finalValue ) {\n\t\t\t\t\t\telem.className = finalValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, clazz, j, finalValue,\n\t\t\tproceed = arguments.length === 0 || typeof value === \"string\" && value,\n\t\t\ti = 0,\n\t\t\tlen = this.length;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, this.className ) );\n\t\t\t});\n\t\t}\n\t\tif ( proceed ) {\n\t\t\tclasses = ( value || \"\" ).match( rnotwhite ) || [];\n\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\telem = this[ i ];\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( elem.className ?\n\t\t\t\t\t( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\n\t\t\t\t\t\"\"\n\t\t\t\t);\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( (clazz = classes[j++]) ) {\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) >= 0 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = value ? jQuery.trim( cur ) : \"\";\n\t\t\t\t\tif ( elem.className !== finalValue ) {\n\t\t\t\t\t\telem.className = finalValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value;\n\n\t\tif ( typeof stateVal === \"boolean\" && type === \"string\" ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( i ) {\n\t\t\t\tjQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );\n\t\t\t});\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tif ( type === \"string\" ) {\n\t\t\t\t// toggle individual class names\n\t\t\t\tvar className,\n\t\t\t\t\ti = 0,\n\t\t\t\t\tself = jQuery( this ),\n\t\t\t\t\tclassNames = value.match( rnotwhite ) || [];\n\n\t\t\t\twhile ( (className = classNames[ i++ ]) ) {\n\t\t\t\t\t// check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( type === strundefined || type === \"boolean\" ) {\n\t\t\t\tif ( this.className ) {\n\t\t\t\t\t// store className if set\n\t\t\t\t\tdata_priv.set( this, \"__className__\", this.className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed \"false\",\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tthis.className = this.className || value === false ? \"\" : data_priv.get( this, \"__className__\" ) || \"\";\n\t\t\t}\n\t\t});\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className = \" \" + selector + \" \",\n\t\t\ti = 0,\n\t\t\tl = this.length;\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tif ( this[i].nodeType === 1 && (\" \" + this[i].className + \" \").replace(rclass, \" \").indexOf( className ) >= 0 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n});\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend({\n\tval: function( value ) {\n\t\tvar hooks, ret, isFunction,\n\t\t\telem = this[0];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, \"value\" )) !== undefined ) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\treturn typeof ret === \"string\" ?\n\t\t\t\t\t// handle most common string cases\n\t\t\t\t\tret.replace(rreturn, \"\") :\n\t\t\t\t\t// handle cases where value is null/undef or number\n\t\t\t\t\tret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tisFunction = jQuery.isFunction( value );\n\n\t\treturn this.each(function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( isFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( jQuery.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !(\"set\" in hooks) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t});\n\t}\n});\n\njQuery.extend({\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\t\t\t\t\t// Support: IE10-11+\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\tjQuery.trim( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\" || index < 0,\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length,\n\t\t\t\t\ti = index < 0 ?\n\t\t\t\t\t\tmax :\n\t\t\t\t\t\tone ? index : 0;\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// IE6-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t( support.optDisabled ? !option.disabled : option.getAttribute( \"disabled\" ) === null ) &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled || !jQuery.nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\t\t\t\t\tif ( (option.selected = jQuery.inArray( option.value, values ) >= 0) ) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n});\n\n// Radios and checkboxes getter/setter\njQuery.each([ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( jQuery.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\t// Support: Webkit\n\t\t\t// \"\" is returned instead of \"on\" if a value isn't specified\n\t\t\treturn elem.getAttribute(\"value\") === null ? \"on\" : elem.value;\n\t\t};\n\t}\n});\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\njQuery.each( (\"blur focus focusin focusout load resize scroll unload click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup error contextmenu\").split(\" \"), function( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n});\n\njQuery.fn.extend({\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t},\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ? this.off( selector, \"**\" ) : this.off( types, selector || \"**\", fn );\n\t}\n});\n\n\nvar nonce = jQuery.now();\n\nvar rquery = (/\\?/);\n\n\n\n// Support: Android 2.3\n// Workaround failure to string-cast null input\njQuery.parseJSON = function( data ) {\n\treturn JSON.parse( data + \"\" );\n};\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml, tmp;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE9\n\ttry {\n\t\ttmp = new DOMParser();\n\t\txml = tmp.parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\t// Document location\n\tajaxLocParts,\n\tajaxLocation,\n\n\trhash = /#.*$/,\n\trts = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\trurl = /^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat(\"*\");\n\n// #8138, IE may throw an exception when accessing\n// a field from window.location if document.domain has been set\ntry {\n\tajaxLocation = location.href;\n} catch( e ) {\n\t// Use the href attribute of an A element\n\t// since IE will modify it given document.location\n\tajaxLocation = document.createElement( \"a\" );\n\tajaxLocation.href = \"\";\n\tajaxLocation = ajaxLocation.href;\n}\n\n// Segment location into parts\najaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];\n\n\t\tif ( jQuery.isFunction( func ) ) {\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( (dataType = dataTypes[i++]) ) {\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[0] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t(structure[ dataType ] = structure[ dataType ] || []).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t(structure[ dataType ] = structure[ dataType ] || []).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" && !seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t});\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || (deep = {}) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader(\"Content-Type\");\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[0] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s[ \"throws\" ] ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn { state: \"parsererror\", error: conv ? e : \"No conversion from \" + prev + \" to \" + current };\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend({\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: ajaxLocation,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /xml/,\n\t\t\thtml: /html/,\n\t\t\tjson: /json/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": jQuery.parseJSON,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\t\t\t// Cross-domain detection vars\n\t\t\tparts,\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\t\t\t// Loop variable\n\t\t\ti,\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context && ( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\tjQuery.event,\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks(\"once memory\"),\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\t\t\t// The jqXHR state\n\t\t\tstate = 0,\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( state === 2 ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( (match = rheaders.exec( responseHeadersString )) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[1].toLowerCase() ] = match[ 2 ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match;\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn state === 2 ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tvar lname = name.toLowerCase();\n\t\t\t\t\tif ( !state ) {\n\t\t\t\t\t\tname = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( !state ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( state < 2 ) {\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\t// Lazy-add the new callback in a way that preserves old ones\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR ).complete = completeDeferred.add;\n\t\tjqXHR.success = jqXHR.done;\n\t\tjqXHR.error = jqXHR.fail;\n\n\t\t// Remove hash character (#7531: and string promotion)\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || ajaxLocation ) + \"\" ).replace( rhash, \"\" )\n\t\t\t.replace( rprotocol, ajaxLocParts[ 1 ] + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = jQuery.trim( s.dataType || \"*\" ).toLowerCase().match( rnotwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when we have a protocol:host:port mismatch\n\t\tif ( s.crossDomain == null ) {\n\t\t\tparts = rurl.exec( s.url.toLowerCase() );\n\t\t\ts.crossDomain = !!( parts &&\n\t\t\t\t( parts[ 1 ] !== ajaxLocParts[ 1 ] || parts[ 2 ] !== ajaxLocParts[ 2 ] ||\n\t\t\t\t\t( parts[ 3 ] || ( parts[ 1 ] === \"http:\" ? \"80\" : \"443\" ) ) !==\n\t\t\t\t\t\t( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === \"http:\" ? \"80\" : \"443\" ) ) )\n\t\t\t);\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( state === 2 ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\tfireGlobals = s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger(\"ajaxStart\");\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\tcacheURL = s.url;\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// If data is available, append data to url\n\t\t\tif ( s.data ) {\n\t\t\t\tcacheURL = ( s.url += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data );\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add anti-cache in url if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\ts.url = rts.test( cacheURL ) ?\n\n\t\t\t\t\t// If there is already a '_' parameter, set its value\n\t\t\t\t\tcacheURL.replace( rts, \"$1_=\" + nonce++ ) :\n\n\t\t\t\t\t// Otherwise add one to the end\n\t\t\t\t\tcacheURL + ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + nonce++;\n\t\t\t}\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tfor ( i in { success: 1, error: 1, complete: 1 } ) {\n\t\t\tjqXHR[ i ]( s[ i ] );\n\t\t}\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = setTimeout(function() {\n\t\t\t\t\tjqXHR.abort(\"timeout\");\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tstate = 1;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\t\t\t\t// Propagate exception as error if not done\n\t\t\t\tif ( state < 2 ) {\n\t\t\t\t\tdone( -1, e );\n\t\t\t\t// Simply rethrow otherwise\n\t\t\t\t} else {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Called once\n\t\t\tif ( state === 2 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// State is \"done\" now\n\t\t\tstate = 2;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\tclearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"Last-Modified\");\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"etag\");\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// We extract error from statusText\n\t\t\t\t// then normalize statusText and status for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger(\"ajaxStop\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n});\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\t\t// shift arguments if data argument was omitted\n\t\tif ( jQuery.isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\treturn jQuery.ajax({\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t});\n\t};\n});\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( [ \"ajaxStart\", \"ajaxStop\", \"ajaxComplete\", \"ajaxError\", \"ajaxSuccess\", \"ajaxSend\" ], function( i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n});\n\n\njQuery._evalUrl = function( url ) {\n\treturn jQuery.ajax({\n\t\turl: url,\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tasync: false,\n\t\tglobal: false,\n\t\t\"throws\": true\n\t});\n};\n\n\nvar r20 = /%20/g,\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( jQuery.isArray( obj ) ) {\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams( prefix + \"[\" + ( typeof v === \"object\" ? i : \"\" ) + \"]\", v, traditional, add );\n\t\t\t}\n\t\t});\n\n\t} else if ( !traditional && jQuery.type( obj ) === \"object\" ) {\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, value ) {\n\t\t\t// If value is a function, invoke it and return its value\n\t\t\tvalue = jQuery.isFunction( value ) ? value() : ( value == null ? \"\" : value );\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" + encodeURIComponent( value );\n\t\t};\n\n\t// Set traditional to true for jQuery <= 1.3.2 behavior.\n\tif ( traditional === undefined ) {\n\t\ttraditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t});\n\n\t} else {\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" ).replace( r20, \"+\" );\n};\n\njQuery.fn.extend({\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map(function() {\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t})\n\t\t.filter(function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t})\n\t\t.map(function( i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\treturn val == null ?\n\t\t\t\tnull :\n\t\t\t\tjQuery.isArray( val ) ?\n\t\t\t\t\tjQuery.map( val, function( val ) {\n\t\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t\t}) :\n\t\t\t\t\t{ name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t}).get();\n\t}\n});\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new XMLHttpRequest();\n\t} catch( e ) {}\n};\n\nvar xhrId = 0,\n\txhrCallbacks = {},\n\txhrSuccessStatus = {\n\t\t// file protocol always yields status code 0, assume 200\n\t\t0: 200,\n\t\t// Support: IE9\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\n// Support: IE9\n// Open requests must be manually aborted on unload (#5280)\nif ( window.ActiveXObject ) {\n\tjQuery( window ).on( \"unload\", function() {\n\t\tfor ( var key in xhrCallbacks ) {\n\t\t\txhrCallbacks[ key ]();\n\t\t}\n\t});\n}\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport(function( options ) {\n\tvar callback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr(),\n\t\t\t\t\tid = ++xhrId;\n\n\t\t\t\txhr.open( options.type, options.url, options.async, options.username, options.password );\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[\"X-Requested-With\"] ) {\n\t\t\t\t\theaders[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tdelete xhrCallbacks[ id ];\n\t\t\t\t\t\t\tcallback = xhr.onload = xhr.onerror = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\t// file: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\t\t\t\t\t\t\t\t\t// Support: IE9\n\t\t\t\t\t\t\t\t\t// Accessing binary-data responseText throws an exception\n\t\t\t\t\t\t\t\t\t// (#11426)\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText === \"string\" ? {\n\t\t\t\t\t\t\t\t\t\ttext: xhr.responseText\n\t\t\t\t\t\t\t\t\t} : undefined,\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\txhr.onerror = callback(\"error\");\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = xhrCallbacks[ id ] = callback(\"abort\");\n\n\t\t\t\ttry {\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n});\n\n\n\n\n// Install script dataType\njQuery.ajaxSetup({\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /(?:java|ecma)script/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n});\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n});\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\t// This transport only deals with cross domain requests\n\tif ( s.crossDomain ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery(\"<script>\").prop({\n\t\t\t\t\tasync: true,\n\t\t\t\t\tcharset: s.scriptCharset,\n\t\t\t\t\tsrc: s.url\n\t\t\t\t}).on(\n\t\t\t\t\t\"load error\",\n\t\t\t\t\tcallback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n});\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup({\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n});\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" && !( s.contentType || \"\" ).indexOf(\"application/x-www-form-urlencoded\") && rjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[\"script json\"] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always(function() {\n\t\t\t// Restore preexisting value\n\t\t\twindow[ callbackName ] = overwritten;\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\t\t\t\t// make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && jQuery.isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t});\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n});\n\n\n\n\n// data: string of html\n// context (optional): If specified, the fragment will be created in this context, defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\tcontext = context || document;\n\n\tvar parsed = rsingleTag.exec( data ),\n\t\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[1] ) ];\n\t}\n\n\tparsed = jQuery.buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n// Keep a copy of the old load method\nvar _load = jQuery.fn.load;\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tif ( typeof url !== \"string\" && _load ) {\n\t\treturn _load.apply( this, arguments );\n\t}\n\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf(\" \");\n\n\tif ( off >= 0 ) {\n\t\tselector = jQuery.trim( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( jQuery.isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax({\n\t\t\turl: url,\n\n\t\t\t// if \"type\" variable is undefined, then \"GET\" method will be used\n\t\t\ttype: type,\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t}).done(function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery(\"<div>\").append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t}).complete( callback && function( jqXHR, status ) {\n\t\t\tself.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t});\n\t}\n\n\treturn this;\n};\n\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t});\n}\n\n\n\n\nvar\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in\n// AMD (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( typeof noGlobal === strundefined ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n\n}));\n","/**\n * Tools\n *\n * Useful functions that belong to any specific module\n *\n * @author Chris Nasr <ouroboroscode@gmail.com>\n * @copyright OuroborosCoding\n * @created 2018-11-25\n */\n\n/**\n * Array Find Index\n *\n * Finds a specific object in an array based on key name and value and\n * returns its index\n *\n * @name afindi\n * @param array a\t\t\t\tThe value to look through\n * @param str k\t\t\t\t\tThe name of the key to check\n * @param mixed v\t\t\t\tThe value to check against\n * @return object\n */\nexport function afindi(a, k, v) {\n\tfor(let i = 0; i < a.length; ++i) {\n\t\tif(a[i][k] === v) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * Array Find Object\n *\n * Finds a specific object in an array based on key name and value and\n * returns it\n *\n * @name afindo\n * @param array a\t\t\t\tThe value to look through\n * @param str k\t\t\t\t\tThe name of the key to check\n * @param mixed v\t\t\t\tThe value to check against\n * @return object\n */\nexport function afindo(a, k, v) {\n\tfor(let i = 0; i < a.length; ++i) {\n\t\tif(a[i][k] === v) {\n\t\t\treturn a[i];\n\t\t}\n\t}\n\treturn null;\n}\n\n/**\n * Clone\n *\n * Deep clone any type of object, returning a new one\n *\n * @name clone\n * @param mixed o\t\t\t\tThe variable to clone\n * @return mixed\n */\nexport function clone(o) {\n\t// New var\n\tlet n = null;\n\n\t// If it's an array\n\tif(Array.isArray(o)) {\n\t\tn = [];\n\t\tfor(let i in o) {\n\t\t\tn.push(clone(o[i]));\n\t\t}\n\t}\n\n\t// Else if the value is an object\n\telse if(isObject(o)) {\n\t\tn = {}\n\t\tfor(let k in o) {\n\t\t\tn[k] = clone(o[k]);\n\t\t}\n\t}\n\n\t// Else, copy as is\n\telse {\n\t\tn = o;\n\t}\n\n\t// Return the new var\n\treturn n;\n}\n\n/**\n * Compare\n *\n * Compares two values of any type to see if they contain the same\n * data or not\n *\n * @name compare\n * @access public\n * @param mixed v1\t\t\t\tThe first value\n * @param mixed v2\t\t\t\tThe second value\n * @return bool\n */\nexport function compare(v1, v2) {\n\n\t// If they're both arrays\n\tif(Array.isArray(v1) && Array.isArray(v2)) {\n\n\t\t// If they don't have the same length\n\t\tif(v1.length !== v2.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Compare the values\n\t\tfor(let i = 0; i < v1.length; ++i) {\n\t\t\tif(!compare(v1[i], v2[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Else if they're both objects\n\telse if(isObject(v1) && isObject(v2)) {\n\n\t\t// If they don't have the same keys\n\t\tif(!compare(Object.keys(v1).sort(), Object.keys(v2).sort())) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Compare each key\n\t\tfor(let k in v1) {\n\t\t\tif(!compare(v1[k], v2[k])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Else, compare as is\n\telse {\n\t\tif(v1 !== v2) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t// Return equal\n\treturn true;\n}\n\n/**\n * Empty\n *\n * Returns true if the value type is empty\n *\n * @name empty\n * @access public\n * @param mixed m\t\t\t\tThe value to check, can be object, array, string, etc\n * @return bool\n */\nexport function empty(m) {\n\n\t// If it's an object\n\tif(isObject(m)) {\n\t\tfor(let p in m) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\t// Else if it's an array or a string\n\telse if(Array.isArray(m) || typeof m == 'string') {\n\t\treturn m.length === 0;\n\t}\n\n\t// Else\n\telse {\n\n\t\t// If it's null or undefined\n\t\tif(typeof m == 'undefined' || m == null) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Else return false\n\t\treturn false;\n\t}\n}\n\n/**\n * Is Decimal\n *\n * Returns true if the variable is a number\n *\n * @name isDecimal\n * @access public\n * @param mixed m\t\t\t\tThe variable to test\n * @return bool\n */\nexport function isDecimal(m) {\n\treturn typeof m == 'number';\n}\n\n/**\n * Is Integer\n *\n * Returns true if the variable is a true integer\n *\n * @name isInteger\n * @access public\n * @param mixed m\t\t\t\tThe variable to test\n * @return bool\n */\nexport function isInteger(m) {\n\treturn m === +m && m === (m|0);\n}\n\n/**\n * Is Object\n *\n * Returns true if the variable is a true object\n *\n * @name isObject\n * @access public\n * @param mixed m\t\t\t\tThe variable to test\n * @return bool\n */\nexport function isObject(m) {\n\tif(m === null) return false;\n\tif(typeof m != 'object') return false;\n\tif(Array.isArray(m)) return false;\n\treturn true;\n}\n\n/**\n * Object Map\n *\n * Works like map for arrays, but iterates over an object\n *\n * @name omap\n * @access public\n * @param Object o\t\t\t\tThe object to map\n * @param Function callback\t\tThe function to call each iteration\n * @return Array\n */\nexport function omap(o, callback) {\n\tlet ret = [];\n\tfor(let k in o) {\n\t\tret.push(callback(o[k], k));\n\t}\n\treturn ret;\n}\n\n/**\n * UCFirst\n *\n * Makes the first character of each word in the text upper case\n *\n * @name ucfirst\n * @access public\n * @param String text\t\t\tThe text to convert\n * @return String\n */\nexport function ucfirst(text) {\n\tlet lParts = text.split(' ');\n\treturn lParts.map(s =>\n\t\ts.charAt(0).toUpperCase() + s.slice(1)\n\t).join(' ');\n}\n\n/**\n * UUID v4\n *\n * Returns a psuedo random string in UUID format (NOT ACTUALLY A UUID)\n *\n * @name uuidv4\n * @access public\n * @return str\n */\nexport function uuidv4() {\n\treturn ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\n\t\t(c ^ crypto.getRandomValues((new Uint8Array(1))[0] & (15 >> (c / 4)))).toString(16)\n\t)\n}\n\n// export module\nexport default {\n\tafindi: afindi,\n\tafindo: afindo,\n\tclone: clone,\n\tcompare: compare,\n\tempty: empty,\n\tisDecimal: isDecimal,\n\tisInteger: isInteger,\n\tisObject: isObject,\n\tomap: omap,\n\tucfirst: ucfirst,\n\tuuidv4: uuidv4\n}\n","/**\n * Events\n *\n * Event model for non UI events\n *\n * @author Chris Nasr <ouroboroscode@gmail.com>\n * @copyright OuroborosCoding\n * @created 2018-11-24\n */\n\n// Init the callbacks object\nconst _callbacks = {};\n\n/**\n * Add\n *\n * Adds a callback to an event\n *\n * @name add\n * @access public\n * @param str event\t\t\t\tThe name of the event\n * @param function callback\t\tThe callback to attach to the event\n * @return bool\n */\nfunction add(event, callback) {\n\n\t// If the event doesn't exist yet\n\tif(!(event in _callbacks)) {\n\t\t_callbacks[event] = []\n\t}\n\n\t// Add the callback to the list\n\t_callbacks[event].push(callback);\n\treturn true;\n}\n\n/**\n * Remove\n *\n * Removes a callback from a specific event\n *\n * @name remove\n * @access public\n * @param str event\t\t\t\tThe name of the event to remove the callback from\n * @param function callback\t\tThe exact same callback that was added to the event\n * @return\n */\nfunction remove(event, callback) {\n\n\t// If the name exists in the object\n\tif(event in _callbacks) {\n\n\t\t// If the callback exists in the list\n\t\tlet i = _callbacks[event].indexOf(callback);\n\t\tif(i !== -1) {\n\t\t\t_callbacks[event].splice(i,1);\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t// Nothing found, return false\n\treturn false;\n}\n\n/**\n * Trigger\n *\n * Triggers a specific event and calls all callbacks associated\n *\n * @name trigger\n * @access public\n * @param str event\t\t\t\tThe name of the event to trigger\n * @return void\n */\nexport function trigger(event) {\n\n\t// If we have callbacks for the event\n\tif(event in _callbacks) {\n\n\t\t// Check for additional arguments that will be passed to the\n\t\t//\tcallbacks\n\t\tlet args = [];\n\t\tif(arguments.length > 1) {\n\t\t\targs = Array.apply(null, arguments).slice(1);\n\t\t}\n\n\t\t// If there's any callbacks, call them one by one\n\t\tfor(let i in _callbacks[event]) {\n\t\t\ttry {\n\t\t\t\tlet b = _callbacks[event][i].apply(null, args);\n\n\t\t\t\t// If we got false back, stop calling the callbacks\n\t\t\t\tif(b === false) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} catch(err) {\n\t\t\t\tconsole.error(event + ' callback ' + i + ' threw exception: ' + err);\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}\n\n\t// No callbacks asscocited with the event\n\telse {\n\t\tconsole.error('event value \"' + event + '\" returned, and no callbacks were found to handle it');\n\t}\n}\n\n// export module\nexport default {\n\tadd: add,\n\tremove: remove,\n\ttrigger: trigger\n}\n","/**\n * Cookies\n *\n * JS Library to deal with Cookies\n *\n * @author Chris Nasr\n * @copyright OuroborosCoding\n * @created 2018-11-24\n */\n\n/**\n * Get\n *\n * Gets a cookie or returns the default. Set no name to get all\n *\n * @name get\n * @access public\n * @param str name\t\t\t\tThe name of the cookie to fetch\n * @param str default_\t\t\tThe default value to return if no cookie is found\n * @return str|null\n */\nfunction get(name, default_) {\n\n\t// Set the default if no value is passed\n\tif(typeof default_ == 'undefined') {\n\t\tdefault_ = null;\n\t}\n\n\t// Parse all cookies\n\tlet oCookies = {}\n\tlet lCookies = document.cookie.split(';')\n\tfor(let i = 0; i < lCookies.length; ++i) {\n\t\tlet l = lCookies[i].split('=');\n\t\toCookies[l[0]] = decodeURIComponent(l[1]);\n\t}\n\n\t// If there's no name, return all\n\tif(typeof name == 'undefined') {\n\t\treturn oCookies;\n\t}\n\n\t// If the cookie exists return it, else return the default\n\treturn (name in oCookies) ? oCookies[name] : default_;\n}\n\n/**\n * Remove\n *\n * Deletes a cookie\n *\n * @name remove\n * @access public\n * @param str name\t\t\t\tThe name of the cookie to delete\n * @return void\n */\nfunction remove(name, domain, path) {\n\tthis.set(name, '', -1, domain, path);\n}\n\n/**\n * Set\n *\n * Sets a cookie\n *\n * @name set\n * @access public\n * @param str name\t\t\t\tThe name of the cookie\n * @param str value\t\t\t\tThe value to store\n * @param int expires\t\t\tThe number of seconds before the cookie expires\n * @param str domain\t\t\tThe optional domain to set the cookie on\n * @param str path\t\t\t\tThe optional path of the cookie\n * @return null\n */\nfunction set(name, value, expires, domain, path) {\n\n\t// Generate the expires time\n\tlet d = new Date();\n\td.setTime(d.getTime() + (expires*1000))\n\n\t// Generate the cookie string\n\tlet s = name + '=' + encodeURIComponent(value) +\n\t\t\t'; expires=' + d.toGMTString() + ';';\n\tif(domain) {\n\t\ts += ' domain=' + domain + ';';\n\t}\n\tif(path) {\n\t\ts += ' path=' + path + ';';\n\t}\n\n\t// Set the cookie\n\tdocument.cookie = s;\n}\n\n// export module\nexport default {\n\tget: get,\n\tremove: remove,\n\tset: set\n}\n","/**\n * Rest\n *\n * Handles connecting to and retrieving data from rest services\n *\n * @author Chris Nasr <ouroboroscode@gmail.com>\n * @copyright OuroborosCoding\n * @created 2018-11-24\n */\n\n// External modules\nimport $ from '../3rd/jquery.ajax';\n\n// Generic modules\nimport Cookies from './cookies.js';\n\n// Rest services domain\nlet _domain = '';\n\n// Default error function\nlet _error = function() {}\n\n// Before/After callbacks\nlet _before = null;\nlet _after = null\n\n/**\n * Clear\n *\n * Clears the session from local storage and cookies\n *\n * @name clear\n * access private\n * @return void\n */\nfunction clear() {\n\n\t// Delete from localStorage\n\tdelete localStorage['_session'];\n\n\t// Delete the cookie\n\tCookies.remove('_session', '.' + window.location.hostname, '/');\n}\n\n/**\n * Request\n *\n * Handles actual requests\n *\n * @name request\n * @access private\n * @param string method\t\t\tThe method used to send the request\n * @param string url\t\t\tThe full URL to the service/noun\n * @param object data\t\t\tThe data to send to the service\n * @param string auth\t\t\tOptional Authorization token\n * @return xhr\n */\nfunction request(method, url, data) {\n\n\t// If we have a before callback\n\tif(_before) {\n\t\t_before(method, url, data);\n\t}\n\n\t// Generate the ajax config\n\tlet oConfig = {\n\n\t\t// Check requests before sending\n\t\t\"beforeSend\": function(xhr, settings) {\n\n\t\t\t// Add the URL to the request so that on error what failed\n\t\t\txhr._url = url;\n\n\t\t\t// If we have a session, add the authorization token\n\t\t\tif('_session' in localStorage) {\n\t\t\t\txhr.setRequestHeader('Authorization', localStorage['_session']);\n\t\t\t}\n\t\t},\n\n\t\t// Looking for JSON responses\n\t\t\"contentType\": \"application/json; charset=utf-8\",\n\n\t\t\"complete\": function(res) {\n\n\t\t\t// If we have an after callback\n\t\t\tif(_after) {\n\t\t\t\t_after(method, url, data);\n\t\t\t}\n\t\t},\n\n\t\t// On error\n\t\t\"error\": function(xhr, status, error) {\n\n\t\t\t// If we got an Authorization error\n\t\t\tif(xhr.status === 401) {\n\n\t\t\t\t// Clear the current token\n\t\t\t\tclear();\n\t\t\t}\n\n\t\t\t// Put the error in the console\n\t\t\tconsole.error(method + ' ' + xhr._url + ' returned: ' + error);\n\n\t\t\t// Return the xhr to the error callback\n\t\t\t_error(xhr);\n\t\t},\n\n\t\t// Set the method\n\t\t\"method\": method,\n\n\t\t// Set the requested URL\n\t\t\"url\": url\n\t}\n\n\t// If it's a get request\n\tif(method === 'get') {\n\n\t\t// And data was passed, add it as a param\n\t\tif(typeof data !== 'undefined') {\n\t\t\toConfig['data'] = \"d=\" + encodeURIComponent(JSON.stringify(data));\n\t\t}\n\t}\n\n\t// Else it's any other method, stringify the data\n\telse {\n\t\toConfig.data = JSON.stringify(data);\n\t}\n\n\t// Make the request and return the xhr\n\treturn $.ajax(oConfig);\n}\n\n/**\n * Store\n *\n * Stores the session token in local storage and cookies\n *\n * @name store\n * @access private\n * @param string token\n * @return void\n */\nfunction store(token) {\n\n\t// Set the session in localStorage\n\tlocalStorage['_session'] = token\n\n\t// Set the session in a cookie\n\tCookies.set('_session', token, 86400, '.' + window.location.hostname, '/');\n}\n\n/**\n * Init\n *\n * Initialises the modules\n *\n * @name init\n * @access public\n * @param string domain\t\tThe domain rest services can be reached through\n * @param function error\tCallback for when http errors occur\n * @param function before\tOptional callback to run before any request\n * @param function after\tOptional callback to run after any request\n * @return void\n */\nfunction init(domain, error=null, before=null, after=null) {\n\n\t// Store the domain\n\t_domain = 'https://' + domain + '/';\n\n\t// Do we have a session in storage\n\tif('_session' in localStorage && localStorage['_session']) {\n\t\tthis.session(localStorage['_session'])\n\t}\n\n\t// Else do we have one in a cookie\n\telse {\n\t\tlet cookie = Cookies.get('_session');\n\t\tif(cookie) {\n\t\t\tthis.session(cookie);\n\t\t}\n\t}\n\n\t// If an error was passed\n\tif(typeof error !== 'undefined') {\n\t\t_error = error;\n\t}\n\n\t// Store before/after\n\tif(typeof before === 'function') {\n\t\t_before = before;\n\t} else {\n\t\tconsole.error('Rest.init before param must be a function');\n\t}\n\tif(typeof after === 'function') {\n\t\t_after = after;\n\t} else {\n\t\tconsole.error('Rest.init after param must be a function');\n\t}\n}\n\n/**\n * Create\n *\n * Calls the create action on a specific service noune\n *\n * @name create\n * @access public\n * @param string service\t\tThe name of the service to call\n * @param string noun\t\t\tThe noun to call on the service\n * @param object data\t\t\tThe data to send to the service\n * @return xhr\n */\nfunction create(service, noun, data) {\n\treturn request('post', _domain + service + '/' + noun, data);\n}\n\n/**\n * Delete\n *\n * Calls the delete action on a specific service noune\n *\n * @name delete_\n * @access public\n * @param string service\t\tThe name of the service to call\n * @param string noun\t\t\tThe noun to call on the service\n * @param object data\t\t\tThe data to send to the service\n * @return xhr\n */\nfunction delete_(service, noun, data) {\n\treturn request('delete', _domain + service + '/' + noun, data);\n}\n\n/**\n * Read\n *\n * Calls the read action on a specific service noune\n *\n * @name read\n * @access public\n * @param string service\t\tThe name of the service to call\n * @param string noun\t\t\tThe noun to call on the service\n * @param object data\t\t\tThe data to send to the service\n * @return xhr\n */\nfunction read(service, noun, data) {\n\treturn request('get', _domain + service + '/' + noun, data);\n}\n\n/**\n * Session\n *\n * Set or get the session token\n *\n * @name session\n * @access public\n * @param string token\t\t\tThe token to store\n * @return void|str\n */\nfunction session(token) {\n\n\t// If we are setting the session\n\tif(typeof token !== 'undefined') {\n\n\t\t// If null was passed, delete the session\n\t\tif(token == null) {\n\t\t\tclear();\n\t\t}\n\n\t\t// Else, set the session\n\t\telse {\n\t\t\tstore(token);\n\t\t}\n\t}\n\n\t// Else we are returning the session\n\telse {\n\t\treturn ('_session' in localStorage) ?\n\t\t\tlocalStorage['_session'] :\n\t\t\t'';\n\t}\n}\n\n/**\n * Update\n *\n * Calls the update action on a specific service noune\n *\n * @name update\n * @access public\n * @param string service\t\tThe name of the service to call\n * @param string noun\t\t\tThe noun to call on the service\n * @param object data\t\t\tThe data to send to the service\n * @return xhr\n */\nfunction update(service, noun, data) {\n\treturn request('put', _domain + service + '/' + noun, data);\n}\n\n// export module\nexport default {\n\tinit: init,\n\tcreate: create,\n\tdelete: delete_,\n\tread: read,\n\tsession: session,\n\tupdate: update\n}\n","/**\n * Header\n *\n * Handles app bar and drawer\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-04-04\n */\n\n// NPM modules\nimport React from 'react';\nimport { withSnackbar } from 'notistack';\n\n// Generic modules\nimport Events from '../../generic/events';\n\nclass LibraryWritersAreOftenIdiots extends React.Component {\n\n\tconstructor(props) {\n\n\t\t// Call the parent constructor\n\t\tsuper(props);\n\n\t\t// Bind methods to this instance\n\t\tthis.error = this.error.bind(this);\n\t\tthis.popup = this.popup.bind(this);\n\t\tthis.warning = this.warning.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\n\t\t// Track any popup events\n\t\tEvents.add('error', this.error);\n\t\tEvents.add('popup', this.popup);\n\t\tEvents.add('success', this.popup);\n\t\tEvents.add('warning', this.warning);\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\t// Stop tracking any popup events\n\t\tEvents.remove('error', this.error);\n\t\tEvents.remove('popup', this.popup);\n\t\tEvents.remove('success', this.popup);\n\t\tEvents.remove('warning', this.warning);\n\t}\n\n\terror(msg) {\n\t\tthis.popup(msg, 'error');\n\t}\n\n\tpopup(text, type='success') {\n\n\t\t// Add the popup\n\t\tthis.props.enqueueSnackbar(text, {variant: type});\n\t}\n\n\trender() {\n\t\treturn <div />\n\t}\n\n\twarning(msg) {\n\t\tthis.popup(msg, 'warning');\n\t}\n}\n\nexport default withSnackbar(LibraryWritersAreOftenIdiots);\n","/**\n * Loader\n *\n * Handles the loader\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-05-08\n */\n\n// NPM modules\nimport React from 'react';\n\n// Generic modules\nimport Events from  '../../generic/events';\n\n// Local variables\nlet _count = 1;\n\n// Loader component\nexport default class Loader extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tvisible: _count !== 0\n\t\t}\n\t\tthis.event = this.event.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tEvents.add('Loader', this.event);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tEvents.remove('Loader', this.event);\n\t}\n\n\tevent(show) {\n\t\tthis.setState({visible: show});\n\t}\n\n\trender() {\n\t\treturn <img src=\"/images/ajax.gif\" alt=\"ajax\" style={{display: this.state.visible ? 'inline' : 'none'}} />\n\t}\n}\n\nexport function LoaderHide() {\n\n\t// Decrement the count\n\t_count--;\n\n\t// If this is the last one\n\tif(_count === 0) {\n\t\tEvents.trigger('Loader', false);\n\t}\n}\n\nexport function LoaderShow() {\n\n\t// Increment the count\n\t_count++;\n\n\t// If this is the first one\n\tif(_count === 1) {\n\t\tEvents.trigger('Loader', true);\n\t}\n}\n","/**\n * Utils\n *\n * Shared utilities\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-04-04\n */\n\n// Generic modules\nimport Events from './generic/events';\n\n// Regex\nconst rePhone = /^1?(\\d{3})(\\d{3})(\\d{4})$/\n\n/**\n * Utils\n */\nexport default {\n\n\tdate: function(ts) {\n\t\tif(typeof ts === 'number') {\n\t\t\tts = new Date(ts*1000);\n\t\t}\n\t\tvar Y = '' + ts.getFullYear();\n\t\tvar M = '' + (ts.getMonth() + 1);\n\t\tif(M.length === 1) M = '0' + M;\n\t\tvar D = '' + ts.getDate();\n\t\tif(D.length === 1) D = '0' + D;\n\t\treturn Y + '/' + M + '/' + D;\n\t},\n\n\tdatetime: function(ts) {\n\t\tif(typeof ts === 'number') {\n\t\t\tts = new Date(ts*1000);\n\t\t}\n\t\tvar t = ['', '', ''];\n\t\tt[0] += ts.getHours();\n\t\tif(t[0].length === 1) t[0] = '0' + t[0];\n\t\tt[1] += ts.getMinutes();\n\t\tif(t[1].length === 1) t[1] = '0' + t[1];\n\t\tt[2] += ts.getSeconds();\n\t\tif(t[2].length === 1) t[2] = '0' + t[2];\n\t\treturn this.date(ts) + ' ' + t.join(':')\n\t},\n\n\terrorTree: function(errors) {\n\n\t\t// Init the return\n\t\tvar oRet = {}\n\n\t\t// Go through each error\n\t\tfor(let i = 0; i < errors.length; ++i) {\n\n\t\t\t// If the error field has a period\n\t\t\tif(errors[i][0].includes('.')) {\n\n\t\t\t\t// Split it\n\t\t\t\tlet lField = errors[i][0].split(/\\.(.*)/)\n\n\t\t\t\t// If we don't have the field already\n\t\t\t\tif(!oRet[lField[0]]) {\n\t\t\t\t\toRet[lField[0]] = []\n\t\t\t\t}\n\n\t\t\t\t// Add the rest\n\t\t\t\toRet[lField[0]].push([lField[1], errors[i][1]]);\n\t\t\t}\n\n\t\t\t// Else it's a flat field\n\t\t\telse {\n\t\t\t\toRet[errors[i][0]] = errors[i][1];\n\t\t\t}\n\t\t}\n\n\t\t// Go through all the errors we found\n\t\tfor(let k in oRet) {\n\n\t\t\t// If we find an array\n\t\t\tif(Array.isArray(oRet[k])) {\n\n\t\t\t\t// Recurse\n\t\t\t\toRet[k] = this.errorTree(oRet[k]);\n\t\t\t}\n\t\t}\n\n\t\t// Return the Tree\n\t\treturn oRet;\n\t},\n\n\tnicePhone: function(val) {\n\t\tlet lMatch = rePhone.exec(val);\n\t\tif(!lMatch) {\n\t\t\treturn val;\n\t\t}\n\t\treturn '(' + lMatch[1] + ') ' + lMatch[2] + '-' + lMatch[3];\n\t},\n\n\trestError: function(err) {\n\n\t\t// What error is it?\n\t\tswitch(err.code) {\n\n\t\t\t// No Session\n\t\t\tcase 102:\n\n\t\t\t\t// Trigger signout\n\t\t\t\tEvents.trigger(\"signout\");\n\n\t\t\t\t// Nothing else to do\n\t\t\t\treturn true;\n\n\t\t\t// Invalid fields\n\t\t\tcase 1001:\n\n\t\t\t\t// Rebuild the error message\n\t\t\t\terr.msg = this.errorTree(err.msg);\n\n\t\t\t\t// But allow the child to deal with the messages themselves\n\t\t\t\treturn false;\n\n\t\t\t// Insufficient rights\n\t\t\tcase 1002:\n\n\t\t\t\t// Notify the user\n\t\t\t\tEvents.trigger('error', 'You lack the necessary rights to do the action requested');\n\n\t\t\t\t// Nothing else to do\n\t\t\t\treturn true;\n\n\t\t\t// no default\n\t\t}\n\n\t\t// Failed to process error\n\t\treturn false;\n\t},\n\n\tsafeLocalStorage(name, default_) {\n\t\tlet value = localStorage.getItem(name);\n\t\treturn value === null ? default_ : value;\n\t}\n}\n","/**\n * Header\n *\n * Handles app bar and drawer\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-04-04\n */\n\n// NPM modules\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\n// Material UI\nimport AppBar from '@material-ui/core/AppBar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Drawer from '@material-ui/core/Drawer';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n\n// Material UI Icons\nimport AllInboxIcon from '@material-ui/icons/AllInbox';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport NewReleasesIcon from '@material-ui/icons/NewReleases';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport SearchIcon from '@material-ui/icons/Search';\n\n// Local components\nimport Loader from './Loader';\n\n// Generic modules\nimport Events from '../../generic/events';\nimport Rest from '../../generic/rest';\nimport Tools from '../../generic/tools';\n\n// Local modules\nimport Utils from '../../utils';\n\n// Header component\nclass Header extends React.Component {\n\n\tconstructor(props) {\n\n\t\t// Call the parent constructor\n\t\tsuper(props);\n\n\t\t// Initialise the state\n\t\tthis.state = {\n\t\t\t\"claimed\": [],\n\t\t\t\"mobile\": document.documentElement.clientWidth < 600,\n\t\t\t\"menu\": false,\n\t\t\t\"path\": window.location.pathname,\n\t\t\t\"user\": props.user || false\n\t\t}\n\n\t\t// Bind methods to this instance\n\t\tthis.claimedAdd = this.claimedAdd.bind(this);\n\t\tthis.claimedRemove = this.claimedRemove.bind(this);\n\t\tthis.menuClose = this.menuClose.bind(this);\n\t\tthis.menuItem = this.menuItem.bind(this);\n\t\tthis.menuToggle = this.menuToggle.bind(this);\n\t\tthis.resize = this.resize.bind(this);\n\t\tthis.signedIn = this.signedIn.bind(this);\n\t\tthis.signedOut = this.signedOut.bind(this);\n\t\tthis.signout = this.signout.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\n\t\t// Track any signedIn/signedOut events\n\t\tEvents.add('signedIn', this.signedIn);\n\t\tEvents.add('signedOut', this.signedOut);\n\t\tEvents.add('claimedAdd', this.claimedAdd);\n\n\t\t// Capture resizes\n\t\twindow.addEventListener(\"resize\", this.resize);\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\t// Stop tracking any signedIn/signedOut events\n\t\tEvents.remove('signedIn', this.signedIn);\n\t\tEvents.remove('signedOut', this.signedOut);\n\t\tEvents.remove('claimedAdd', this.claimedAdd);\n\n\t\t// Stop capturing resizes\n\t\twindow.removeEventListener(\"resize\", this.resize);\n\n\t\t// Stop checking for new messages\n\t\tclearInterval(this.iNewMessages);\n\t}\n\n\tclaimedAdd(number, name) {\n\n\t\t// Send the claim  to the server\n\t\tRest.create('monolith', 'customer/claim', {\n\t\t\tphoneNumber: number\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Clone the claimed state\n\t\t\t\tlet lClaimed = Tools.clone(this.state.claimed);\n\n\t\t\t\t// Add the record to the end\n\t\t\t\tlClaimed.push({\n\t\t\t\t\tnewMsgs: false,\n\t\t\t\t\tcustomerName: name,\n\t\t\t\t\tcustomerPhone: number\n\t\t\t\t});\n\n\t\t\t\t// Set the new state\n\t\t\t\tthis.setState({\n\t\t\t\t\tclaimed: lClaimed,\n\t\t\t\t\tpath: '/customer/' + number\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tclaimedFetch() {\n\n\t\t// Fetch the claimed\n\t\tRest.read('monolith', 'msgs/claimed', {}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Add the newMsg flag to each item\n\t\t\t\tfor(let i in res.data) {\n\t\t\t\t\tres.data[i].newMsgs = false;\n\t\t\t\t}\n\n\t\t\t\t// Set the state\n\t\t\t\tthis.setState({\n\t\t\t\t\tclaimed: res.data\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tclaimedRemove(event) {\n\n\t\t// Stop all propogation of the event\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\t// Store the number\n\t\tlet sNumber = event.currentTarget.dataset.number;\n\n\t\t// Send the removal to the server\n\t\tRest.delete('monolith', 'customer/claim', {\n\t\t\tphoneNumber: sNumber\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Clone the claimed state\n\t\t\t\tlet lClaimed = Tools.clone(this.state.claimed);\n\n\t\t\t\t// Find the index of the remove customer\n\t\t\t\tlet iIndex = Tools.afindi(lClaimed, 'customerPhone', sNumber);\n\n\t\t\t\t// If we found one\n\t\t\t\tif(iIndex > -1) {\n\n\t\t\t\t\t// Remove the element\n\t\t\t\t\tlClaimed.splice(iIndex, 1);\n\n\t\t\t\t\t// Set the new state\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tclaimed: lClaimed\n\t\t\t\t\t});\n\n\t\t\t\t\t// Trigger the event that a customer was unclaimed\n\t\t\t\t\tEvents.trigger('Unclaimed', sNumber);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tmenuClose() {\n\t\tthis.setState({menu: false});\n\t}\n\n\tmenuItem(event) {\n\n\t\t// New state\n\t\tlet state = {\n\t\t\tpath: event.currentTarget.pathname\n\t\t};\n\n\t\t// If we're in mobile, hide the menu\n\t\tif(this.state.mobile) {\n\t\t\tstate.menu = false;\n\t\t}\n\n\t\t// If we clicked on a phone number\n\t\tif(event.currentTarget.dataset.number) {\n\n\t\t\t// Clone the claimed state\n\t\t\tlet lClaimed = Tools.clone(this.state.claimed);\n\n\t\t\t// Find the index of the clear customer\n\t\t\tlet iIndex = Tools.afindi(lClaimed, 'customerPhone', event.currentTarget.dataset.number);\n\n\t\t\t// Reset the flag\n\t\t\tlClaimed[iIndex].newMsgs = false;\n\n\t\t\t// Updated the claimed state\n\t\t\tstate.claimed = lClaimed;\n\t\t}\n\n\t\t// Set the new state\n\t\tthis.setState(state);\n\t}\n\n\tmenuToggle() {\n\n\t\t// Toggle the state of the menu\n\t\tthis.setState({\n\t\t\tmenu: !this.state.menu\n\t\t});\n\t}\n\n\tnewMessages() {\n\n\t\t// Send the removal to the server\n\t\tRest.read('monolith', 'msgs/claimed/new', {\n\t\t\tnumbers: this.state.claimed.map(o => o.customerPhone)\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif('data' in res) {\n\t\t\t\tconsole.log('New Messages: ', res.data);\n\n\t\t\t\t// If there's any\n\t\t\t\tif(!Tools.empty(res.data)) {\n\n\t\t\t\t\t// Do we set the state?\n\t\t\t\t\tlet bSetState = false;\n\n\t\t\t\t\t// Clone the current claimed\n\t\t\t\t\tlet lClaimed = Tools.clone(this.state.claimed);\n\n\t\t\t\t\t// Go through each one\n\t\t\t\t\tfor(let i in lClaimed) {\n\n\t\t\t\t\t\t// If it's the result\n\t\t\t\t\t\tif(lClaimed[i].customerPhone in res.data) {\n\n\t\t\t\t\t\t\t// If this is the number we're on, pass along the\n\t\t\t\t\t\t\t//\tmessage\n\t\t\t\t\t\t\tif(this.state.path === '/customer/' + lClaimed[i].customerPhone) {\n\t\t\t\t\t\t\t\tEvents.trigger('newMessage');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Else, mark the menu item as having new messages\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tbSetState = true;\n\t\t\t\t\t\t\t\tlClaimed[i].newMsgs = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// If something changed\n\t\t\t\t\tif(bSetState) {\n\n\t\t\t\t\t\t// Set the new state\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tclaimed: lClaimed\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Notify\n\t\t\t\t\t\tEvents.trigger('success', 'New messages!');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\trender() {\n\n\t\tlet drawer = (\n\t\t\t<List style={{padding: 0}}>\n\t\t\t\t<Link to=\"/templates\" onClick={this.menuItem}>\n\t\t\t\t\t<ListItem button selected={this.state.path === \"/templates\"}>\n\t\t\t\t\t\t<ListItemIcon><CommentIcon /></ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary=\"Templates\" />\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Link>\n\t\t\t\t<Divider />\n\t\t\t\t<Link to=\"/unclaimed\" onClick={this.menuItem}>\n\t\t\t\t\t<ListItem button selected={this.state.path === \"/unclaimed\"}>\n\t\t\t\t\t\t<ListItemIcon><AllInboxIcon /></ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary=\"Unclaimed\" />\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"/search\" onClick={this.menuItem}>\n\t\t\t\t\t<ListItem button selected={this.state.path === \"/search\"}>\n\t\t\t\t\t\t<ListItemIcon><SearchIcon /></ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary=\"Search\" />\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Link>\n\t\t\t\t<Divider />\n\t\t\t\t{this.state.claimed.map(o =>\n\t\t\t\t\t<Link key={o.customerPhone} data-number={o.customerPhone} to={\"/customer/\" + o.customerPhone} onClick={this.menuItem}>\n\t\t\t\t\t\t<ListItem button selected={this.state.path === \"/customer/\" + o.customerPhone}>\n\t\t\t\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t\t\t\t{o.newMsgs ?\n\t\t\t\t\t\t\t\t\t<Avatar style={{backgroundColor: 'red'}}><NewReleasesIcon /></Avatar> :\n\t\t\t\t\t\t\t\t\t<Avatar><PhoneIcon /></Avatar>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</ListItemAvatar>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tprimary={o.customerName}\n\t\t\t\t\t\t\t\tsecondary={o.customerPhone}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{(this.state.path !== \"/customer/\" + o.customerPhone) &&\n\t\t\t\t\t\t\t\t<CancelIcon\n\t\t\t\t\t\t\t\t\tclassName=\"close\"\n\t\t\t\t\t\t\t\t\tdata-number={o.customerPhone}\n\t\t\t\t\t\t\t\t\tonClick={this.claimedRemove}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Link>\n\t\t\t\t)}\n\t\t\t</List>\n\t\t);\n\n\t\treturn (\n\t\t\t<div id=\"header\">\n\t\t\t\t<AppBar position=\"relative\">\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t{this.state.mobile &&\n\t\t\t\t\t\t\t<IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\" onClick={this.menuToggle}>\n\t\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Typography variant=\"h6\" className=\"title\">\n\t\t\t\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t\t\t\tMeCSR\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<div id=\"loaderWrapper\">\n\t\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{this.state.user &&\n\t\t\t\t\t\t\t<Button color=\"inherit\" onClick={this.signout}>Sign Out</Button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t{this.state.mobile ?\n\t\t\t\t\t<Drawer\n\t\t\t\t\t\tanchor=\"left\"\n\t\t\t\t\t\tid=\"menu\"\n\t\t\t\t\t\topen={this.state.menu}\n\t\t\t\t\t\tonClose={this.menuClose}\n\t\t\t\t\t\tvariant=\"temporary\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{drawer}\n\t\t\t\t\t</Drawer>\n\t\t\t\t:\n\t\t\t\t\t<Drawer\n\t\t\t\t\t\tanchor=\"left\"\n\t\t\t\t\t\tid=\"menu\"\n\t\t\t\t\t\topen\n\t\t\t\t\t\tvariant=\"permanent\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{drawer}\n\t\t\t\t\t</Drawer>\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tresize() {\n\n\t\t// If the size is less than 600px\n\t\tif(document.documentElement.clientWidth < 600) {\n\t\t\tthis.setState({\"mobile\": true});\n\t\t} else {\n\t\t\tthis.setState({\"mobile\": false});\n\t\t}\n\t}\n\n\tsignedIn(user) {\n\n\t\t// Hide any modals and set the user\n\t\tthis.setState({\n\t\t\t\"user\": user,\n\t\t}, () => {\n\n\t\t\t// Fetch the claimed conversations\n\t\t\tthis.claimedFetch();\n\n\t\t\t// Start checking for new messages\n\t\t\tthis.iNewMessages = setInterval(this.newMessages.bind(this), 30000);\n\t\t});\n\t}\n\n\tsignout(ev) {\n\n\t\t// Call the signout\n\t\tRest.create('auth', 'signout', {}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.serviceError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Reset the session\n\t\t\t\tRest.session(null);\n\n\t\t\t\t// Trigger the signedOut event\n\t\t\t\tEvents.trigger('signedOut');\n\t\t\t}\n\t\t});\n\t}\n\n\tsignedOut() {\n\n\t\t// Hide and modals and set the user to false\n\t\tthis.setState({\n\t\t\t\"claimed\": [],\n\t\t\t\"user\": false\n\t\t});\n\n\t\t// Stop checking for new messages\n\t\tclearInterval(this.iNewMessages);\n\t}\n\n\tset path(path) {\n\t\tthis.setState({\n\t\t\tpath: path\n\t\t});\n\t}\n}\n\nexport default Header;\n","/**\n * Hash\n *\n * JS Library to manage hash values\n *\n * @author Chris Nasr <ouroboroscode@gmail.com>\n * @copyright OuroborosCoding\n * @created 2018-12-09\n */\n\n// Generic modules\nconst Tools = require('./tools.js');\n\n// name regex\nconst nameRE = /^[a-zA-Z]+$/;\n\n// Callbacks\nconst watches = {};\n\n// Values\nlet hash = {};\n\n/**\n * Hash Changed\n *\n * Called when the location hash has been altered, notifies any watchers of\n * hash values changing\n *\n * @name _hashChanged\n * @access private\n * @return void\n */\nfunction _hashChanged() {\n\n\t// Store the current hash\n\tlet old = Tools.clone(hash);\n\n\t// Re-parse the current location hash\n\t_parseHash();\n\n\t// If there are watches\n\tif(!Tools.empty(watches)) {\n\n\t\t// Check each watch\n\t\tfor(let name in watches) {\n\n\t\t\t// If the value didn't exist and now it does, or it did exist\n\t\t\t//\tand now it doesn't, or the values don't match\n\t\t\tif((!(name in old) && name in hash) ||\n\t\t\t\t(name in old && !(name in hash)) ||\n\t\t\t\told[name] !== hash[name]) {\n\n\t\t\t\t// Go through each callback and call it\n\t\t\t\tfor(let f of watches[name]) {\n\t\t\t\t\tf(hash[name] || null);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * Parse Hash\n *\n * Parses the current location hash into an object\n *\n * @name _parseHash\n * @access private\n * @return void\n */\nfunction _parseHash() {\n\n\t// Blank out the current values\n\thash = {};\n\n\t// If there's anything in the hash\n\tif(window.location.hash.length > 1) {\n\t\tlet regex = /([^=&]+)=?([^&]*)/g\n\t\tlet field = null;\n\n\t\t// Go through each part found\n\t\twhile((field = regex.exec(window.location.hash.substring(1)))) {\n\t\t\thash[field[1]] = decodeURIComponent(field[2]);\n\t\t}\n\t}\n}\n\n/**\n * Init\n *\n * Initialises the internal hash by fetching and parsing the current\n * location hash\n *\n * @name init\n * @access public\n * @static\n * @return void\n */\nfunction init() {\n\n\t// Track changes\n\twindow.addEventListener(\"hashchange\", _hashChanged);\n\n\t// Parse the current location hash\n\t_parseHash();\n}\n\n/**\n * Get\n *\n * Returns a hash name\n *\n * @name get\n * @access public\n * @static\n * @param string name\t\tThe name to look for\n * @param string default_\tThe value to return if the name isn't found\n * @return str\n */\nfunction get(name, default_=null) {\n\n\t// If the name is invalid\n\tif(!nameRE.test(name)) {\n\t\tthrow new Error('Invalid Hash name');\n\t}\n\n\t// If there is a value for the name\n\tif(typeof hash[name] !== 'undefined') {\n\t\treturn hash[name];\n\t}\n\n\t// Else, return the default\n\telse {\n\t\treturn default_;\n\t}\n}\n\n/**\n * Set\n *\n * Sets a specific name\n *\n * @name set\n * @access public\n * @param str|object name\tThe name to set, or an object of name/value pairs\n * @param str value\t\t\tThe value to set the name to\n */\nfunction set(name, value) {\n\n\t// If the name is not an object\n\tif(!Tools.isObject(name)) {\n\n\t\t// If the value is not defined\n\t\tif(typeof value === 'undefined') {\n\t\t\tvalue = null;\n\t\t}\n\n\t\t// Set the value\n\t\tname = {[name]: value}\n\t}\n\n\t// Make a copy of the current hash\n\tlet copy = Tools.clone(hash);\n\n\t// Go through each name\n\tfor(let n in name) {\n\n\t\t// If the name is invalid\n\t\tif(!nameRE.test(n)) {\n\t\t\tthrow new Error('Invalid Hash name: ' + n);\n\t\t}\n\n\t\t// If we got null, delete the name\n\t\tif(name[n] === null) {\n\t\t\tdelete copy[n];\n\t\t}\n\t\t// Else, set the new value\n\t\telse {\n\t\t\tcopy[n] = name[n];\n\t\t}\n\t}\n\n\t// Init an array to store the parts\n\tlet temp = [];\n\n\t// Go through each name\n\tfor(let k in copy) {\n\t\ttemp.push(k + '=' + copy[k]);\n\t}\n\n\t// Reset the window location hash\n\twindow.location.hash = temp.join('&');\n}\n\n/**\n * Unwatch\n *\n * Removes a callback from the watches\n *\n * @name unwatch\n * @access public\n * @param string name\t\t\tThe name of the value to stop watching\n * @param function callback\t\tThe callback to remove\n * @return void\n */\nfunction unwatch(name, callback) {\n\n\t// If we have the name\n\tif(name in watches) {\n\n\t\t// Go through the callbacks associated with the name\n\t\tfor(let i = 0; i < watches[name].length; ++i) {\n\n\t\t\t// If we find the callback\n\t\t\tif(watches[name][i] === callback) {\n\n\t\t\t\t// Remove it\n\t\t\t\twatches[name].splice(i, 1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * Watch\n *\n * Adds a callback for a specific name which will be called if the name is\n * added, deleted, or changed\n *\n * @name watch\n * @access public\n * @param string name\t\t\tThe name of the value to watch\n * @param function callback\t\tThe function to call when the value changes\n * @return void\n */\nfunction watch(name, callback) {\n\n\t// If we already have the name\n\tif(name in watches) {\n\n\t\t// Go through the callbacks associated with the name\n\t\tfor(let i = 0; i < watches[name].length; ++i) {\n\n\t\t\t// If we already have the callback there's no need to store it\n\t\t\tif(watches[name][i] === callback) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Else if we don't have any callbacks for the name\n\telse {\n\t\twatches[name] = [];\n\t}\n\n\t// Add the callback to the watches\n\twatches[name].push(callback);\n}\n\n// export module\nexport default {\n\tinit: init,\n\tget: get,\n\tset: set,\n\tunwatch: unwatch,\n\twatch: watch\n}\n","/**\n * Signin\n *\n * Handles sign in modal\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-04-04\n */\n\n// NPM modules\nimport React from 'react';\n\n// Material UI\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\n\n// Generic modules\nimport Events from '../../generic/events';\nimport Hash from '../../generic/hash';\nimport Rest from '../../generic/rest';\n\n// Local modules\nimport Utils from '../../utils';\n\n// Sign In\nclass Signin extends React.Component {\n\n\tconstructor(props) {\n\n\t\t// Call the parent constructor\n\t\tsuper(props);\n\n\t\t// Check for a forgot key\n\t\tvar key = Hash.get('forgot');\n\n\t\t// Initialise the state\n\t\tthis.state = {\n\t\t\t\"errors\": {},\n\t\t\t\"forgot\": key ? key : false,\n\t\t\t\"form\": key ? 'forgot' : 'signin'\n\t\t};\n\n\t\t// Init refs\n\t\tthis.fields = {};\n\n\t\t// Bind methods to this instance\n\t\tthis.signin = this.signin.bind(this);\n\t}\n\n\tfetchUser() {\n\n\t\t// Fetch the user data\n\t\tRest.read('monolith', 'user', {}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Welcome user\n\t\t\t\tEvents.trigger('success', 'Welcome ' + res.data.firstName);\n\n\t\t\t\t// Trigger the signedIn event\n\t\t\t\tEvents.trigger('signedIn', res.data);\n\t\t\t}\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\tdisableBackdropClick\n\t\t\t\tdisableEscapeKeyDown\n\t\t\t\tmaxWidth=\"lg\"\n\t\t\t\topen={true}\n\t\t\t\taria-labelledby=\"confirmation-dialog-title\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"confirmation-dialog-title\">MeCSR</DialogTitle>\n\t\t\t\t{this.state.form === 'signin' &&\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t<div><TextField\n\t\t\t\t\t\t\t\terror={this.state.errors.userName ? true : false}\n\t\t\t\t\t\t\t\thelperText={this.state.errors.userName || ''}\n\t\t\t\t\t\t\t\tinputRef={el => this.fields.userName = el}\n\t\t\t\t\t\t\t\tlabel=\"User\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t/></div>\n\t\t\t\t\t\t\t<div><TextField\n\t\t\t\t\t\t\t\terror={this.state.errors.passwd ? true : false}\n\t\t\t\t\t\t\t\thelperText={this.state.errors.passwd || ''}\n\t\t\t\t\t\t\t\tinputRef={el => this.fields.passwd = el}\n\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t/></div>\n\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={this.signin}>\n\t\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t}\n\t\t\t\t{this.state.form === 'forgot' &&\n\t\t\t\t\t<p>Forgot</p>\n\t\t\t\t}\n\t\t\t</Dialog>\n\t\t);\n\t}\n\n\tsignin(ev) {\n\n\t\t// Call the signin\n\t\tRest.create('monolith', 'signin', {\n\t\t\t\"userName\": this.fields.userName.value,\n\t\t\t\"passwd\": this.fields.passwd.value\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tswitch(res.error.code) {\n\t\t\t\t\tcase 1001:\n\t\t\t\t\t\t// Go through each message and mark the error\n\t\t\t\t\t\tlet errors = {};\n\t\t\t\t\t\tfor(let i in res.error.msg) {\n\t\t\t\t\t\t\terrors[i] = res.error.msg[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({\"errors\": errors});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1201:\n\t\t\t\t\t\tEvents.trigger('error', 'User or password invalid');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Set the session with the service\n\t\t\t\tRest.session(res.data.session);\n\n\t\t\t\t// Fetch the user info\n\t\t\t\tthis.fetchUser();\n\t\t\t}\n\n\t\t});\n\t}\n}\n\nexport default Signin;\n","/**\n * DoseSpot\n *\n * Shows a specific customer's prescriptions from DoseSpot\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-05-10\n */\n\n// NPM modules\nimport React from 'react';\n\n// Material UI\nimport Paper from '@material-ui/core/Paper';\n\n// DoseSpot component\nexport default function DoseSpot(props) {\n\n\t// If we're still loading\n\tif(props.prescriptions === null) {\n\t\treturn <p>Loading...</p>\n\t}\n\n\t// If there's no rx associated\n\telse if(props.prescriptions === 0 || props.prescriptions.length === 0) {\n\t\treturn <p>No Prescriptions found for this customer</p>\n\t}\n\n\t// Else, show the rx\n\telse {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{props.prescriptions.map((o, i) =>\n\t\t\t\t\t<Paper key={i} className=\"rx\">\n\t\t\t\t\t\t<p><strong>Pharmacy: </strong><span>{o.PharmacyName}</span></p>\n\t\t\t\t\t\t<p><strong>Prescriber: </strong><span>{o.PrescriberName}</span></p>\n\t\t\t\t\t\t<p><strong>Product: </strong><span>{o.DisplayName} ({o.Quantity})</span></p>\n\t\t\t\t\t\t<p><strong>Written: </strong><span>{o.WrittenDate.substring(0, 10)}</span></p>\n\t\t\t\t\t\t{o.EffectiveDate &&\n\t\t\t\t\t\t\t<p><strong>Effective: </strong><span>{o.EffectiveDate.substring(0, 10)}</span></p>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<p><strong>Refills: </strong><span>{o.Refills}</span></p>\n\t\t\t\t\t\t<p><strong>Directions: </strong><span>{o.Directions}</span></p>\n\t\t\t\t\t</Paper>\n\t\t\t\t)}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n","/**\n * KNK\n *\n * Shows a specific customer and their orders from KNK\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-05-09\n */\n\n// NPM modules\nimport React from 'react';\n\n// Material UI\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\n// Helper\nconst EnToTxt = {\n\t\"A\": \"Audio\",\n\t\"V\": \"Video\",\n\t\"AS\": \"Async\",\n\t\"\": \"N/A\"\n}\n\n// KNK component\nexport default function KNK(props) {\n\n\t// If we're still loading\n\tif(props.customer === null) {\n\t\treturn <p>Loading...</p>\n\t}\n\n\t// If there's no customer associated\n\telse if(props.customer === 0) {\n\t\treturn <p>No customer found for this phone number</p>\n\t}\n\n\t// Else, show the customer\n\telse {\n\t\tlet customer = props.customer;\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<TableContainer component={Paper} className=\"customer\">\n\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Customer Details</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Billing</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Shipping</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Notes</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Tracking</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{props.customer &&\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<p><strong>ID: </strong><a href={\"https://crm.konnektive.com/customer/cs/details/?customerId=\" + customer.id} target=\"_bank\">{customer.id}</a></p>\n\t\t\t\t\t\t\t\t\t\t<p><strong>Campaign: </strong><span>{customer.campaign.name + ' (' + customer.campaign.type + ')'}</span></p>\n\t\t\t\t\t\t\t\t\t\t<p><strong>Email: </strong><span>{customer.email}</span></p>\n\t\t\t\t\t\t\t\t\t\t<p><strong>Phone: </strong><span>{customer.phone}</span></p>\n\t\t\t\t\t\t\t\t\t\t<p><strong>Created: </strong><span>{customer.created}</span></p>\n\t\t\t\t\t\t\t\t\t\t<p><strong>Updated: </strong><span>{customer.updated}</span></p>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{customer.billing.firstName + ' ' + customer.billing.lastName}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{customer.billing.address1}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{customer.billing.address2}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{customer.billing.city}, {customer.billing.state}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{customer.billing.country}, {customer.billing.postalCode}</nobr></p>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{customer.shipping.firstName + ' ' + customer.shipping.lastName}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{customer.shipping.address1}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{customer.shipping.address2}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{customer.shipping.city}, {customer.shipping.state}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{customer.shipping.country}, {customer.shipping.postalCode}</nobr></p>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell className=\"notes\">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t{customer.notes.map((o, i) =>\n\t\t\t\t\t\t\t\t\t\t\t\t<p key={i}><strong>{o.agentName}</strong> ({o.dateCreated}): {o.message}</p>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell className=\"tracking\">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t{props.tracking.map((o,i) =>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{o.link ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href={o.link} target=\"_blank\">{o.code}</a> :\n\t\t\t\t\t\t\t\t\t\t\t\t\t\to.code\n\t\t\t\t\t\t\t\t\t\t\t\t\t} {o.type} {o.date}</p>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t\t<TableContainer component={Paper} className=\"orders\">\n\t\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Order Details</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>&nbsp;</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Products</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Billing</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Shipping</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{props.orders.map((o, i) =>\n\t\t\t\t\t\t\t\t<TableRow key={i}>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<p><nobr><strong>ID: </strong><a href={\"https://crm.konnektive.com/customer/cs/orders/?orderId=\" + o.id} target=\"_bank\">{o.id}</a></nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><strong>Campaign: </strong><span>{o.campaign}</span></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr><strong>Email: </strong><span>{o.email}</span></nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr><strong>Phone: </strong><span>{o.phone}</span></nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr><strong>Date: </strong><span>{o.date}</span></nobr></p>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<p><nobr><strong>Encounter: </strong><span>{EnToTxt[o.encounter]}</span></nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr><strong>Status: </strong><span>{o.status}</span></nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr><strong>Type: </strong><span>{o.type}</span></nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr><strong>Charged: </strong><span>{o.totalAmount}</span></nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr><strong>Coupon: </strong><span>{o.couponCode}</span></nobr></p>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t{o.items.map((oI, iI) =>\n\t\t\t\t\t\t\t\t\t\t\t<Paper key={iI} className=\"product\">\n\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Campaign: </strong><span>{oI.campaign}</span></p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Descr: </strong><span>{oI.description}</span></p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Price: </strong><span>{oI.price}</span></p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Shipping: </strong><span>{oI.shipping}</span></p>\n\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{o.billing.firstName + ' ' + o.billing.lastName}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{o.billing.address1}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{o.billing.address2}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{o.billing.city}, {o.billing.state}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{o.billing.country}, {o.billing.postalCode}</nobr></p>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{o.shipping.firstName + ' ' + o.shipping.lastName}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{o.shipping.address1}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{o.shipping.address2}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{o.shipping.city}, {o.shipping.state}</nobr></p>\n\t\t\t\t\t\t\t\t\t\t<p><nobr>{o.shipping.country}, {o.shipping.postalCode}</nobr></p>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n","/**\n * MIP\n *\n * Shows a specific customer's MIP\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-05-09\n */\n\n// NPM modules\nimport React, { useEffect, useRef, useState } from 'react';\n\n// Material UI\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Select from '@material-ui/core/Select';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\n\n// Material UI icons\nimport EditIcon from '@material-ui/icons/Edit';\n\n// Generic modules\nimport Events from '../../../generic/events';\nimport Rest from '../../../generic/rest';\nimport Tools from '../../../generic/tools';\n\n// Local modules\nimport Utils from '../../../utils';\n\n// QuestionMultiple\nclass QuestionMultiple extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tvalue: props.answer.split('|')\n\t\t}\n\t\tthis.clicked = this.clicked.bind(this);\n\t}\n\tclicked(event) {\n\t\tlet index = parseInt(event.target.dataset.index);\n\t\tconsole.log('index: ', index);\n\t\tlet option = this.props.options[index];\n\t\tconsole.log('option: ', option);\n\t\tlet value = Tools.clone(this.state.value);\n\t\tconsole.log('pre value: ', value);\n\t\tif(event.target.checked) {\n\t\t\tvalue.push(option);\n\t\t} else {\n\t\t\tvalue.splice(value.indexOf(option), 1);\n\t\t}\n\t\tthis.setState({value: value})\n\t\tconsole.log('post value: ', value);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<FormGroup>\n\t\t\t\t{this.props.options.map((v,i) =>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tcontrol={<Checkbox\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tchecked={this.state.value.includes(v)}\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\"data-index\": i\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonChange={this.clicked}\n\t\t\t\t\t\t/>}\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tlabel={v}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</FormGroup>\n\t\t);\n\t}\n\tget value() {\n\t\treturn this.state.value.join('|');\n\t}\n}\n\n// QuestionOption component\nfunction QuestionOptions(props) {\n\n\t// Refs\n\tconst refField = useRef(null);\n\n\t// Save the value\n\tfunction save(event) {\n\t\tprops.onSave(refField.current.value);\n\t}\n\n\t// Render based on the question type\n\tlet field = null;\n\tswitch(props.type) {\n\n\t\t// Text Field\n\t\tcase 'short_text':\n\t\tcase 'email':\n\t\t\tfield = <TextField\n\t\t\t\tdefaultValue={props.answer || ''}\n\t\t\t\tinputRef={refField}\n\t\t\t\ttype=\"text\"\n\t\t\t\tvariant=\"outlined\"\n\t\t\t/>\n\t\t\tbreak;\n\n\t\tcase 'number':\n\t\t\tfield = <TextField\n\t\t\t\tdefaultValue={props.answer}\n\t\t\t\tinputRef={refField}\n\t\t\t\ttype=\"number\"\n\t\t\t\tvariant=\"outlined\"\n\t\t\t/>\n\t\t\tbreak;\n\n\t\tcase 'dropdown':\n\t\t\tfield = <Select\n\t\t\t\tdefaultValue={props.answer}\n\t\t\t\tinputProps={{\n\t\t\t\t\tinputRef: refField\n\t\t\t\t}}\n\t\t\t\tnative\n\t\t\t\tvariant=\"outlined\"\n\t\t\t>\n\t\t\t\t{props.options.map((v,i) =>\n\t\t\t\t\t<option key={i}>{v}</option>\n\t\t\t\t)}\n\t\t\t</Select>\n\t\t\tbreak;\n\n\t\tcase 'date':\n\t\t\tfield = <TextField\n\t\t\t\tdefaultValue={props.answer}\n\t\t\t\tinputRef={refField}\n\t\t\t\ttype=\"date\"\n\t\t\t\tvariant=\"outlined\"\n\t\t\t/>\n\t\t\tbreak;\n\n\t\tcase 'yes_no':\n\t\t\tfield = <Select\n\t\t\t\tdefaultValue={props.answer}\n\t\t\t\tinputProps={{\n\t\t\t\t\tinputRef: refField\n\t\t\t\t}}\n\t\t\t\tnative\n\t\t\t\tvariant=\"outlined\"\n\t\t\t>\n\t\t\t\t<option value=\"Yes\">Yes</option>\n\t\t\t\t<option value=\"No\">No</option>\n\t\t\t\t<option value=\"\">No Selection</option>\n\t\t\t</Select>\n\t\t\tbreak;\n\n\t\tcase 'multiple_choice':\n\t\t\tfield = <QuestionMultiple\n\t\t\t\tanswer={props.answer}\n\t\t\t\toptions={props.options}\n\t\t\t\tref={refField}\n\t\t\t/>\n\t\t\tbreak;\n\n\t\tcase 'long_text':\n\t\tcase 'long text':\n\t\t\tfield = <TextField\n\t\t\t\tdefaultValue={props.answer || ''}\n\t\t\t\tinputRef={refField}\n\t\t\t\tmultiline\n\t\t\t\trows={5}\n\t\t\t\ttype=\"text\"\n\t\t\t\tvariant=\"outlined\"\n\t\t\t/>\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\treturn <span className=\"noanswer\">No Answer</span>\n\t}\n\n\t// Return the options plus the submit/cancel buttons\n\treturn (\n\t\t<Box className=\"options form\">\n\t\t\t{field}\n\t\t\t<Box className=\"actions\">\n\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={props.onCancel}>Cancel</Button>\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={save}>Save</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\n// Question component\nfunction Question(props) {\n\n\t// State\n\tlet [edit, editSet] = useState(false);\n\tlet [answer, answerSet] = useState('');\n\n\t// Effect\n\tuseEffect(() => {\n\t\tanswerSet(props.question.answer);\n\t}, []);\n\n\tfunction editToggle() {\n\t\teditSet(!edit);\n\t}\n\n\tfunction save(answer) {\n\n\t\t// Sent the value to the server\n\t\tRest.update('monolith', 'customer/mip', {\n\t\t\tlanding_id: props.landing,\n\t\t\tref: props.question.ref,\n\t\t\tvalue: answer\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif('data' in res) {\n\n\t\t\t\t// Set the new answer and hide the edit\n\t\t\t\teditSet(false);\n\t\t\t\tanswerSet(answer);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn (\n\t\t<Paper className=\"question\">\n\t\t\t<Box className=\"title\">\n\t\t\t\t<span>{props.question.title}</span>\n\t\t\t\t<Tooltip title=\"Edit the answer\">\n\t\t\t\t\t<EditIcon className=\"fakeAnchor\" onClick={editToggle} />\n\t\t\t\t</Tooltip>\n\t\t\t</Box>\n\t\t\t{edit ?\n\t\t\t\t<QuestionOptions\n\t\t\t\t\tanswer={answer}\n\t\t\t\t\tonCancel={editToggle}\n\t\t\t\t\tonSave={save}\n\t\t\t\t\toptions={props.options}\n\t\t\t\t\ttype={props.question.type}\n\t\t\t\t/>\n\t\t\t:\n\t\t\t\t<Box className=\"answer\">\n\t\t\t\t\t{answer ? answer.split('|').join(', ') : <span className=\"noanswer\">No Answer</span>}\n\t\t\t\t</Box>\n\t\t\t}\n\t\t</Paper>\n\t);\n}\n\n// MIP component\nexport default function MIP(props) {\n\n\t// If we're still loading\n\tif(props.mip === null) {\n\t\treturn <p>Loading...</p>\n\t}\n\n\t// If there's no mip associated\n\telse if(props.mip === 0) {\n\t\treturn <p>No MIP found for this customer</p>\n\t}\n\n\t// Else, show the mip\n\telse {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{props.mip.questions.map((o, i) =>\n\t\t\t\t\t<Question\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\toptions={props.mip.options[o.ref] || null}\n\t\t\t\t\t\tquestion={o}\n\t\t\t\t\t\tlanding={props.mip.landing_id}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n","/**\n * Notes\n *\n * Shows a specific customer's internal notes (soap notes)\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-05-25\n */\n\n// NPM modules\nimport React from 'react';\n\n// Material UI\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\n// Notes component\nexport default function Notes(props) {\n\n\t// If we're still loading\n\tif(props.notes === null) {\n\t\treturn <p>Loading...</p>\n\t}\n\n\t// If there's no notes associated\n\telse if(props.notes === 0 || props.notes.length === 0) {\n\t\treturn <p>No notes found for this customer</p>\n\t}\n\n\t// Else, show the notes\n\telse {\n\t\treturn (\n\t\t\t<TableContainer component={Paper} className=\"notes\">\n\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>Details</TableCell>\n\t\t\t\t\t\t\t<TableCell>Note</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{props.notes.map((o, i) =>\n\t\t\t\t\t\t\t<TableRow key={i}>\n\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t<p><nobr><strong>By: </strong><span>{o.createdBy}</span></nobr></p>\n\t\t\t\t\t\t\t\t\t<p><nobr><strong>At: </strong><span>{o.createdAt}</span></nobr></p>\n\t\t\t\t\t\t\t\t\t<p><nobr><strong>Action: </strong><span>{o.action}</span></nobr></p>\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t{o.note ? o.note.split('\\n').map((s,i) =>\n\t\t\t\t\t\t\t\t\t\ts ? <p key={i}>{s}</p> : ''\n\t\t\t\t\t\t\t\t\t) : ''}\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t);\n\t}\n}\n","/**\n * Clipboard\n *\n * Handles adding text to the clipboard\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2018-11-24\n */\n\n/**\n * Copy\n *\n * Attempts to add text to the clipboard\n *\n * @name copy\n * @access public\n * @param String text The text to add to the clipboard\n * @return Promise\n */\nexport function copy(text) {\n\n\t// If we find the api\n\tif(navigator.clipboard) {\n\t\treturn navigator.clipboard.writeText(text);\n\t}\n\n\t// Else, fallback to copying from a textarea we create ourselves\n\telse {\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\t// Create a text area to place the text in then select it\n\t\t\tlet oEl = document.createElement(\"textarea\");\n\t\t\toEl.value = text;\n\t\t\toEl.style.top = \"0\";\n\t\t\toEl.style.left = \"0\";\n\t\t\toEl.style.position = \"fixed\";\n\t\t\tdocument.body.appendChild(oEl);\n\t\t\toEl.focus();\n\t\t\toEl.select();\n\n\t\t\t// Try to copy the text to the clipboard\n\t\t\tlet bRes = false;\n\t\t\tlet mErr = null;\n\t\t\ttry {\n\t\t\t\tbRes = document.execCommand('copy');\n\t\t\t} catch(err) {\n\t\t\t\tmErr = err;\n\t\t\t}\n\n\t\t\t// Remove the textarea and return the result\n\t\t\tdocument.body.removeChild(oEl);\n\n\t\t\t// Resolve or reject\n\t\t\tif(mErr) {\n\t\t\t\treject(mErr);\n\t\t\t} else {\n\t\t\t\tresolve(bRes);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport default {\n\tcopy: copy\n}\n","/**\n * SMS\n *\n * Shows a specific customer's conversation\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-04-31\n */\n\n// NPM modules\nimport React from 'react';\n\n// Material UI\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\n\n// Material UI Icons\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport PhoneIcon from '@material-ui/icons/Phone';\n\n// Generic modules\nimport Clipboard from '../../../generic/clipboard';\nimport Events from '../../../generic/events';\nimport Rest from '../../../generic/rest';\nimport Tools from '../../../generic/tools';\n\n// Local modules\nimport Utils from '../../../utils';\n\n// Regex\nconst regTplVar = /{([^]+?)}/g\n\n// Message component\nfunction Message(props) {\n\treturn (\n\t\t<div className={\"message \" + props.direction}>\n\t\t\t<div className=\"content\">\n\t\t\t\t{props.content.split('\\n').map((s,i) =>\n\t\t\t\t\t<p key={i}>{s}</p>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"footer\">\n\t\t\t\t{props.direction === 'Outgoing' &&\n\t\t\t\t\t<span className=\"name\">{props.name} at </span>\n\t\t\t\t}\n\t\t\t\t<span className=\"date\">{props.date}</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n// SMS component\nexport default class SMS extends React.Component {\n\n\tconstructor(props) {\n\n\t\t// Call the parent constructor\n\t\tsuper(props);\n\n\t\t// Initial state\n\t\tthis.state = {\n\t\t\tmessages: [],\n\t\t\tstop: false,\n\t\t\ttype: ''\n\t\t}\n\n\t\t// Refs\n\t\tthis.messagesBottom = null;\n\t\tthis.sendEl = null;\n\t\tthis.text = null;\n\n\t\t// Bind methods\n\t\tthis.callPhone = this.callPhone.bind(this);\n\t\tthis.copyPhone = this.copyPhone.bind(this);\n\t\tthis.scrollToBottom = this.scrollToBottom.bind(this);\n\t\tthis.send = this.send.bind(this);\n\t\tthis.textPress = this.textPress.bind(this);\n\t\tthis.useTemplate = this.useTemplate.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\n\t\t// Fetch existing messages\n\t\tif(this.props.user) {\n\t\t\tthis.fetch();\n\t\t}\n\t}\n\n\tcallPhone(event) {\n\t\talert('not implemented yet');\n\t}\n\n\tcopyPhone(event) {\n\t\t// Copy the primary key to the clipboard then notify the user\n\t\tClipboard.copy(this.props.phoneNumber).then(b => {\n\t\t\tEvents.trigger('success', 'Phone number copied to clipboard');\n\t\t});\n\t}\n\n\tfetch(type) {\n\n\t\t// Get the messages from the REST service\n\t\tRest.read('monolith', 'customer/messages', {\n\t\t\tcustomerPhone: this.props.phoneNumber\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Set the state\n\t\t\t\tthis.setState({\n\t\t\t\t\tmessages: res.data.messages,\n\t\t\t\t\tstop: res.data.stop,\n\t\t\t\t\ttype: res.data.type\n\t\t\t\t}, () => {\n\t\t\t\t\tthis.scrollToBottom(type);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className=\"info\">\n\t\t\t\t\t<span className=\"title\">Phone Number: </span>\n\t\t\t\t\t<span className=\"right20\">\n\t\t\t\t\t\t{Utils.nicePhone(this.props.phoneNumber)}\n\t\t\t\t\t\t<Tooltip title=\"Copy Phone Number\">\n\t\t\t\t\t\t\t<IconButton onClick={this.copyPhone}>\n\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t{/*<Tooltip title=\"Call Customer\">\n\t\t\t\t\t\t\t<IconButton onClick={this.callPhone}>\n\t\t\t\t\t\t\t\t<PhoneIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>*/}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"title\">Type: </span>\n\t\t\t\t\t<span className=\"right20\">{Tools.ucfirst(this.state.type)}</span>\n\t\t\t\t\t{this.state.stop &&\n\t\t\t\t\t\t<span className=\"title\" style={{color: 'red'}}>STOP</span>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"messages\">\n\t\t\t\t\t{this.state.messages.map((msg, i) =>\n\t\t\t\t\t\t<Message\n\t\t\t\t\t\t\tdirection={msg.type}\n\t\t\t\t\t\t\tcontent={msg.notes}\n\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\tname={msg.fromName}\n\t\t\t\t\t\t\tdate={msg.createdAt}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className=\"scroll\" ref={el => this.messagesBottom = el} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"templates\">\n\t\t\t\t\t<Select\n\t\t\t\t\t\tclassName='select'\n\t\t\t\t\t\tdisabled={this.state.stop}\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tonChange={this.useTemplate}\n\t\t\t\t\t\tvalue={this.state.value}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<option key={-1} value={-1}>Use template...</option>\n\t\t\t\t\t\t{this.props.templates.map((o,i) =>\n\t\t\t\t\t\t\t<option key={i} value={i}>{o.title}</option>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Select>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"send\">\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tclassName=\"text\"\n\t\t\t\t\t\tdisabled={this.state.stop}\n\t\t\t\t\t\tinputRef={el => this.text = el}\n\t\t\t\t\t\tmultiline\n\t\t\t\t\t\tonKeyPress={this.textPress}\n\t\t\t\t\t\trows={3}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tdisabled={this.state.stop}\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tonClick={this.send}\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t>\n\t\t\t\t\t\tSend\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n\n\tscrollToBottom(type) {\n\t\tthis.messagesBottom.scrollIntoView({ behavior: type });\n\t}\n\n\tsend() {\n\n\t\t// Store the message content\n\t\tlet content = this.text.value;\n\n\t\t// Send the message to the server\n\t\tRest.create('monolith', 'message/outgoing', {\n\t\t\tcontent: content,\n\t\t\tcustomerPhone: this.props.phoneNumber,\n\t\t\ttype: this.state.type,\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\n\t\t\t\t// If the customer requested a stop\n\t\t\t\tif(res.error.code === 1500) {\n\t\t\t\t\tEvents.trigger('error', 'Customer has requested a STOP to SMS messages');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If we're ok\n\t\t\tif(res.data) {\n\n\t\t\t\t// Clear the message\n\t\t\t\tthis.text.value = '';\n\n\t\t\t\t// Clone the current messsages\n\t\t\t\tlet messages = Tools.clone(this.state.messages);\n\n\t\t\t\t// Add the new one to the end\n\t\t\t\tmessages.push({\n\t\t\t\t\ttype: 'Outgoing',\n\t\t\t\t\tnotes: content,\n\t\t\t\t\tfromName: this.props.user.firstName + ' ' + this.props.user.lastName,\n\t\t\t\t\tcreatedAt: Utils.datetime(new Date())\n\t\t\t\t});\n\n\t\t\t\t// Set the new state\n\t\t\t\tthis.setState({\n\t\t\t\t\tmessages: messages\n\t\t\t\t}, () => {\n\t\t\t\t\tthis.scrollToBottom(\"smooth\");\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\ttextPress(event) {\n\t\tif(event.key === 'Enter') {\n\t\t\tthis.send();\n\t\t}\n\t}\n\n\tuseTemplate(event) {\n\n\t\t// Get the option value\n\t\tlet opt = parseInt(event.target.value);\n\n\t\t// If it's the first one, do nothing\n\t\tif(opt === -1) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Get the template\n\t\tlet sContent = this.props.templates[opt].content;\n\n\t\t// Go through any template variables found\n\t\tfor(let lMatch of sContent.matchAll(regTplVar)) {\n\t\t\tlet sReplacement = null;\n\t\t\tswitch(lMatch[1]) {\n\t\t\t\tcase 'billing':\n\t\t\t\t\tif(!this.props.customer) {\n\t\t\t\t\t\tEvent.trigger('error', 'Can not use template without customer data');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsReplacement = this.props.customer.billing.firstName + ' ' + this.props.customer.billing.lastName + '\\n' +\n\t\t\t\t\t\t\t\t\tthis.props.customer.billing.address1 + '\\n';\n\t\t\t\t\tif(this.props.customer.billing.address2 !== null && this.props.customer.billing.address2.trim() !== '') {\n\t\t\t\t\t\tsReplacement += this.props.customer.billing.address2 + '\\n';\n\t\t\t\t\t}\n\t\t\t\t\tsReplacement += this.props.customer.billing.city + ', ' + this.props.customer.billing.state + '\\n' +\n\t\t\t\t\t\t\t\t\tthis.props.customer.billing.country + ', ' + this.props.customer.billing.postalCode;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'billing_first':\n\t\t\t\t\tif(!this.props.customer) {\n\t\t\t\t\t\tEvent.trigger('error', 'Can not use template without customer data');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsReplacement = this.props.customer.billing.firstName;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'billing_last':\n\t\t\t\t\tif(!this.props.customer) {\n\t\t\t\t\t\tEvent.trigger('error', 'Can not use template without customer data');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsReplacement = this.props.customer.billing.lastName;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'email':\n\t\t\t\t\tif(!this.props.customer) {\n\t\t\t\t\t\tEvent.trigger('error', 'Can not use template without customer data');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsReplacement = this.props.customer.email;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'shipping':\n\t\t\t\t\tif(!this.props.customer) {\n\t\t\t\t\t\tEvent.trigger('error', 'Can not use template without customer data');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsReplacement = this.props.customer.shipping.firstName + ' ' + this.props.customer.shipping.lastName + '\\n' +\n\t\t\t\t\t\t\t\t\tthis.props.customer.shipping.address1 + '\\n';\n\t\t\t\t\tif(this.props.customer.shipping.address2 !== null && this.props.customer.shipping.address2.trim() !== '') {\n\t\t\t\t\t\tsReplacement += this.props.customer.shipping.address2 + '\\n';\n\t\t\t\t\t}\n\t\t\t\t\tsReplacement += this.props.customer.shipping.city + ', ' + this.props.customer.shipping.state + '\\n' +\n\t\t\t\t\t\t\t\t\tthis.props.customer.shipping.country + ', ' + this.props.customer.shipping.postalCode;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'shipping_first':\n\t\t\t\t\tif(!this.props.customer) {\n\t\t\t\t\t\tEvent.trigger('error', 'Can not use template without customer data');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsReplacement = this.props.customer.shipping.firstName;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'shipping_last':\n\t\t\t\t\tif(!this.props.customer) {\n\t\t\t\t\t\tEvent.trigger('error', 'Can not use template without customer data');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsReplacement = this.props.customer.shipping.lastName;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tsReplacement = 'UNKNOWN VARIABLE \"' + lMatch[1] + '\"';\n\t\t\t}\n\n\t\t\t// If we found something, replace it\n\t\t\tif(sReplacement !== null) {\n\t\t\t\tsContent = sContent.replace(lMatch[0], sReplacement);\n\t\t\t}\n\t\t}\n\n\t\t// Fill the text field\n\t\tthis.text.value = sContent;\n\t}\n}\n","/**\n * Customer\n *\n * Shows a specific customer's details\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-04-31\n */\n\n// NPM modules\nimport React from 'react';\n\n// Material UI\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\n// Customer components\nimport DoseSpot from './customer/DoseSpot';\nimport KNK from './customer/KNK';\nimport MIP from './customer/MIP';\nimport Notes from './customer/Notes';\nimport SMS from './customer/SMS';\n\n// Generic modules\nimport Events from '../../generic/events';\nimport Rest from '../../generic/rest';\n\n// Local modules\nimport Utils from '../../utils';\n\n// Customer component\nexport default class Customer extends React.Component {\n\n\tconstructor(props) {\n\n\t\t// Call the parent constructor\n\t\tsuper(props);\n\n\t\t// Initial state\n\t\tthis.state = {\n\t\t\tcustomer: null,\n\t\t\tcustomer_id: null,\n\t\t\tmip: null,\n\t\t\tnotes: null,\n\t\t\torders: [],\n\t\t\tpatient_id: null,\n\t\t\tprescriptions: null,\n\t\t\tshipping: [],\n\t\t\tsms_tpls: [],\n\t\t\ttab: 0\n\t\t}\n\n\t\t// Refs\n\t\tthis.smsRef = null;\n\n\t\t// Bind methods\n\t\tthis.newMessage = this.newMessage.bind(this);\n\t\tthis.tabChange = this.tabChange.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\n\t\t// Track any new message\n\t\tEvents.add('newMessage', this.newMessage);\n\n\t\t// If we have a user logged in\n\t\tif(this.props.user) {\n\n\t\t\t// If we have don't have a customer id\n\t\t\tif(this.state.customer_id === null) {\n\t\t\t\tthis.fetchCustomerId();\n\t\t\t}\n\n\t\t\t// Fetch templates\n\t\t\tthis.fetchSMSTemplates();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\t// Stop tracking any new message events\n\t\tEvents.remove('newMessage', this.newMessage);\n\t}\n\n\tfetchCustomerId() {\n\n\t\t// Try to get the customer ID by phone number\n\t\tRest.read('monolith', 'customer/id/byPhone', {\n\t\t\t\"phoneNumber\": this.props.phoneNumber\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif('data' in res) {\n\n\t\t\t\t// Set the customer ID\n\t\t\t\tthis.setState({\n\t\t\t\t\tcustomer_id: res.data\n\t\t\t\t}, () => {\n\t\t\t\t\tif(res.data === 0) {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tcustomer: 0,\n\t\t\t\t\t\t\tmip: 0,\n\t\t\t\t\t\t\tprescriptions: 0\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.fetchKnkCustomer();\n\t\t\t\t\t\tthis.fetchMip();\n\t\t\t\t\t\tthis.fetchNotes();\n\t\t\t\t\t\tthis.fetchPatientId();\n\t\t\t\t\t\tthis.fetchShipping();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tfetchKnkCustomer(id) {\n\n\t\t// Find the customer ID\n\t\tRest.read('konnektive', 'customer', {\n\t\t\tid: this.state.customer_id\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif('data' in res) {\n\n\t\t\t\t// Set the customer ID\n\t\t\t\tthis.setState({\n\t\t\t\t\tcustomer: res.data\n\t\t\t\t}, () => {\n\t\t\t\t\tif(res.data.id) {\n\t\t\t\t\t\tthis.fetchOrders();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tfetchMip() {\n\n\t\t// Find the MIP using the phone number\n\t\tRest.read('monolith', 'customer/mip', {\n\t\t\tcustomerId: this.state.customer_id\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif('data' in res) {\n\n\t\t\t\t// Set the MIP\n\t\t\t\tthis.setState({\n\t\t\t\t\tmip: res.data\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tfetchNotes() {\n\n\t\t// Find the MIP using the phone number\n\t\tRest.read('monolith', 'customer/notes', {\n\t\t\tcustomerId: this.state.customer_id\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif('data' in res) {\n\n\t\t\t\t// Set the MIP\n\t\t\t\tthis.setState({\n\t\t\t\t\tnotes: res.data\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tfetchOrders() {\n\n\t\t// Get the orders from the REST service\n\t\tRest.read('konnektive', 'customer/orders', {\n\t\t\tid: this.state.customer.id,\n\t\t\ttransactions: true\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Set the state\n\t\t\t\tthis.setState({\n\t\t\t\t\torders: res.data\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tfetchPatientId() {\n\n\t\t// Find the MIP using the phone number\n\t\tRest.read('monolith', 'customer/dsid', {\n\t\t\tcustomerId: this.state.customer_id\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif('data' in res) {\n\n\t\t\t\t// If there's an id\n\t\t\t\tif(res.data) {\n\t\t\t\t\tthis.fetchPrescriptions(res.data, this.props.user.dsClinicianId);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({patient_id: 0});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tfetchPrescriptions(id, clinician) {\n\n\t\t// Find the MIP using the phone number\n\t\tRest.read('dosespot', 'patient/prescriptions', {\n\t\t\tpatient_id: parseInt(id, 10),\n\t\t\tclinician_id: parseInt(clinician, 10)\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif('data' in res) {\n\n\t\t\t\t// Set the state\n\t\t\t\tthis.setState({\n\t\t\t\t\tprescriptions: res.data\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tfetchShipping() {\n\n\t\t// Fetch them from the server\n\t\tRest.read('monolith', 'customer/shipping', {\n\t\t\tcustomerId: this.state.customer_id\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Set the state\n\t\t\t\tthis.setState({\n\t\t\t\t\tshipping: res.data\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\t}\n\n\tfetchSMSTemplates() {\n\n\t\t// Fetch them from the server\n\t\tRest.read('csr', 'template/smss', {}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Set the state\n\t\t\t\tthis.setState({\n\t\t\t\t\tsms_tpls: res.data\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tnewMessage() {\n\t\tthis.smsRef.fetch(\"smooth\");\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"customer\">\n\t\t\t\t<AppBar position=\"static\" color=\"default\">\n\t\t\t\t\t<Tabs\n\t\t\t\t\t\tonChange={this.tabChange}\n\t\t\t\t\t\tvalue={this.state.tab}\n\t\t\t\t\t\tvariant=\"fullWidth\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tab label=\"SMS\" />\n\t\t\t\t\t\t<Tab label=\"KNK\" />\n\t\t\t\t\t\t<Tab label=\"MIP\" />\n\t\t\t\t\t\t<Tab label=\"Notes\" />\n\t\t\t\t\t\t<Tab label=\"Rx\" />\n\t\t\t\t\t</Tabs>\n\t\t\t\t</AppBar>\n\t\t\t\t<div className=\"messaging\" style={{display: this.state.tab === 0 ? 'flex' : 'none'}}>\n\t\t\t\t\t<SMS\n\t\t\t\t\t\tref={el => this.smsRef = el}\n\t\t\t\t\t\tcustomer={this.state.customer}\n\t\t\t\t\t\tphoneNumber={this.props.phoneNumber}\n\t\t\t\t\t\ttemplates={this.state.sms_tpls}\n\t\t\t\t\t\tuser={this.props.user}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"konnektive\" style={{display: this.state.tab === 1 ? 'block' : 'none'}}>\n\t\t\t\t\t<KNK\n\t\t\t\t\t\tcustomer={this.state.customer}\n\t\t\t\t\t\torders={this.state.orders}\n\t\t\t\t\t\ttracking={this.state.shipping}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mip\" style={{display: this.state.tab === 2 ? 'block' : 'none'}}>\n\t\t\t\t\t<MIP\n\t\t\t\t\t\tmip={this.state.mip}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"notes\" style={{display: this.state.tab === 3 ? 'block' : 'none'}}>\n\t\t\t\t\t<Notes\n\t\t\t\t\t\tnotes={this.state.notes}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"prescriptions\" style={{display: this.state.tab === 4 ? 'block' : 'none'}}>\n\t\t\t\t\t<DoseSpot\n\t\t\t\t\t\tprescriptions={this.state.prescriptions}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\ttabChange(event, tab) {\n\t\tthis.setState({\"tab\": tab});\n\t}\n}\n","/**\n * Message Summary\n *\n * Shows SMS conversations\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-05-26\n */\n\n// NPM modules\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\n// Material UI\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\n\n// Generic modules\nimport Events from '../../generic/events';\n\n// Regex\nconst reReceived = /^Received at (\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}|\\d{1,2}\\/\\d{1,2}\\/\\d{4}, \\d{1,2}:\\d{2}:\\d{2} [AP]M)\\n([^]+)$/\nconst reSent = /^Sent by (.+) at (\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}|\\d{1,2}\\/\\d{1,2}\\/\\d{4}, \\d{1,2}:\\d{2}:\\d{2} [AP]M)\\n([^]+)$/\n\n// Message component\nfunction Message(props) {\n\n\t// Init the message\n\tlet msg = {}\n\n\t// Split the data based on type\n\tif(props.content.slice(0,8) === 'Received') {\n\t\tlet lMatch = reReceived.exec(props.content);\n\t\tmsg.direction = 'Incoming';\n\t\tmsg.content = lMatch[2];\n\t\tmsg.date = lMatch[1];\n\t} else {\n\t\tlet lMatch = reSent.exec(props.content);\n\t\tmsg.direction = 'Outgoing';\n\t\tmsg.content = lMatch[3];\n\t\tmsg.date = lMatch[2];\n\t\tmsg.from = lMatch[1];\n\t}\n\n\treturn (\n\t\t<div className={\"message \" + msg.direction}>\n\t\t\t<div className=\"content\">\n\t\t\t\t{msg.content.split('\\n').map((s,i) =>\n\t\t\t\t\t<p key={i}>{s}</p>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"footer\">\n\t\t\t\t{msg.direction === 'Outgoing' &&\n\t\t\t\t\t<span className=\"name\">{msg.from} at </span>\n\t\t\t\t}\n\t\t\t\t<span className=\"date\">{msg.date}</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n// MsgSummary component\nexport default function MsgSummary(props) {\n\n\tfunction claim() {\n\t\tEvents.trigger('claimedAdd', props.customerPhone, props.customerName);\n\t}\n\n\tfunction hide() {\n\t\tprops.onHide(props.customerPhone);\n\t}\n\n\treturn (\n\t\t<Paper className={props.numberOfOrders > 0 ? \"summary\" : \"summary sales\"}>\n\t\t\t<Grid container spacing={3}>\n\t\t\t\t<Grid item xs={6} sm={2}>\n\t\t\t\t\t<p><strong>Actions:</strong></p>\n\t\t\t\t\t{props.onHide &&\n\t\t\t\t\t\t<p><Button variant=\"contained\" color=\"primary\" size=\"large\" onClick={hide}>Hide</Button></p>\n\t\t\t\t\t}\n\t\t\t\t\t{props.claimedAt ?\n\t\t\t\t\t\t<p>Claimed by {props.claimedBy} at {props.claimedAt}</p>\n\t\t\t\t\t:\n\t\t\t\t\t\t<p><Link to={\"/customer/\" + props.customerPhone} onClick={claim}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" size=\"large\">Claim</Button>\n\t\t\t\t\t\t</Link></p>\n\t\t\t\t\t}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} sm={2}>\n\t\t\t\t\t<p><strong>Customer:</strong></p>\n\t\t\t\t\t<p>{props.customerName}</p>\n\t\t\t\t\t<p>{props.customerPhone}</p>\n\t\t\t\t\t<p>&nbsp;</p>\n\t\t\t\t\t<p><strong>SMS Received:</strong> <span>{props.totalIncoming}</span></p>\n\t\t\t\t\t<p><strong>SMS Sent:</strong> <span>{props.totalOutGoing === null ? '0' : props.totalOutGoing}</span></p>\n\t\t\t\t\t<p>&nbsp;</p>\n\t\t\t\t\t<p><strong>Orders:</strong> <span>{props.numberOfOrders === null ? '0' : props.numberOfOrders}</span></p>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={8} className=\"messages\">\n\t\t\t\t\t<p><strong>Last 3 messages:</strong></p>\n\t\t\t\t\t{props.lastMsg && props.lastMsg.split('--------\\n').slice(1,4).reverse().map((s,i) =>\n\t\t\t\t\t\t<Message key={i} content={s} />\n\t\t\t\t\t)}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Paper>\n\t);\n}\n","/**\n * Search\n *\n * Searchs for conversations\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-05-26\n */\n\n// NPM modules\nimport React from 'react';\n\n// Material UI\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\n\n// Components\nimport MsgSummary from '../composites/MsgSummary';\n\n// Generic modules\nimport Events from '../../generic/events';\nimport Rest from '../../generic/rest';\nimport Tools from '../../generic/tools';\n\n// Local modules\nimport Utils from '../../utils';\n\n// Search component\nexport default class Search extends React.Component {\n\n\tconstructor(props) {\n\n\t\t// Call the parent constructor\n\t\tsuper(props);\n\n\t\t// Initial state\n\t\tthis.state = {\n\t\t\tcontent: '',\n\t\t\tname: '',\n\t\t\tphone: '',\n\t\t\trecords: [],\n\t\t\tuser: props.user ? true : false\n\t\t}\n\n\t\t// Bind methods\n\t\tthis.contentChange = this.contentChange.bind(this);\n\t\tthis.nameChange = this.nameChange.bind(this);\n\t\tthis.phoneChange = this.phoneChange.bind(this);\n\t\tthis.search = this.search.bind(this);\n\t\tthis.signedIn = this.signedIn.bind(this);\n\t\tthis.signedOut = this.signedOut.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\n\t\t// Track any signedIn/signedOut events\n\t\tEvents.add('signedIn', this.signedIn);\n\t\tEvents.add('signedOut', this.signedOut);\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\t// Stop tracking any signedIn/signedOut events\n\t\tEvents.remove('signedIn', this.signedIn);\n\t\tEvents.remove('signedOut', this.signedOut);\n\t}\n\n\tcontentChange(event) {\n\t\tthis.setState({content: event.target.value});\n\t}\n\n\tnameChange(event) {\n\t\tthis.setState({name: event.target.value});\n\t}\n\n\tphoneChange(event) {\n\t\tthis.setState({phone: event.target.value});\n\t}\n\n\tsearch() {\n\n\t\t// Generate params\n\t\tlet oParams = {};\n\t\tif(this.state.phone.trim() !== '') {\n\t\t\toParams.phone = this.state.phone;\n\t\t}\n\t\tif(this.state.name.trim() !== '') {\n\t\t\toParams.name = this.state.name;\n\t\t}\n\t\tif(this.state.content.trim() !== '') {\n\t\t\toParams.content = this.state.content;\n\t\t}\n\n\t\t// Fetch the unclaimed\n\t\tRest.read('monolith', 'msgs/search', oParams).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Set the state\n\t\t\t\tthis.setState({\n\t\t\t\t\trecords: res.data\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Box id=\"search\">\n\t\t\t\t<Grid container spacing={0} className=\"form\">\n\t\t\t\t\t<Grid item xs={12} sm={6} md={3}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tlabel=\"Phone Number\"\n\t\t\t\t\t\t\tonChange={this.phoneChange}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={this.state.phone}\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={6} md={3}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\tonChange={this.nameChange}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={6} md={3}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tlabel=\"Messages\"\n\t\t\t\t\t\t\tonChange={this.contentChange}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={this.state.content}\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={6} md={3}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={this.search}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t>Search</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Box className=\"summaries\">\n\t\t\t\t\t{this.state.records.map((o,i) =>\n\t\t\t\t\t\t<MsgSummary\n\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t{...o}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t)\n\t}\n\n\tsignedIn(user) {\n\t\tthis.setState({\n\t\t\tuser: true\n\t\t});\n\t}\n\n\tsignedOut() {\n\t\tthis.setState({\n\t\t\trecords: [],\n\t\t\tuser: false\n\t\t});\n\t}\n}\n\n","/**\n * Format Node\n *\n * Handles a single FormatOC node\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-04-10\n */\n\n// NPM modules\nimport React from 'react';\nimport FNode from 'format-oc/Node';\nimport PropTypes from 'prop-types';\n\n// Material UI\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport NativeSelect from '@material-ui/core/NativeSelect';\nimport TextField from '@material-ui/core/TextField';\n\n/**\n * Node Base\n *\n * Base class for all node types\n *\n * @extends React.Component\n */\nclass NodeBase extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\t\"error\": false,\n\t\t\t\"value\": props.value\n\t\t}\n\t\tthis.keyPressed = this.keyPressed.bind(this);\n\t}\n\terror(msg) {\n\t\tthis.setState({\"error\": msg});\n\t}\n\tkeyPressed(event) {\n\t\tif(event.key === 'Enter') {\n\t\t\tthis.props.onEnter();\n\t\t}\n\t}\n\tget value() {\n\t\treturn this.state.value === '' ? null : this.state.value;\n\t}\n\tset value(val) {\n\t\tthis.setState({\"value\": val});\n\t}\n}\n\n// Force props\nNodeBase.propTypes = {\n\t\"display\": PropTypes.object.isRequired,\n\t\"name\": PropTypes.string.isRequired,\n\t\"node\": PropTypes.instanceOf(FNode).isRequired,\n\t\"onEnter\": PropTypes.func.isRequired,\n\t\"value\": PropTypes.any\n}\n\n/**\n * Node Bool\n *\n * Handles values of a true/false state\n *\n * @extends React.Component\n */\nclass NodeBool extends NodeBase {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.change = this.change.bind(this);\n\t}\n\n\tchange(event) {\n\t\t// Impossible for this to be invalid, so just store it\n\t\tthis.setState({\"value\": event.target.checked});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<FormControlLabel\n\t\t\t\tcontrol={<Checkbox\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tchecked={this.state.value}\n\t\t\t\t\t\t\tonChange={this.change}\n\t\t\t\t\t\t/>}\n\t\t\t\tlabel={this.props.display.title}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n/**\n * Node Date\n *\n * Handles values that represent a date\n *\n * @extends NodeBase\n */\nclass NodeDate extends NodeBase {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.change = this.change.bind(this);\n\t}\n\n\tchange(event) {\n\n\t\t// Check the new value is valid\n\t\tlet error = false;\n\t\tif(this.props.validation && !this.props.node.valid(event.target.value)) {\n\t\t\terror = 'Invalid Date';\n\t\t}\n\n\t\t// Update the state\n\t\tthis.setState({\n\t\t\t\"error\": error,\n\t\t\t\"value\": event.target.value\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<TextField\n\t\t\t\terror={this.state.error !== false}\n\t\t\t\thelperText={this.state.error}\n\t\t\t\tonKeyPress={this.keyPressed}\n\t\t\t\tlabel={this.props.display.title}\n\t\t\t\tonChange={this.change}\n\t\t\t\ttype=\"date\"\n\t\t\t\tvalue={this.state.value}\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tInputLabelProps={{\n\t\t\t\t\tshrink: true,\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n/**\n * Node Datetime\n *\n * Handles values that represent a date with a time\n *\n * @extends NodeBase\n */\nclass NodeDatetime extends NodeBase {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.change = this.change.bind(this);\n\t}\n\n\tchange(event) {\n\n\t\t// Get the new value\n\t\tlet newDatetime = event.target.value;\n\n\t\t// Remove the T and add the empty seconds\n\t\tnewDatetime = newDatetime.replace('T', ' ') + ':00';\n\n\t\t// Check if it's valid\n\t\tlet error = false;\n\t\tif(this.props.validation && !this.props.node.valid(newDatetime)) {\n\t\t\terror = 'Invalid Date/Time';\n\t\t}\n\n\t\t// Update the state\n\t\tthis.setState({\n\t\t\t\"error\": error,\n\t\t\t\"value\": newDatetime\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<TextField\n\t\t\t\terror={this.state.error !== false}\n\t\t\t\thelperText={this.state.error}\n\t\t\t\tonKeyPress={this.keyPressed}\n\t\t\t\tlabel={this.props.display.title}\n\t\t\t\tonChange={this.change}\n\t\t\t\ttype=\"datetime-local\"\n\t\t\t\tvalue={this.state.value}\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tInputLabelProps={{\n\t\t\t\t\tshrink: true,\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n/**\n * Node Hidden\n *\n * Handles values that aren't visible\n *\n * @extends NodeBase\n */\nclass NodeHidden extends NodeBase {\n\n\trender() {\n\t\tlet props = {}\n\t\tlet minmax = this.props.node.minmax();\n\t\tif(minmax.minimum) {\n\t\t\tprops.min = minmax.minimum;\n\t\t}\n\t\tif(minmax.maximum) {\n\t\t\tprops.max = minmax.maximum;\n\t\t}\n\n\t\treturn (\n\t\t\t<input\n\t\t\t\ttype=\"hidden\"\n\t\t\t\tvalue={this.state.value}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n/**\n * Node Number\n *\n * Handles values that represent numbers (ints, floats, decimal)\n *\n * @extends NodeBase\n */\nclass NodeNumber extends NodeBase {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.change = this.change.bind(this);\n\t}\n\n\tchange(event) {\n\n\t\t// Check the new value is valid\n\t\tlet error = false;\n\t\tif(this.props.validation && !this.props.node.valid(event.target.value)) {\n\t\t\terror = 'Invalid Value';\n\t\t}\n\n\t\t// Update the state\n\t\tthis.setState({\n\t\t\t\"error\": error,\n\t\t\t\"value\": event.target.value\n\t\t});\n\t}\n\n\trender() {\n\t\tlet props = {}\n\t\tlet minmax = this.props.node.minmax();\n\t\tif(minmax.minimum) {\n\t\t\tprops.min = minmax.minimum;\n\t\t}\n\t\tif(minmax.maximum) {\n\t\t\tprops.max = minmax.maximum;\n\t\t}\n\n\t\treturn (\n\t\t\t<TextField\n\t\t\t\terror={this.state.error !== false}\n\t\t\t\thelperText={this.state.error}\n\t\t\t\tonKeyPress={this.keyPressed}\n\t\t\t\tlabel={this.props.display.title}\n\t\t\t\tonChange={this.change}\n\t\t\t\ttype=\"number\"\n\t\t\t\tvalue={this.state.value}\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tInputLabelProps={{\n\t\t\t\t\tshrink: true,\n\t\t\t\t}}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n/**\n * Node Password\n *\n * Handles values that are strings or string-like\n *\n * @extends NodeBase\n */\nclass NodePassword extends NodeBase {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// If there's a regex, override the node\n\t\tif('regex' in props.display) {\n\t\t\tprops.node.regex(props.display.regex);\n\t\t}\n\n\t\tthis.change = this.change.bind(this);\n\t}\n\n\tchange(event) {\n\n\t\t// Check the new value is valid\n\t\tlet error = false;\n\t\tif(this.props.validation && !this.props.node.valid(event.target.value)) {\n\t\t\terror = 'Invalid Value';\n\t\t}\n\n\t\t// Update the state\n\t\tthis.setState({\n\t\t\t\"error\": error,\n\t\t\t\"value\": event.target.value\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<TextField\n\t\t\t\terror={this.state.error !== false}\n\t\t\t\thelperText={this.state.error}\n\t\t\t\tonKeyPress={this.keyPressed}\n\t\t\t\tlabel={this.props.display.title}\n\t\t\t\tonChange={this.change}\n\t\t\t\ttype=\"password\"\n\t\t\t\tvalue={this.state.value}\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tInputLabelProps={{\n\t\t\t\t\tshrink: true,\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n/**\n * Node Select\n *\n * Handles values that have specific options\n *\n * @extends NodeBase\n */\nclass NodeSelect extends NodeBase {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.change = this.change.bind(this);\n\t}\n\n\tchange(event) {\n\n\t\t// Check the new value is valid\n\t\tlet error = false;\n\t\tif(this.props.validation &&\n\t\t\t!this.props.node.valid(event.target.value === '' ? null : event.target.value)) {\n\t\t\terror = 'Invalid Selection';\n\t\t}\n\n\t\t// Update the state\n\t\tthis.setState({\n\t\t\t\"error\": error,\n\t\t\t\"value\": event.target.value\n\t\t});\n\t}\n\n\trender() {\n\n\t\t// If we have display options\n\t\tlet lDisplayOptions = this.props.display.options;\n\t\tif(!lDisplayOptions) {\n\t\t\tlDisplayOptions = this.props.node.options().map(s => [s, s]);\n\t\t}\n\n\t\t// Init the option elements\n\t\tlet lOpts = [<option key={0} value=''></option>];\n\n\t\t// Add the other options\n\t\tfor(let i in lDisplayOptions) {\n\t\t\tlOpts.push(<option key={i+1} value={lDisplayOptions[i][0]}>{lDisplayOptions[i][1]}</option>);\n\t\t}\n\n\t\treturn (\n\t\t\t<FormControl error={this.state.error !== false}>\n\t\t\t\t<InputLabel className=\"MuiInputLabel-shrink MuiFormLabel-filled\">\n\t\t\t\t\t{this.props.display.title}\n\t\t\t\t</InputLabel>\n\t\t\t\t<NativeSelect\n\t\t\t\t\tonChange={this.change}\n\t\t\t\t\tvalue={this.state.value}\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t>\n\t\t\t\t\t{lOpts}\n\t\t\t\t</NativeSelect>\n\t\t\t\t{this.state.error &&\n\t\t\t\t\t<FormHelperText>{this.state.error}</FormHelperText>\n\t\t\t\t}\n\t\t\t</FormControl>\n\t\t);\n\t}\n}\n\n/**\n * Node Text\n *\n * Handles values that are strings or string-like\n *\n * @extends NodeBase\n */\nclass NodeText extends NodeBase {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// If there's a regex, override the node\n\t\tif('regex' in props.display) {\n\t\t\tprops.node.regex(props.display.regex);\n\t\t}\n\n\t\tthis.change = this.change.bind(this);\n\t}\n\n\tchange(event) {\n\n\t\t// Check the new value is valid\n\t\tlet error = false;\n\t\tif(this.props.validation &&\n\t\t\t!this.props.node.valid(event.target.value === '' ? null : event.target.value)) {\n\t\t\terror = 'Invalid Value';\n\t\t}\n\n\t\t// Update the state\n\t\tthis.setState({\n\t\t\t\"error\": error,\n\t\t\t\"value\": event.target.value\n\t\t});\n\t}\n\n\trender() {\n\t\tlet props = {}\n\t\tlet minmax = this.props.node.minmax();\n\t\tif(minmax.maximum) {\n\t\t\tprops.max = minmax.maximum;\n\t\t}\n\n\t\treturn (\n\t\t\t<TextField\n\t\t\t\terror={this.state.error !== false}\n\t\t\t\thelperText={this.state.error}\n\t\t\t\tonKeyPress={this.keyPressed}\n\t\t\t\tlabel={this.props.display.title}\n\t\t\t\tonChange={this.change}\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={this.state.value === null ? '' : this.state.value}\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tInputLabelProps={{\n\t\t\t\t\tshrink: true,\n\t\t\t\t}}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n/**\n * Node TextArea\n *\n * Handles values that are strings or string-like over multiple lines\n *\n * @extends NodeBase\n */\nclass NodeTextArea extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\t\"error\": false,\n\t\t\t\"value\": props.value\n\t\t}\n\n\t\t// If there's a regex, override the node\n\t\tif('regex' in props.display) {\n\t\t\tprops.node.regex(props.display.regex);\n\t\t}\n\n\t\tthis.change = this.change.bind(this);\n\t}\n\n\tchange(event) {\n\n\t\t// Check the new value is valid\n\t\tlet error = false;\n\t\tif(this.props.validation &&\n\t\t\t!this.props.node.valid(event.target.value === '' ? null : event.target.value)) {\n\t\t\terror = 'Invalid Value';\n\t\t}\n\n\t\t// Update the state\n\t\tthis.setState({\n\t\t\t\"error\": error,\n\t\t\t\"value\": event.target.value\n\t\t});\n\t}\n\n\trender() {\n\t\tlet props = {}\n\t\tlet minmax = this.props.node.minmax();\n\t\tif(minmax.maximum) {\n\t\t\tprops.max = minmax.maximum;\n\t\t}\n\n\t\treturn (\n\t\t\t<TextField\n\t\t\t\terror={this.state.error !== false}\n\t\t\t\thelperText={this.state.error}\n\t\t\t\tonKeyPress={this.keyPressed}\n\t\t\t\tlabel={this.props.display.title}\n\t\t\t\tmultiline\n\t\t\t\tonChange={this.change}\n\t\t\t\trows={3}\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={this.state.value === null ? '' : this.state.value}\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tInputLabelProps={{\n\t\t\t\t\tshrink: true,\n\t\t\t\t}}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t);\n\t}\n\n\terror(msg) {\n\t\tthis.setState({\"error\": msg});\n\t}\n\n\tget value() {\n\t\treturn this.state.value === '' ? null : this.state.value;\n\t}\n\n\tset value(val) {\n\t\tthis.setState({\"value\": val});\n\t}\n}\n\n/**\n * Node Time\n *\n * Handles values that represent a time\n *\n * @extends NodeBase\n */\nclass NodeTime extends NodeBase {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.change = this.change.bind(this);\n\t}\n\n\tchange(event) {\n\n\t\t// Check the new value is valid\n\t\tlet newTime = event.target.value + ':00';\n\t\tlet error = false;\n\n\t\tif(this.props.validation && !this.props.node.valid(newTime)) {\n\t\t\terror = 'Invalid Time';\n\t\t}\n\n\t\t// Update the state\n\t\tthis.setState({\n\t\t\t\"error\": error,\n\t\t\t\"value\": newTime\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<TextField\n\t\t\t\terror={this.state.error !== false}\n\t\t\t\thelperText={this.state.error}\n\t\t\t\tonKeyPress={this.keyPressed}\n\t\t\t\tlabel={this.props.display.title}\n\t\t\t\tonChange={this.change}\n\t\t\t\ttype=\"time\"\n\t\t\t\tvalue={this.state.value}\n\t\t\t\tInputLabelProps={{\n\t\t\t\t\tshrink: true,\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n// NodeComponent\nexport default class NodeComponent extends React.Component {\n\n\tconstructor(props) {\n\n\t\t// Call parent\n\t\tsuper(props);\n\n\t\t// Get the react display properties\n\t\tlet oReact = props.node.special('react') || {}\n\n\t\t// If the title is not set\n\t\tif(!('title' in oReact)) {\n\t\t\toReact.title = props.name;\n\t\t}\n\n\t\t// Init state\n\t\tthis.state = {\n\t\t\t\"display\": oReact,\n\t\t\t\"type\": 'type' in oReact ?\n\t\t\t\t\t\toReact.type :\n\t\t\t\t\t\tthis.defaultType(props.node),\n\t\t\t\"value\": props.value || null\n\t\t}\n\n\t\t// Child elements\n\t\tthis.el = null;\n\t}\n\n\terror(msg) {\n\t\tthis.el.error(msg);\n\t}\n\n\t// Figure out the element type based on the default values of the node\n\tdefaultType(node) {\n\n\t\t// If it has options, it's a select, no question\n\t\tif(node.options()) {\n\t\t\treturn 'NodeSelect';\n\t\t}\n\n\t\t// Get the node type\n\t\tlet sType = node.type();\n\n\t\t// Figure it out by type\n\t\tswitch(sType) {\n\n\t\t\t// If it's a string type at its core\n\t\t\tcase 'any':\n\t\t\tcase 'base64':\n\t\t\tcase 'ip':\n\t\t\tcase 'json':\n\t\t\tcase 'md5':\n\t\t\tcase 'string':\n\t\t\tcase 'uuid':\n\t\t\tcase 'uuid4':\n\t\t\t\treturn 'text';\n\n\t\t\t// If it's a number\n\t\t\tcase 'decimal':\n\t\t\tcase 'float':\n\t\t\tcase 'int':\n\t\t\tcase 'price':\n\t\t\tcase 'timestamp':\n\t\t\tcase 'uint':\n\t\t\t\treturn 'number';\n\n\t\t\t// Else it's its own type\n\t\t\tcase 'bool':\n\t\t\tcase 'date':\n\t\t\tcase 'datetime':\n\t\t\tcase 'time':\n\t\t\t\treturn sType;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error('invalid type in format/Node');\n\t\t}\n\t}\n\n\trender() {\n\n\t\t// Get the component name based on the type\n\t\tlet ElName = null;\n\t\tswitch(this.state.type) {\n\t\t\tcase 'bool': ElName = NodeBool; break;\n\t\t\tcase 'date': ElName = NodeDate; break;\n\t\t\tcase 'datetime': ElName = NodeDatetime; break;\n\t\t\tcase 'hidden': ElName = NodeHidden; break;\n\t\t\tcase 'number': ElName = NodeNumber; break;\n\t\t\tcase 'password': ElName = NodePassword; break;\n\t\t\tcase 'select': ElName = NodeSelect; break;\n\t\t\tcase 'text': ElName = NodeText; break;\n\t\t\tcase 'textarea': ElName = NodeTextArea; break;\n\t\t\tcase 'time': ElName = NodeTime; break;\n\t\t\tdefault:\n\t\t\t\tthrow new Error('invalid type in format/Node');\n\t\t}\n\n\t\treturn (\n\t\t\t<ElName\n\t\t\t\tdisplay={this.state.display}\n\t\t\t\tonEnter={this.props.onEnter}\n\t\t\t\tname={this.props.name}\n\t\t\t\tnode={this.props.node}\n\t\t\t\tref={el => this.el = el}\n\t\t\t\tvalue={this.state.value || ''}\n\t\t\t\tvalidation={this.props.validation}\n\t\t\t/>\n\t\t);\n\t}\n\n\tget value() {\n\t\treturn this.el.value;\n\t}\n\n\tset value(val) {\n\t\tthis.el.value = val;\n\t}\n}\n\n// Force props\nNodeComponent.propTypes = {\n\t\"name\": PropTypes.string.isRequired,\n\t\"node\": PropTypes.instanceOf(FNode).isRequired,\n\t\"onEnter\": PropTypes.func.isRequired,\n\t\"value\": PropTypes.any,\n\t\"validation\": PropTypes.bool\n}\n\n// Default props\nNodeComponent.defaultProps = {\n\t\"validation\": true\n}\n","/**\n * Format Parent\n *\n * Handles groups of FormatOC nodes\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-04-10\n */\n\n// NPM modules\nimport FormatOC from 'format-oc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n// Material UI\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n\n// Components\nimport NodeComponent from './Node';\n\n// Generic modules\nimport Events from '../../generic/events';\n\n// ParentComponent\nexport default class ParentComponent extends React.Component {\n\n\tconstructor(props) {\n\n\t\t// Call parent\n\t\tsuper(props);\n\n\t\t// Init state\n\t\tthis.state = this.generateState();\n\n\t\t// Init the field refs\n\t\tthis.fields = {};\n\t}\n\n\terror(errors) {\n\t\tfor(var k in errors) {\n\t\t\tif(k in this.fields) {\n\t\t\t\tthis.fields[k].error(errors[k]);\n\t\t\t} else {\n\t\t\t\tEvents.trigger('error', 'Field not found error: ' + errors[k] + ' (' + k + ')');\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateState() {\n\n\t\t// Init the return\n\t\tlet lElements = [];\n\n\t\t// Get the React special section if there is one\n\t\tlet oReact = this.props.parent.special('react') || {};\n\n\t\t// Init the order\n\t\tlet lOrder = null;\n\n\t\t// If we have the specific type\n\t\tif(this.props.type in oReact) {\n\t\t\tlOrder = oReact[this.props.type];\n\t\t}\n\n\t\t// Else, if we have the generic 'order'\n\t\telse if('order' in oReact) {\n\t\t\tlOrder = oReact['order'];\n\t\t}\n\n\t\t// Else, just use the keys\n\t\telse {\n\t\t\tlOrder = this.props.parent.keys();\n\t\t}\n\n\t\t// Go through each node\n\t\tfor(let i in lOrder) {\n\n\t\t\t// Get the node\n\t\t\tlet oChild = this.props.parent.get(lOrder[i]);\n\n\t\t\t// Check what kind of node it is\n\t\t\tswitch(oChild.class()) {\n\t\t\t\tcase 'Parent':\n\t\t\t\t\tlElements.push(\n\t\t\t\t\t\t<Grid key={i} item xs={12}>\n\t\t\t\t\t\t\t<ParentComponent\n\t\t\t\t\t\t\t\tref={el => this.fields[lOrder[i]] = el}\n\t\t\t\t\t\t\t\tname={lOrder[i]}\n\t\t\t\t\t\t\t\tnode={oChild}\n\t\t\t\t\t\t\t\tonEnter={this.props.onEnter}\n\t\t\t\t\t\t\t\tvalue={this.props.value[lOrder[i]] || {}}\n\t\t\t\t\t\t\t\tvalidation={this.props.validation}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Node':\n\t\t\t\t\tlElements.push(\n\t\t\t\t\t\t<Grid key={i} item xs={12} sm={6} lg={3}>\n\t\t\t\t\t\t\t<NodeComponent\n\t\t\t\t\t\t\t\tref={el => this.fields[lOrder[i]] = el}\n\t\t\t\t\t\t\t\tname={lOrder[i]}\n\t\t\t\t\t\t\t\tnode={oChild}\n\t\t\t\t\t\t\t\tonEnter={this.props.onEnter}\n\t\t\t\t\t\t\t\tvalue={this.props.value[lOrder[i]] || null}\n\t\t\t\t\t\t\t\tvalidation={this.props.validation}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('Invalid Node type in parent of child: ' + lOrder[i]);\n\t\t\t}\n\t\t}\n\n\t\t// Return the list of elements we generated\n\t\treturn {\n\t\t\t\"elements\": lElements,\n\t\t\t\"order\": lOrder,\n\t\t\t\"title\": oReact.title || false\n\t\t};\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Grid container spacing={2} className={\"nodeParent _\" + this.props.name}>\n\t\t\t\t{this.state.title &&\n\t\t\t\t\t<Typography variant=\"h6\">{this.state.title}</Typography>\n\t\t\t\t}\n\t\t\t\t{this.state.elements}\n\t\t\t</Grid>\n\t\t);\n\t}\n\n\tvalid() {\n\n\t\t// Valid?\n\t\tlet bValid = true;\n\n\t\t// Go through each item and validate it\n\t\tfor(let k of this.state.order) {\n\n\t\t\t// Get the node\n\t\t\tlet oNode = this.props.parent.get(k);\n\n\t\t\t// Check if the current value is valid\n\t\t\tif(!oNode.valid(this.fields[k].value)) {\n\t\t\t\tthis.fields[k].error(oNode.validation_failures[0][1]);\n\t\t\t\tbValid = false;\n\t\t\t}\n\t\t}\n\n\t\t// Return valid state\n\t\treturn bValid;\n\t}\n\n\tget value() {\n\n\t\t// Init the return value\n\t\tlet oRet = {};\n\n\t\t// Go through all the fields used\n\t\tfor(let k in this.fields) {\n\n\t\t\t// Get the new value\n\t\t\tlet newVal = this.fields[k].value;\n\n\t\t\t// If we're in update mode\n\t\t\tif(this.props.type === 'update') {\n\n\t\t\t\t// If the value is different\n\t\t\t\tif(this.props.value[k] !== newVal) {\n\t\t\t\t\toRet[k] = newVal;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Else we're in insert or search mode\n\t\t\telse {\n\n\t\t\t\t// If the value isn't null, add it\n\t\t\t\tif(newVal !== null) {\n\t\t\t\t\toRet[k] = newVal;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Return the values\n\t\treturn oRet;\n\t}\n\n\tset value(val) {\n\t\tfor(let k in val) {\n\t\t\tthis.fields[k].value = val[k];\n\t\t}\n\t}\n}\n\n// Valid props\nParentComponent.propTypes = {\n\t\"name\": PropTypes.string.isRequired,\n\t\"onEnter\": PropTypes.func,\n\t\"parent\": PropTypes.instanceOf(FormatOC.Parent).isRequired,\n\t\"type\": PropTypes.oneOf(['insert', 'search', 'update']).isRequired,\n\t\"value\": PropTypes.object,\n\t\"validation\": PropTypes.bool\n}\n\n// Default props\nParentComponent.defaultProps = {\n\t\"onEnter\": () => {},\n\t\"value\": {},\n\t\"validation\": true\n}\n","/**\n * Form\n *\n * Handles creating forms using Format Trees\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-04-10\n */\n\n// NPM modules\nimport FormatOC from 'format-oc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n// Material UI\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\n// Format\nimport Parent from './Parent';\n\n// Generic\nimport Events from '../../generic/events';\nimport Rest from '../../generic/rest';\n\n// Local\nimport Utils from '../../utils';\n\n// FormComponent\nexport default class FormComponent extends React.Component {\n\n\tconstructor(props) {\n\n\t\t// Call parent\n\t\tsuper(props);\n\n\t\t// Get the display options\n\t\tlet oReact = props.tree.special('react') || {};\n\n\t\t// If there's no primary, assume '_id'\n\t\tif(!('primary' in oReact)) {\n\t\t\toReact.primary = '_id';\n\t\t}\n\n\t\t// Set the initial state\n\t\tthis.state = {\n\t\t\t\"key\": ('value' in props && oReact.primary in props.value) ?\n\t\t\t\t\t\tprops.value[oReact.primary] : null,\n\t\t\t\"primary\": oReact.primary,\n\t\t\t\"name\": props.name || props.tree._name,\n\t\t\t\"type\": props['type']\n\t\t}\n\n\t\t// Init the parent\n\t\tthis.parent = null;\n\n\t\t// Bind methods\n\t\tthis.create = this.create.bind(this);\n\t\tthis.update = this.update.bind(this);\n\t}\n\n\tcreate() {\n\n\t\t// Make sure each child of the parent is valid\n\t\tif(!this.parent.valid()) {\n\t\t\tEvents.trigger('error', 'Please fix invalid data');\n\t\t\tthis.parent.error(Utils.errorTree(this.props.tree.validation_failures));\n\t\t\treturn;\n\t\t}\n\n\t\t// Fetch the values from the parent\n\t\tlet oValues = this.parent.value;\n\n\t\t// Send the data to the service via rest\n\t\tRest.create(this.props.service,\n\t\t\t\t\tthis.props.noun,\n\t\t\t\t\toValues\n\t\t).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tif(res.error.code === 1001) {\n\t\t\t\t\tthis.parent.error(res.error.msg);\n\t\t\t\t} else if(res.error.code in this.props.errors) {\n\t\t\t\t\tEvents.trigger('error', this.props.errors[res.error.code]);\n\t\t\t\t} else {\n\t\t\t\t\tEvents.trigger('error', JSON.stringify(res.error.msg));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Show the popup\n\t\t\t\tEvents.trigger('success', 'Created new ' + this.state.name);\n\n\t\t\t\t// If there's a success callback\n\t\t\t\tif(this.props.success) {\n\n\t\t\t\t\t// Add the returned key to the existing data\n\t\t\t\t\toValues[this.state.primary] = res.data;\n\n\t\t\t\t\t// Pass it all to the callback\n\t\t\t\t\tthis.props.success(oValues);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\trender() {\n\t\tlet title, submit, callback;\n\t\tif(this.state.type === 'create') {\n\t\t\ttitle = 'Create ' + this.state.name;\n\t\t\tsubmit = 'Create';\n\t\t\tcallback = this.create;\n\t\t} else {\n\t\t\ttitle = 'Update ' + this.state.name;\n\t\t\tsubmit = 'Save';\n\t\t\tcallback = this.update;\n\t\t}\n\n\t\treturn (\n\t\t\t<Box className={\"form _\" + this.state.name}>\n\t\t\t\t<Typography variant=\"h5\">{title}</Typography>\n\t\t\t\t<Parent\n\t\t\t\t\tref={el => this.parent = el}\n\t\t\t\t\tname=\"user\"\n\t\t\t\t\tonEnter={callback}\n\t\t\t\t\tparent={this.props.tree}\n\t\t\t\t\ttype={this.state.type}\n\t\t\t\t\tvalue={this.props.value}\n\t\t\t\t/>\n\t\t\t\t<Box className=\"actions\">\n\t\t\t\t\t{this.props.cancel &&\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={this.props.cancel}>Cancel</Button>\n\t\t\t\t\t}\n\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={callback}>{submit}</Button>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tupdate() {\n\n\t\t// Make sure each child of the parent is valid\n\t\tif(!this.parent.valid()) {\n\t\t\tEvents.trigger('error', 'Please fix invalid data');\n\t\t\tthis.parent.error(Utils.errorTree(this.props.tree.validation_failures));\n\t\t\treturn;\n\t\t}\n\n\t\t// Fetch the values from the parent\n\t\tlet oValues = this.parent.value;\n\n\t\t// Add the primary key\n\t\toValues[this.state.primary] = this.state.key;\n\n\t\t// Send the data to the service via rest\n\t\tRest.update(this.props.service,\n\t\t\t\t\tthis.props.noun,\n\t\t\t\t\toValues\n\t\t).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tif(res.error.code === 1001) {\n\t\t\t\t\tthis.parent.error(res.error.msg);\n\t\t\t\t} else if(res.error.code in this.props.errors) {\n\t\t\t\t\tEvents.trigger('error', this.props.errors[res.error.code]);\n\t\t\t\t} else {\n\t\t\t\t\tEvents.trigger('error', JSON.stringify(res.error.msg));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Show the popup\n\t\t\t\tEvents.trigger('success', 'Saved ' + this.state.name);\n\n\t\t\t\t// If there's a success callback, call it with the returned data\n\t\t\t\tif(this.props.success) {\n\t\t\t\t\tthis.props.success(oValues);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\n// Valid props\nFormComponent.propTypes = {\n\t\"cancel\": PropTypes.func,\n\t\"errors\": PropTypes.object,\n\t\"name\": PropTypes.string,\n\t\"noun\": PropTypes.string.isRequired,\n\t\"service\": PropTypes.string.isRequired,\n\t\"success\": PropTypes.func,\n\t\"tree\": PropTypes.instanceOf(FormatOC.Tree).isRequired,\n\t\"type\": PropTypes.oneOf(['create', 'update']).isRequired,\n\t\"value\": PropTypes.object\n}\n\n// Default props\nFormComponent.defaultProps = {\n\t\"errors\": {},\n\t\"value\": {}\n}\n","/**\n * Results\n *\n * Handles generating results\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-04-18\n */\n\n// NPM modules\nimport FormatOC from 'format-oc';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { createObjectCsvStringifier } from 'csv-writer';\n\n// Material UI\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Tooltip from '@material-ui/core/Tooltip';\n\n// Material UI icons\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport EditIcon from '@material-ui/icons/Edit';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport IconButton from '@material-ui/core/IconButton';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\n\n// Components\nimport FormComponent from './Form';\n\n// Generic modules\nimport Clipboard from '../../generic/clipboard';\nimport Events from '../../generic/events';\nimport Rest from '../../generic/rest';\nimport Tools from '../../generic/tools';\n\n// Local modules\nimport Utils from '../../utils';\n\n// PaginationActionsComponent\nfunction PaginationActionsComponent(props) {\n\n\tfunction first(event) {\n\t\tprops.onChangePage(event, 0);\n\t}\n\n\tfunction last(event) {\n\t\tprops.onChangePage(event, Math.max(0, Math.ceil(props.count / props.rowsPerPage) - 1));\n\t}\n\n\tfunction next(event) {\n\t\tprops.onChangePage(event, props.page + 1);\n\t}\n\n\tfunction prev(event) {\n\t\tprops.onChangePage(event, props.page - 1);\n\t}\n\n\treturn (\n\t\t<div style={{flexShrink: 0}}>\n\t\t\t<IconButton\n\t\t\t\tonClick={first}\n\t\t\t\tdisabled={props.page === 0}\n\t\t\t\taria-label=\"First Page\"\n\t\t\t>\n\t\t\t\t<FirstPageIcon />\n\t\t\t</IconButton>\n\t\t\t<IconButton\n\t\t\t\tonClick={prev}\n\t\t\t\tdisabled={props.page === 0}\n\t\t\t\taria-label=\"Previous Page\"\n\t\t\t>\n\t\t\t\t<KeyboardArrowLeft />\n\t\t\t</IconButton>\n\t\t\t<IconButton\n\t\t\t\tonClick={next}\n\t\t\t\tdisabled={props.page >= Math.max(0, Math.ceil(props.count / props.rowsPerPage) - 1)}\n\t\t\t\taria-label=\"Next Page\"\n\t\t\t>\n\t\t\t\t<KeyboardArrowRight />\n\t\t\t</IconButton>\n\t\t\t<IconButton\n\t\t\t\tonClick={last}\n\t\t\t\tdisabled={props.page >= Math.max(0, Math.ceil(props.count / props.rowsPerPage) - 1)}\n\t\t\t\taria-label=\"Last Page\"\n\t\t\t>\n\t\t\t\t<LastPageIcon />\n\t\t\t</IconButton>\n\t\t</div>\n\t);\n}\n\n// ResultsRowComponent\nfunction ResultsRowComponent(props) {\n\n\t// State\n\tlet [edit, editSet] = useState(false);\n\n\tfunction action(event) {\n\n\t\t// Get the index\n\t\tlet iIndex = event.currentTarget.dataset.index;\n\n\t\t// Call the appropriate callback\n\t\tprops.actions[iIndex].callback(\n\t\t\tprops.data[props.info.primary]\n\t\t);\n\t}\n\n\tfunction copyKey() {\n\n\t\t// Copy the primary key to the clipboard then notify the user\n\t\tClipboard.copy(props.data[props.info.primary]).then(b => {\n\t\t\tEvents.trigger('success', 'Record key copied to clipboard');\n\t\t});\n\t}\n\n\tfunction editSuccess(values) {\n\n\t\t// Clone the data\n\t\tlet ret = Tools.clone(props.data);\n\n\t\t// For each changed value\n\t\tfor(let k in values) {\n\t\t\tret[k] = values[k];\n\t\t}\n\n\t\t// Let the parent know\n\t\tprops.onEdit(ret);\n\n\t\t// Turn off edit mode\n\t\teditSet(false);\n\t}\n\n\tfunction editToggle() {\n\t\teditSet(!edit);\n\t}\n\n\tfunction remove() {\n\t\tprops.remove(props.data[props.info.primary]);\n\t}\n\n\tlet lCells = [];\n\tfor(let i in props.fields) {\n\t\tlCells.push(\n\t\t\t<TableCell key={i}>\n\t\t\t\t{props.fields[i] === props.info.primary ? (\n\t\t\t\t\t<Tooltip title=\"Copy Record Key\">\n\t\t\t\t\t\t<VpnKeyIcon className=\"fakeAnchor\" onClick={copyKey} />\n\t\t\t\t\t</Tooltip>\n\t\t\t\t):\n\t\t\t\t\tprops.data[props.fields[i]].includes('\\n') ?\n\t\t\t\t\t\tprops.data[props.fields[i]].split('\\n').map((s,i) =>\n\t\t\t\t\t\t\t<p key={i}>{s}</p>\n\t\t\t\t\t\t) :\n\t\t\t\t\t\tprops.data[props.fields[i]]\n\t\t\t\t}\n\t\t\t</TableCell>\n\t\t);\n\t}\n\n\t// Add the actions\n\tlCells.push(\n\t\t<TableCell key={-1} className=\"actions\" align=\"right\">\n\t\t\t<Tooltip title=\"Edit the record\">\n\t\t\t\t<EditIcon className=\"fakeAnchor\" onClick={editToggle} />\n\t\t\t</Tooltip>\n\t\t\t{props.remove &&\n\t\t\t\t<Tooltip title=\"Delete the record\">\n\t\t\t\t\t<DeleteIcon className=\"fakeAnchor\" onClick={remove} />\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t\t{props.actions.map((a, i) =>\n\t\t\t\t<Tooltip key={i} title={a.tooltip}>\n\t\t\t\t\t<a.icon className=\"fakeAnchor\" data-index={i} onClick={action} />\n\t\t\t\t</Tooltip>\n\t\t\t)}\n\t\t</TableCell>\n\t);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<TableRow>\n\t\t\t\t{lCells}\n\t\t\t</TableRow>\n\t\t\t{edit &&\n\t\t\t\t<TableRow>\n\t\t\t\t\t<TableCell colSpan={props.fields.length + 1}>\n\t\t\t\t\t\t<FormComponent\n\t\t\t\t\t\t\tcancel={editToggle}\n\t\t\t\t\t\t\terrors={props.errors}\n\t\t\t\t\t\t\tnoun={props.info.noun}\n\t\t\t\t\t\t\tservice={props.info.service}\n\t\t\t\t\t\t\tsuccess={editSuccess}\n\t\t\t\t\t\t\ttree={props.info.tree}\n\t\t\t\t\t\t\ttype=\"update\"\n\t\t\t\t\t\t\tvalue={props.data}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TableCell>\n\t\t\t\t</TableRow>\n\t\t\t}\n\t\t</React.Fragment>\n\t);\n}\n\n// Valid props\nResultsRowComponent.propTypes = {\n\t\"data\": PropTypes.object.isRequired,\n\t\"errors\": PropTypes.object.isRequired,\n\t\"fields\": PropTypes.array.isRequired,\n\t\"info\": PropTypes.object.isRequired,\n\t\"onEdit\": PropTypes.func.isRequired,\n\t\"remove\": PropTypes.oneOfType([PropTypes.func, PropTypes.bool]).isRequired\n}\n\n// ResultsComponent\nexport default class ResultsComponent extends React.Component {\n\n\tconstructor(props) {\n\n\t\t// Call parent\n\t\tsuper(props);\n\n\t\t// Get the display options\n\t\tlet oReact = props.tree.special('react') || {};\n\n\t\t// If there's no primary, assume '_id'\n\t\tif(!('primary' in oReact)) {\n\t\t\toReact.primary = '_id';\n\t\t}\n\n\t\t// If we have the specific type\n\t\tif('results' in oReact) {\n\t\t\tthis.fields = oReact['results'];\n\t\t}\n\n\t\t// Else, if we have the generic 'order'\n\t\telse if('order' in oReact) {\n\t\t\tthis.fields = oReact['order'];\n\t\t}\n\n\t\t// Else, just use the keys\n\t\telse {\n\t\t\tthis.fields = this.props.parent.keys();\n\t\t}\n\n\t\t// Generate the list of titles\n\t\tthis.titles = [];\n\t\tfor(let k of this.fields) {\n\t\t\tlet oNode = props.tree.get(k).special('react');\n\t\t\tthis.titles.push({\n\t\t\t\t\"key\": k,\n\t\t\t\t\"text\": ('title' in oNode) ? oNode.title : k\n\t\t\t});\n\t\t}\n\n\t\t// Store rest info\n\t\tthis.info = {\n\t\t\t\"noun\": props.noun,\n\t\t\t\"primary\": oReact.primary,\n\t\t\t\"service\": props.service,\n\t\t\t\"tree\": props.tree\n\t\t}\n\n\t\t// Initial state\n\t\tthis.state = {\n\t\t\t\"data\": props.data,\n\t\t\t\"order\": \"desc\",\n\t\t\t\"orderBy\": props.orderBy,\n\t\t\t\"page\": 0,\n\t\t\t\"rowsPerPage\": parseInt(localStorage.getItem('rowsPerPage')) || 25\n\t\t}\n\n\t\t// Bind methods\n\t\tthis.exportCsv = this.exportCsv.bind(this);\n\t\tthis.orderChange = this.orderChange.bind(this);\n\t\tthis.pageChange = this.pageChange.bind(this);\n\t\tthis.perPageChange = this.perPageChange.bind(this);\n\t\tthis.recordChanged = this.recordChanged.bind(this);\n\t\tthis.recordRemoved = this.recordRemoved.bind(this);\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif(prevProps.data !== this.props.data) {\n\t\t\tthis.setState({data: this.props.data});\n\t\t}\n\t}\n\n\texportCsv() {\n\n\t\t// If there's no data, do nothing\n\t\tif(this.state.data.length === 0) {\n\t\t\tEvents.trigger('error', 'No data to export to CSV');\n\t\t\treturn;\n\t\t}\n\n\t\t// Generate the header\n\t\tlet lHeader = [];\n\t\tfor(let k of Object.keys(this.state.data[0])) {\n\t\t\tlHeader.push({\"id\": k, \"title\": k});\n\t\t}\n\n\t\t// Create the CSV write instance\n\t\tlet csvStringifier = createObjectCsvStringifier({\n\t\t\t\"header\": lHeader\n\t\t})\n\n\t\t// Generate the \"file\"\n\t\tlet csv = 'data:text/csv;charset=utf-8,' + encodeURI(\n\t\t\tcsvStringifier.getHeaderString() +\n\t\t\tcsvStringifier.stringifyRecords(this.state.data)\n\t\t);\n\n\t\t// Generate a date to append to the filename\n\t\tlet date = new Date();\n\n\t\t// Export by generating and clicking a fake link\n\t\tlet link = document.createElement('a');\n\t\tlink.setAttribute('href', csv);\n\t\tlink.setAttribute('download', this.props.tree._name + '_' + date.toISOString() + '.csv');\n\t\tdocument.body.appendChild(link);\n\t\tlink.click();\n\t\tdocument.body.removeChild(link);\n\t}\n\n\torderChange(event) {\n\n\t\t// Save the new orderBy\n\t\tlet orderBy = event.currentTarget.dataset.key;\n\t\tlet order = '';\n\n\t\t// If it hasn't actually changed, switch it, else use the order we have\n\t\tif(orderBy === this.state.orderBy) {\n\t\t\torder = this.state.order === 'asc' ? 'desc' : 'asc';\n\t\t} else {\n\t\t\torder = this.state.order;\n\t\t}\n\n\t\t// Save the new state\n\t\tthis.setState({\n\t\t\t\"data\": this.sortData(Tools.clone(this.state.data), order, orderBy),\n\t\t\t\"order\": order,\n\t\t\t\"orderBy\": orderBy\n\t\t});\n\t}\n\n\tpageChange(event, page) {\n\t\tthis.setState({\"page\": page})\n\t}\n\n\tperPageChange(event) {\n\t\tlocalStorage.setItem('rowsPerPage', event.target.value);\n\t\tthis.setState({\n\t\t\t\"rowsPerPage\": parseInt(event.target.value),\n\t\t\t\"page\": 0\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<TableContainer className=\"results\">\n\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t{this.titles.map(title => (\n\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\tkey={title.key}\n\t\t\t\t\t\t\t\t\tsortDirection={this.state.orderBy === title.key ? this.state.order : false}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\t\t\t\tactive={this.state.orderBy === title.key}\n\t\t\t\t\t\t\t\t\t\tdirection={this.state.orderBy === title.key ? this.state.order : 'asc'}\n\t\t\t\t\t\t\t\t\t\tdata-key={title.key}\n\t\t\t\t\t\t\t\t\t\tonClick={this.orderChange}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{title.text}\n\t\t\t\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t<Tooltip title=\"Export CSV\">\n\t\t\t\t\t\t\t\t\t<DescriptionIcon className=\"fakeAnchor\" onClick={this.exportCsv} />\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{(this.state.rowsPerPage > 0 ?\n\t\t\t\t\t\t\tthis.state.data.slice(\n\t\t\t\t\t\t\t\tthis.state.page * this.state.rowsPerPage,\n\t\t\t\t\t\t\t\tthis.state.page * this.state.rowsPerPage + this.state.rowsPerPage\n\t\t\t\t\t\t\t) : this.state.data).map(row =>\n\t\t\t\t\t\t\t<ResultsRowComponent\n\t\t\t\t\t\t\t\tactions={this.props.actions}\n\t\t\t\t\t\t\t\tdata={row}\n\t\t\t\t\t\t\t\terrors={this.props.errors}\n\t\t\t\t\t\t\t\tfields={this.fields}\n\t\t\t\t\t\t\t\tinfo={this.info}\n\t\t\t\t\t\t\t\tkey={row[this.info.primary]}\n\t\t\t\t\t\t\t\tonEdit={this.recordChanged}\n\t\t\t\t\t\t\t\tremove={this.props.remove ? this.recordRemoved : false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t\t<TableFooter>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TablePagination\n\t\t\t\t\t\t\t\tcolSpan={this.titles.length + 1}\n\t\t\t\t\t\t\t\tcount={this.state.data.length}\n\t\t\t\t\t\t\t\tonChangePage={this.pageChange}\n\t\t\t\t\t\t\t\tonChangeRowsPerPage={this.perPageChange}\n\t\t\t\t\t\t\t\tpage={this.state.page}\n\t\t\t\t\t\t\t\trowsPerPage={this.state.rowsPerPage}\n\t\t\t\t\t\t\t\trowsPerPageOptions={[10, 20, 50, { label: 'All', value: -1 }]}\n\t\t\t\t\t\t\t\tActionsComponent={PaginationActionsComponent}\n\t\t\t\t\t\t\t\tSelectProps={{\n\t\t\t\t\t\t\t\t\tinputProps: { 'aria-label': 'rows per page' },\n\t\t\t\t\t\t\t\t\tnative: true,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableFooter>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t);\n\t}\n\n\trecordChanged(record) {\n\n\t\t// Clone the state data\n\t\tlet data = Tools.clone(this.state.data);\n\n\t\t// Find the index\n\t\tlet iIndex = Tools.afindi(\n\t\t\tdata,\n\t\t\tthis.info.primary,\n\t\t\trecord[this.info.primary]\n\t\t);\n\n\t\t// If found\n\t\tif(iIndex > -1) {\n\n\t\t\t// Update the data\n\t\t\tdata[iIndex] = record;\n\n\t\t\t// Save the new state\n\t\t\tthis.setState({\"data\": data});\n\t\t}\n\t}\n\n\trecordRemoved(key) {\n\n\t\tconsole.log('recordRemoved', key);\n\n\t\t// Send the key to the service via rest\n\t\tRest.delete(this.props.service, this.props.noun, {\n\t\t\t[this.info.primary]: key\n\t\t}).then(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tif(res.error.code in this.props.errors) {\n\t\t\t\t\tEvents.trigger('error', this.props.errors[res.error.code]);\n\t\t\t\t} else {\n\t\t\t\t\tEvents.trigger('error', JSON.stringify(res.error.msg));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Let the parent know\n\t\t\t\tthis.props.remove(key);\n\t\t\t}\n\t\t});\n\t}\n\n\tsortData(data, order, orderBy) {\n\n\t\t// Sort it based on the order and orderBy\n\t\tdata.sort((a,b) => {\n\n\t\t\t// If the values are the same\n\t\t\tif(a[orderBy] === b[orderBy]) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\tif(a[orderBy] > b[orderBy]) {\n\t\t\t\t\treturn order === 'asc' ? -1 : 1;\n\t\t\t\t} else {\n\t\t\t\t\treturn order === 'asc' ? 1 : -1;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// Return the sorted data\n\t\treturn data;\n\t}\n}\n\n// Valid props\nResultsComponent.propTypes = {\n\t\"actions\": PropTypes.array,\n\t\"errors\": PropTypes.object,\n\t\"noun\": PropTypes.string.isRequired,\n\t\"orderBy\": PropTypes.string.isRequired,\n\t\"remove\": PropTypes.func,\n\t\"service\": PropTypes.string.isRequired,\n\t\"tree\": PropTypes.instanceOf(FormatOC.Tree).isRequired,\n}\n\n// Default props\nResultsComponent.defaultProps = {\n\t\"actions\": [],\n\t\"errors\": {},\n\t\"remove\": false\n}\n","/**\n * Templates\n *\n * Created, edit, and delete templates used in auto-generating SMS messages\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-05-17\n */\n\n// NPM modules\nimport Tree from 'format-oc/Tree'\nimport React, { useState, useEffect } from 'react';\n\n// Material UI\n//import AppBar from '@material-ui/core/AppBar';\nimport Box from '@material-ui/core/Box';\nimport IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\n//import Tab from '@material-ui/core/Tab';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n//import Tabs from '@material-ui/core/Tabs';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\n\n// Material UI Icons\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\n\n// Format Components\nimport ResultsComponent from '../format/Results';\nimport FormComponent from '../format/Form';\n\n// Generic modules\nimport Events from '../../generic/events';\nimport Rest from '../../generic/rest';\nimport Tools from '../../generic/tools';\n\n// Local modules\nimport Utils from '../../utils';\n\n// Definitions\n//import TemplateEmailDef from '../../definitions/csr/tpl_email';\nimport TemplateSMSDef from '../../definitions/csr/tpl_sms';\n\n// Generate the template Trees\n//const TemplateEmailTree = new Tree(TemplateEmailDef);\nconst TemplateSMSTree = new Tree(TemplateSMSDef);\n\n/**\n * Generic Templates\n *\n * Wraps common code that both tabs use\n *\n * @name GenericTemplates\n * @extends React.Component\n */\nfunction GenericTemplates(props) {\n\n\t// State\n\tlet [templates, templatesSet] = useState(null);\n\tlet [create, createSet] = useState(false);\n\n\t// Effects\n\tuseEffect(() => {\n\n\t\t// If we have a user\n\t\tif(props.user) {\n\t\t\tfetchTemplates();\n\t\t} else {\n\t\t\ttemplatesSet(null);\n\t\t}\n\n\t}, [props.user]); // React to user changes\n\n\tfunction createSuccess(template) {\n\t\tconsole.log(template);\n\t\ttemplatesSet(templates => {\n\t\t\tlet ret = Tools.clone(templates);\n\t\t\tret.unshift(template);\n\t\t\treturn ret;\n\t\t});\n\t\tcreateSet(false);\n\t}\n\n\t// Toggle the create form\n\tfunction createToggle() {\n\t\tcreateSet(b => !b);\n\t}\n\n\t// Fetch all the templates from the server\n\tfunction fetchTemplates() {\n\n\t\t// Fetch all templates\n\t\tRest.read('csr', props.noun + 's', {}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Set the templates\n\t\t\t\ttemplatesSet(res.data);\n\t\t\t}\n\t\t});\n\t}\n\n\t// Remove a template\n\tfunction removeTemplate(_id) {\n\n\t\t// Use the current templates to set the new templates\n\t\ttemplatesSet(templates => {\n\n\t\t\t// Clone the templates\n\t\t\tlet ret = Tools.clone(templates);\n\n\t\t\t// Find the index\n\t\t\tlet iIndex = Tools.afindi(ret, '_id', _id);\n\n\t\t\t// If one is found, remove it\n\t\t\tif(iIndex > -1) {\n\t\t\t\tret.splice(iIndex, 1);\n\t\t\t}\n\n\t\t\t// Return the new templates\n\t\t\treturn ret;\n\t\t});\n\t}\n\n\treturn (\n\t\t<Box className=\"templates\">\n\t\t\t<Box className=\"pageHeader\">\n\t\t\t\t<Typography variant=\"h3\" className=\"title\">{props.title}</Typography>\n\t\t\t\t<Tooltip title=\"Create new template\">\n\t\t\t\t\t<IconButton onClick={createToggle}>\n\t\t\t\t\t\t<AddCircleIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Tooltip>\n\t\t\t</Box>\n\t\t\t{create &&\n\t\t\t\t<Paper className=\"padded\">\n\t\t\t\t\t<FormComponent\n\t\t\t\t\t\tcancel={createToggle}\n\t\t\t\t\t\terrors={{1200: \"Email already in use\", 1204: \"Password not strong enough\"}}\n\t\t\t\t\t\tname={props.createTitle}\n\t\t\t\t\t\tnoun={props.noun}\n\t\t\t\t\t\tservice=\"csr\"\n\t\t\t\t\t\tsuccess={createSuccess}\n\t\t\t\t\t\ttree={props.tree}\n\t\t\t\t\t\ttype=\"create\"\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\t\t\t}\n\n\t\t\t{templates === null ?\n\t\t\t\t<div>Loading...</div>\n\t\t\t:\n\t\t\t\t<ResultsComponent\n\t\t\t\t\tdata={templates}\n\t\t\t\t\tnoun={props.noun}\n\t\t\t\t\torderBy=\"title\"\n\t\t\t\t\tremove={removeTemplate}\n\t\t\t\t\tservice=\"csr\"\n\t\t\t\t\ttree={props.tree}\n\t\t\t\t/>\n\t\t\t}\n\n\t\t</Box>\n\t);\n}\n\n/**\n * Templates\n *\n * Wrapper for email and SMS templates\n *\n * @name Templates\n * @extends React.Component\n */\nexport default function Templates(props) {\n\n\t// State\n\t//let [tab, tabSet] = useState(0);\n\n\t// When selected tab changes\n\t//function tabChange(event, tab) {\n\t//\ttabSet(tab);\n\t//}\n\n\t// Return the rendered component\n\treturn (\n\t\t<div id=\"templates\">\n\t\t\t{/*<AppBar position=\"static\" color=\"default\">\n\t\t\t\t<Tabs\n\t\t\t\t\tonChange={tabChange}\n\t\t\t\t\tvalue={tab}\n\t\t\t\t\tvariant=\"fullWidth\"\n\t\t\t\t>\n\t\t\t\t\t<Tab label=\"SMS\" />\n\t\t\t\t\t<Tab label=\"Email\" />\n\t\t\t\t</Tabs>\n\t\t\t</AppBar>*/}\n\t\t\t<div className=\"sms\" style={{display: 'flex'}}>\n\t\t\t\t<GenericTemplates\n\t\t\t\t\tcreateTitle=\"SMS Template\"\n\t\t\t\t\tnoun=\"template/sms\"\n\t\t\t\t\ttitle=\"SMS Templates\"\n\t\t\t\t\ttree={TemplateSMSTree}\n\t\t\t\t\tuser={props.user}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{/*<div className=\"email\" style={{display: tab === 1 ? 'block' : 'none'}}>\n\t\t\t\t<GenericTemplates\n\t\t\t\t\tcreateTitle=\"Email Template\"\n\t\t\t\t\tnoun=\"template/email\"\n\t\t\t\t\ttitle=\"Email Templates\"\n\t\t\t\t\ttree={TemplateEmailTree}\n\t\t\t\t\tuser={props.user}\n\t\t\t\t/>\n\t\t\t</div>*/}\n\t\t\t<div className=\"legend\">\n\t\t\t\t<Typography variant=\"h4\">Legend</Typography>\n\t\t\t\t<Table>\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>Variable</TableCell>\n\t\t\t\t\t\t\t<TableCell>Replacement</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>{\"{billing}\"}</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\tJohn Smith<br />\n\t\t\t\t\t\t\t\t123 Main Street<br />\n\t\t\t\t\t\t\t\tApt #4<br />\n\t\t\t\t\t\t\t\tBoonville, NC<br />\n\t\t\t\t\t\t\t\tUS, 27011\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>{\"{billing_first}\"}</TableCell>\n\t\t\t\t\t\t\t<TableCell>John</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>{\"{billing_last}\"}</TableCell>\n\t\t\t\t\t\t\t<TableCell>Smith</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>{\"{email}\"}</TableCell>\n\t\t\t\t\t\t\t<TableCell>jsmith@gmail.com</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>{\"{shipping}\"}</TableCell>\n\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\tClark Kent<br />\n\t\t\t\t\t\t\t\t123 Main Street<br />\n\t\t\t\t\t\t\t\tMetropolis, NY<br />\n\t\t\t\t\t\t\t\tUS, 10001\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>{\"{shipping_first}\"}</TableCell>\n\t\t\t\t\t\t\t<TableCell>Clark</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>{\"{shipping_last}\"}</TableCell>\n\t\t\t\t\t\t\t<TableCell>Kent</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * Unclaimed\n *\n * Shows open conversations not claimed by any agent\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-04-30\n */\n\n// NPM modules\nimport React from 'react';\n\n// Material UI\nimport Box from '@material-ui/core/Box';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Grid from '@material-ui/core/Grid';\n\n// Components\nimport MsgSummary from '../composites/MsgSummary';\n\n// Generic modules\nimport Events from '../../generic/events';\nimport Rest from '../../generic/rest';\nimport Tools from '../../generic/tools';\n\n// Local modules\nimport Utils from '../../utils';\n\n// Unclaimed component\nexport default class Unclaimed extends React.Component {\n\n\tconstructor(props) {\n\n\t\t// Call the parent constructor\n\t\tsuper(props);\n\n\t\t// Initial state\n\t\tthis.state = {\n\t\t\tfiltered: [],\n\t\t\trecords: [],\n\t\t\tsales: Utils.safeLocalStorage('unclaimed_sales', 'Y') === 'Y',\n\t\t\tsalesNoSent: Utils.safeLocalStorage('unclaimed_sales_no_sent', 'Y') === 'Y',\n\t\t\tsupport: Utils.safeLocalStorage('unclaimed_support', 'Y') === 'Y',\n\t\t\tuser: props.user ? true : false\n\t\t}\n\n\t\t// Bind methods\n\t\tthis.filter = this.filter.bind(this);\n\t\tthis.hide = this.hide.bind(this);\n\t\tthis.refresh = this.refresh.bind(this);\n\t\tthis.signedIn = this.signedIn.bind(this);\n\t\tthis.signedOut = this.signedOut.bind(this);\n\t\tthis.supportChanged = this.supportChanged.bind(this);\n\t\tthis.salesChanged = this.salesChanged.bind(this);\n\t\tthis.salesNoSentChanged = this.salesNoSentChanged.bind(this);\n\t}\n\n\tcheckLocalStorage(name) {\n\t\tlet value = localStorage.getItem(name);\n\t\tif(!value) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn value === 'Y';\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\n\t\t// Track any signedIn/signedOut events\n\t\tEvents.add('signedIn', this.signedIn);\n\t\tEvents.add('signedOut', this.signedOut);\n\t\tEvents.add('Unclaimed', this.refresh);\n\n\t\t// If we have a user\n\t\tif(this.state.user) {\n\t\t\tthis.fetch();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\t// Stop tracking any signedIn/signedOut events\n\t\tEvents.remove('signedIn', this.signedIn);\n\t\tEvents.remove('signedOut', this.signedOut);\n\t\tEvents.remove('Unclaimed', this.refresh);\n\t}\n\n\thide(number) {\n\n\t\t// Mark the conversation as hidden on the server side\n\t\tRest.update('monolith', 'customer/hide', {\n\t\t\tcustomerPhone: number\n\t\t}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Clone the current records\n\t\t\t\tlet records = Tools.clone(this.state.records);\n\n\t\t\t\t// Find the record to hide\n\t\t\t\tlet iIndex = Tools.afindi(records, 'customerPhone', number);\n\n\t\t\t\t// If we found it\n\t\t\t\tif(iIndex > -1) {\n\n\t\t\t\t\t// Remove it\n\t\t\t\t\trecords.splice(iIndex, 1);\n\n\t\t\t\t\t// Set the new state\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\trecords: records\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tfetch() {\n\n\t\t// Fetch the unclaimed\n\t\tRest.read('monolith', 'msgs/unclaimed', {}).done(res => {\n\n\t\t\t// If there's an error\n\t\t\tif(res.error && !Utils.restError(res.error)) {\n\t\t\t\tEvents.trigger('error', JSON.stringify(res.error));\n\t\t\t}\n\n\t\t\t// If there's a warning\n\t\t\tif(res.warning) {\n\t\t\t\tEvents.trigger('warning', JSON.stringify(res.warning));\n\t\t\t}\n\n\t\t\t// If there's data\n\t\t\tif(res.data) {\n\n\t\t\t\t// Set the state\n\t\t\t\tthis.setState({\n\t\t\t\t\trecords: res.data,\n\t\t\t\t\tfiltered: this.filter(res.data, this.state)\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tfilter(records, state) {\n\n\t\t// New filtered\n\t\tlet filtered = [];\n\n\t\t// Go through each record\n\t\tfor(let o of records) {\n\n\t\t\t// If the record has orders\n\t\t\tif(o.numberOfOrders > 0) {\n\n\t\t\t\t// If we have the support state\n\t\t\t\tif(state.support) {\n\t\t\t\t\tfiltered.push(o);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Record has no orders and we have the sales state\n\t\t\telse if(state.sales) {\n\n\t\t\t\t// If it has sent messages\n\t\t\t\tif(o.totalOutGoing > 0 || state.salesNoSent) {\n\t\t\t\t\tfiltered.push(o);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Return the list\n\t\treturn filtered;\n\t}\n\n\trefresh() {\n\t\tthis.fetch();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Box id=\"unclaimed\">\n\t\t\t\t<Grid container spacing={0} className=\"header\">\n\t\t\t\t\t<Grid item xs={12} sm={6} md={4} className=\"filters\">\n\t\t\t\t\t\t<span className=\"title\">Filters: </span>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={<Checkbox color=\"primary\" checked={this.state.support} onChange={this.supportChanged} name=\"supportFilter\" />}\n\t\t\t\t\t\t\tlabel=\"Support\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span style={{marginRight: '5px'}}>/ </span>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={<Checkbox color=\"primary\" checked={this.state.sales} onChange={this.salesChanged} name=\"salesFilter\" />}\n\t\t\t\t\t\t\tlabel=\"Sales\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span style={{marginRight: '5px'}}>( </span>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={<Checkbox color=\"primary\" checked={this.state.salesNoSent} onChange={this.salesNoSentChanged} name=\"supportFilter\" />}\n\t\t\t\t\t\t\tlabel=\"No Sent\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span>)</span>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={6} md={4} className=\"count\">\n\t\t\t\t\t\t<span className=\"title\">Count: </span><span>{this.state.filtered.length}</span>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Box className=\"summaries\">\n\t\t\t\t\t{this.state.filtered.map((o,i) =>\n\t\t\t\t\t\t<MsgSummary\n\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\tonHide={this.hide}\n\t\t\t\t\t\t\t{...o}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t)\n\t}\n\n\tsalesChanged(event) {\n\n\t\t// Get the new value\n\t\tlet bChecked = event.target.checked;\n\n\t\t// Init the new state\n\t\tlet oState = Tools.clone(this.state);\n\t\toState.sales = bChecked;\n\n\t\t// If it's not checked\n\t\tif(!bChecked) {\n\t\t\toState.salesNoSent = false;\n\t\t}\n\n\t\t// Generate the new filter messages\n\t\toState.filtered = this.filter(this.state.records, oState);\n\n\t\t// Set the new state\n\t\tthis.setState(oState, () => {\n\t\t\tlocalStorage.setItem('unclaimed_sales', bChecked ? 'Y' : 'N');\n\t\t\tif(!bChecked) {\n\t\t\t\tlocalStorage.setItem('unclaimed_sales_no_sent', 'N');\n\t\t\t}\n\t\t});\n\t}\n\n\tsalesNoSentChanged(event) {\n\n\t\t// Get the new value\n\t\tlet bChecked = event.target.checked;\n\n\t\t// Init the new state\n\t\tlet oState = Tools.clone(this.state);\n\t\toState.salesNoSent = bChecked;\n\n\t\t// If it's not checked\n\t\tif(bChecked) {\n\t\t\toState.sales = true;\n\t\t}\n\n\t\t// Generate the new filter messages\n\t\toState.filtered = this.filter(this.state.records, oState);\n\n\t\tthis.setState(oState, () => {\n\t\t\tlocalStorage.setItem('unclaimed_sales_no_sent', this.state.salesNoSent ? 'Y' : 'N')\n\t\t\tif(bChecked) {\n\t\t\t\tlocalStorage.setItem('unclaimed_sales', 'Y');\n\t\t\t}\n\t\t});\n\t}\n\n\tsignedIn(user) {\n\t\tthis.setState({\n\t\t\tuser: true\n\t\t}, () => {\n\t\t\tthis.fetch();\n\t\t})\n\t}\n\n\tsignedOut() {\n\t\tthis.setState({\n\t\t\trecords: [],\n\t\t\tuser: false\n\t\t});\n\t}\n\n\tsupportChanged(event) {\n\n\t\t// Get the new value\n\t\tlet bChecked = event.target.checked;\n\n\t\t// Init the new state\n\t\tlet oState = Tools.clone(this.state);\n\t\toState.support = bChecked;\n\n\t\t// Generate the new filter messages\n\t\toState.filtered = this.filter(this.state.records, oState);\n\n\t\tthis.setState(oState, () => {\n\t\t\tlocalStorage.setItem('unclaimed_support', this.state.support ? 'Y' : 'N')\n\t\t});\n\t}\n}\n\n","/**\n * Site\n *\n * Primary entry into React app\n *\n * @author Chris Nasr <bast@maleexcel.com>\n * @copyright MaleExcelMedical\n * @created 2020-04-04\n */\n\n// NPM modules\nimport React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport { SnackbarProvider } from 'notistack';\n\n// Generic modules\nimport Events from '../generic/events';\nimport Rest from '../generic/rest';\n\n// Composite component modules\nimport Alerts from './composites/Alerts';\nimport Header from './composites/Header';\nimport Signin from './composites/Signin';\n// Page component modules\nimport Customer from './pages/Customer';\nimport Search from './pages/Search';\nimport Templates from './pages/Templates';\nimport Unclaimed from './pages/Unclaimed';\n\n// Local modules\nimport { LoaderHide, LoaderShow } from './composites/Loader';\n\n// css\nimport '../sass/site.scss';\n\n// Init the rest services\nRest.init(process.env.REACT_APP_MEMS_DOMAIN, xhr => {\n\n\t// If we got a 401, let everyone know we signed out\n\tif(xhr.status === 401) {\n\t\tEvents.trigger('error', 'You have been signed out!');\n\t\tEvents.trigger('signedOut');\n\t} else {\n\t\tEvents.trigger('error',\n\t\t\t'Unable to connect to ' + process.env.REACT_APP_MEMS_DOMAIN +\n\t\t\t': ' + xhr.statusText +\n\t\t\t' (' + xhr.status + ')');\n\t}\n}, (method, url, data) => {\n\tLoaderShow();\n}, (method, url, data) => {\n\tLoaderHide();\n});\n\n// If we have a session, fetch the user\nif(Rest.session()) {\n\tRest.read('monolith', 'session', {}).done(res => {\n\t\tRest.read('monolith', 'user', {}).done(res => {\n\t\t\tEvents.trigger('signedIn', res.data);\n\t\t});\n\t});\n}\n\n// Make Events available from console\nwindow.Events = Events;\n\n// Hide the loader\nLoaderHide();\n\n// Site\nclass Site extends React.Component {\n\n\tconstructor(props) {\n\n\t\t// Call the parent constructor\n\t\tsuper(props);\n\n\t\t// Initialise the state\n\t\tthis.state = {\n\t\t\t\"user\": false\n\t\t};\n\n\t\t// Class vars\n\t\tthis.iNewMessages = 0;\n\n\t\t// Refs\n\t\tthis.header = null;\n\n\t\t// Binds methods to this instance\n\t\tthis.signedIn = this.signedIn.bind(this);\n\t\tthis.signedOut = this.signedOut.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\n\t\t// Track any signedIn/signedOut events\n\t\tEvents.add('signedIn', this.signedIn);\n\t\tEvents.add('signedOut', this.signedOut);\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\t// Stop tracking any signedIn/signedOut events\n\t\tEvents.remove('signedIn', this.signedIn);\n\t\tEvents.remove('signedOut', this.signedOut);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<SnackbarProvider maxSnack={3}>\n\t\t\t\t<Alerts />\n\t\t\t\t<BrowserRouter>\n\t\t\t\t\t<div id=\"site\">\n\t\t\t\t\t\t{this.state.user === false &&\n\t\t\t\t\t\t\t<Signin />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Header\n\t\t\t\t\t\t\tpath={window.location.pathname}\n\t\t\t\t\t\t\tref={el => this.header = el}\n\t\t\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div id=\"content\">\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route path=\"/unclaimed\">\n\t\t\t\t\t\t\t\t\t<Unclaimed\n\t\t\t\t\t\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t\t<Route path=\"/search\">\n\t\t\t\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t\t<Route path=\"/templates\">\n\t\t\t\t\t\t\t\t\t<Templates\n\t\t\t\t\t\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\tpath=\"/customer/:phoneNumber\"\n\t\t\t\t\t\t\t\t\tcomponent={({match: {params:{phoneNumber}}}) => (\n\t\t\t\t\t\t\t\t\t\t<Customer key={phoneNumber} phoneNumber={phoneNumber} user={this.state.user} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</BrowserRouter>\n\t\t\t</SnackbarProvider>\n\t\t);\n\t}\n\n\tsignedIn(user) {\n\n\t\t// Set the user\n\t\tthis.setState({\"user\": user});\n\t}\n\n\tsignedOut() {\n\n\t\t// Remove the user\n\t\tthis.setState({\"user\": false});\n\t}\n}\n\n// Export the app\nexport default Site;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Site from './components/Site';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Site />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}